!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(p,e){function t(e,t){return t.toUpperCase()}var n=[],c=n.slice,g=n.concat,a=n.push,o=n.indexOf,i={},r=i.toString,m=i.hasOwnProperty,v={},_=p.document,s="2.1.4",C=function(e,t){return new C.fn.init(e,t)},l=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/^-ms-/,d=/-([\da-z])/gi;function h(e){var t="length"in e&&e.length,n=C.type(e);return"function"!==n&&!C.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e))}C.fn=C.prototype={jquery:s,constructor:C,selector:"",length:0,toArray:function(){return c.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:c.call(this)},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return C.each(this,e,t)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:a,sort:n.sort,splice:n.splice},C.extend=C.fn.extend=function(){var e,t,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||C.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(i=e[t])&&(u&&i&&(C.isPlainObject(i)||(o=C.isArray(i)))?(r=o?(o=!1,n&&C.isArray(n)?n:[]):n&&C.isPlainObject(n)?n:{},s[t]=C.extend(u,r,i)):void 0!==i&&(s[t]=i));return s},C.extend({expando:"jQuery"+(s+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===C.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!C.isArray(e)&&0<=e-parseFloat(e)+1},isPlainObject:function(e){return"object"===C.type(e)&&!e.nodeType&&!C.isWindow(e)&&!(e.constructor&&!m.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[r.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=C.trim(e))&&(1===e.indexOf("use strict")?((t=_.createElement("script")).text=e,_.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(u,"ms-").replace(d,t)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,o=e.length,r=h(e);if(n){if(r)for(;i<o&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(r)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(l,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(h(Object(e))?C.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:o.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,s=!n;o<r;o++)!t(e[o],o)!=s&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,r=e.length,s=[];if(h(e))for(;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return g.apply([],s)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),C.isFunction(e))return i=c.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(c.call(arguments)))}).guid=e.guid=e.guid||C.guid++,o},now:Date.now,support:v}),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var f=function(n){function d(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function i(){v()}var e,p,b,r,o,g,h,m,w,u,c,v,E,s,_,y,a,f,C,x="sizzle"+1*new Date,k=n.document,A=0,S=0,l=re(),T=re(),O=re(),N=function(e,t){return e===t&&(c=!0),0},P={}.hasOwnProperty,t=[],I=t.pop,D=t.push,L=t.push,R=t.slice,M=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",B=F.replace("w","w#"),W="\\["+$+"*("+F+")(?:"+$+"*([*^$|!~]?=)"+$+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+$+"*\\]",H=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",z=new RegExp($+"+","g"),q=new RegExp("^"+$+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$+"+$","g"),U=new RegExp("^"+$+"*,"+$+"*"),K=new RegExp("^"+$+"*([>+~]|"+$+")"+$+"*"),G=new RegExp("="+$+"*([^\\]'\"]*?)"+$+"*\\]","g"),Y=new RegExp(H),V=new RegExp("^"+B+"$"),Q={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$+"*(even|odd|(([+-]|)(\\d*)n|)"+$+"*(?:([+-]|)"+$+"*(\\d+)|))"+$+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+$+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$+"*((?:-\\d)?\\d*)"+$+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,ee=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,te=/[+~]/,ne=/'|\\/g,ie=new RegExp("\\\\([\\da-f]{1,6}"+$+"?|("+$+")|.)","ig");try{L.apply(t=R.call(k.childNodes),k.childNodes),t[k.childNodes.length].nodeType}catch(e){L={apply:t.length?function(e,t){D.apply(e,R.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function oe(e,t,n,i){var o,r,s,a,l,u,c,d,h,f;if((t?t.ownerDocument||t:k)!==E&&v(t),n=n||[],a=(t=t||E).nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&_){if(11!==a&&(o=ee.exec(e)))if(s=o[1]){if(9===a){if(!(r=t.getElementById(s))||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(s))&&C(t,r)&&r.id===s)return n.push(r),n}else{if(o[2])return L.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&p.getElementsByClassName)return L.apply(n,t.getElementsByClassName(s)),n}if(p.qsa&&(!y||!y.test(e))){if(d=c=x,h=t,f=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=g(e),(c=t.getAttribute("id"))?d=c.replace(ne,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+ge(u[l]);h=te.test(e)&&fe(t.parentNode)||t,f=u.join(",")}if(f)try{return L.apply(n,h.querySelectorAll(f)),n}catch(e){}finally{c||t.removeAttribute("id")}}}return m(e.replace(q,"$1"),t,n,i)}function re(){var i=[];return function e(t,n){return i.push(t+" ")>b.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function se(e){return e[x]=!0,e}function ae(e){var t=E.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),i=e.length;i--;)b.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function de(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function he(s){return se(function(r){return r=+r,se(function(e,t){for(var n,i=s([],e.length,r),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},v=oe.setDocument=function(e){var t,n,l=e?e.ownerDocument||e:k;return l!==E&&9===l.nodeType&&l.documentElement?(s=(E=l).documentElement,(n=l.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",i,!1):n.attachEvent&&n.attachEvent("onunload",i)),_=!o(l),p.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=ae(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=Z.test(l.getElementsByClassName),p.getById=ae(function(e){return s.appendChild(e).id=x,!l.getElementsByName||!l.getElementsByName(x).length}),p.getById?(b.find.ID=function(e,t){if(void 0!==t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},b.filter.ID=function(e){var t=e.replace(ie,d);return function(e){return e.getAttribute("id")===t}}):(delete b.find.ID,b.filter.ID=function(e){var n=e.replace(ie,d);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),b.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},b.find.CLASS=p.getElementsByClassName&&function(e,t){if(_)return t.getElementsByClassName(e)},a=[],y=[],(p.qsa=Z.test(l.querySelectorAll))&&(ae(function(e){s.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+$+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+$+"*(?:value|"+j+")"),e.querySelectorAll("[id~="+x+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||y.push(".#.+[+~]")}),ae(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+$+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(p.matchesSelector=Z.test(f=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&ae(function(e){p.disconnectedMatch=f.call(e,"div"),f.call(e,"[s!='']:x"),a.push("!=",H)}),y=y.length&&new RegExp(y.join("|")),a=a.length&&new RegExp(a.join("|")),t=Z.test(s.compareDocumentPosition),C=t||Z.test(s.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===k&&C(k,e)?-1:t===l||t.ownerDocument===k&&C(k,t)?1:u?M(u,e)-M(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,s=[e],a=[t];if(!o||!r)return e===l?-1:t===l?1:o?-1:r?1:u?M(u,e)-M(u,t):0;if(o===r)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ue(s[i],a[i]):s[i]===k?-1:a[i]===k?1:0},l):E},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==E&&v(e),t=t.replace(G,"='$1']"),p.matchesSelector&&_&&(!a||!a.test(t))&&(!y||!y.test(t)))try{var n=f.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<oe(t,E,null,[e]).length},oe.contains=function(e,t){return(e.ownerDocument||e)!==E&&v(e),C(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==E&&v(e);var n=b.attrHandle[t.toLowerCase()],i=n&&P.call(b.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==i?i:p.attributes||!_?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],i=0,o=0;if(c=!p.detectDuplicates,u=!p.sortStable&&e.slice(0),e.sort(N),c){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return u=null,e},r=oe.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(b=oe.selectors={cacheLength:50,createPseudo:se,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ie,d),e[3]=(e[3]||e[4]||e[5]||"").replace(ie,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=g(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ie,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=l[e+" "];return t||(t=new RegExp("(^|"+$+")"+e+"("+$+"|$)"))&&l(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(e){var t=oe.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===o:"!="===i?t!==o:"^="===i?o&&0===t.indexOf(o):"*="===i?o&&-1<t.indexOf(o):"$="===i?o&&t.slice(-o.length)===o:"~="===i?-1<(" "+t.replace(z," ")+" ").indexOf(o):"|="===i&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,e,t,p,g){var m="nth"!==f.slice(0,3),v="last"!==f.slice(-4),_="of-type"===e;return 1===p&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,o,r,s,a,l,u=m!=v?"nextSibling":"previousSibling",c=e.parentNode,d=_&&e.nodeName.toLowerCase(),h=!n&&!_;if(c){if(m){for(;u;){for(r=e;r=r[u];)if(_?r.nodeName.toLowerCase()===d:1===r.nodeType)return!1;l=u="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&h){for(a=(i=(o=c[x]||(c[x]={}))[f]||[])[0]===A&&i[1],s=i[0]===A&&i[2],r=a&&c.childNodes[a];r=++a&&r&&r[u]||(s=a=0)||l.pop();)if(1===r.nodeType&&++s&&r===e){o[f]=[A,a,s];break}}else if(h&&(i=(e[x]||(e[x]={}))[f])&&i[0]===A)s=i[1];else for(;(r=++a&&r&&r[u]||(s=a=0)||l.pop())&&((_?r.nodeName.toLowerCase()!==d:1!==r.nodeType)||!++s||(h&&((r[x]||(r[x]={}))[f]=[A,s]),r!==e)););return(s-=g)===p||s%p==0&&0<=s/p}}},PSEUDO:function(e,r){var t,s=b.pseudos[e]||b.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return s[x]?s(r):1<s.length?(t=[e,e,"",r],b.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var n,i=s(e,r),o=i.length;o--;)e[n=M(e,i[o])]=!(t[n]=i[o])}):function(e){return s(e,0,t)}):s}},pseudos:{not:se(function(e){var i=[],o=[],a=h(e.replace(q,"$1"));return a[x]?se(function(e,t,n,i){for(var o,r=a(e,null,i,[]),s=e.length;s--;)(o=r[s])&&(e[s]=!(t[s]=o))}):function(e,t,n){return i[0]=e,a(i,null,n,o),i[0]=null,!o.pop()}}),has:se(function(t){return function(e){return 0<oe(t,e).length}}),contains:se(function(t){return t=t.replace(ie,d),function(e){return-1<(e.textContent||e.innerText||r(e)).indexOf(t)}}),lang:se(function(n){return V.test(n||"")||oe.error("unsupported lang: "+n),n=n.replace(ie,d).toLowerCase(),function(e){var t;do{if(t=_?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:he(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=ce(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=de(e);function pe(){}function ge(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function me(s,e,t){var a=e.dir,l=t&&"parentNode"===a,u=S++;return e.first?function(e,t,n){for(;e=e[a];)if(1===e.nodeType||l)return s(e,t,n)}:function(e,t,n){var i,o,r=[A,u];if(n){for(;e=e[a];)if((1===e.nodeType||l)&&s(e,t,n))return!0}else for(;e=e[a];)if(1===e.nodeType||l){if((i=(o=e[x]||(e[x]={}))[a])&&i[0]===A&&i[1]===u)return r[2]=i[2];if((o[a]=r)[2]=s(e,t,n))return!0}}}function ve(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function _e(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(r=e[a])&&(n&&!n(r,i,o)||(s.push(r),u&&t.push(a)));return s}function ye(f,p,g,m,v,e){return m&&!m[x]&&(m=ye(m)),v&&!v[x]&&(v=ye(v,e)),se(function(e,t,n,i){var o,r,s,a=[],l=[],u=t.length,c=e||function(e,t,n){for(var i=0,o=t.length;i<o;i++)oe(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!f||!e&&p?c:_e(c,a,f,n,i),h=g?v||(e?f:u||m)?[]:t:d;if(g&&g(d,h,n,i),m)for(o=_e(h,l),m(o,[],n,i),r=o.length;r--;)(s=o[r])&&(h[l[r]]=!(d[l[r]]=s));if(e){if(v||f){if(v){for(o=[],r=h.length;r--;)(s=h[r])&&o.push(d[r]=s);v(null,h=[],o,i)}for(r=h.length;r--;)(s=h[r])&&-1<(o=v?M(e,s):a[r])&&(e[o]=!(t[o]=s))}}else h=_e(h===t?h.splice(u,h.length):h),v?v(null,t,h,i):L.apply(t,h)})}function be(e){for(var o,t,n,i=e.length,r=b.relative[e[0].type],s=r||b.relative[" "],a=r?1:0,l=me(function(e){return e===o},s,!0),u=me(function(e){return-1<M(o,e)},s,!0),c=[function(e,t,n){var i=!r&&(n||t!==w)||((o=t).nodeType?l(e,t,n):u(e,t,n));return o=null,i}];a<i;a++)if(t=b.relative[e[a].type])c=[me(ve(c),t)];else{if((t=b.filter[e[a].type].apply(null,e[a].matches))[x]){for(n=++a;n<i&&!b.relative[e[n].type];n++);return ye(1<a&&ve(c),1<a&&ge(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(q,"$1"),t,a<n&&be(e.slice(a,n)),n<i&&be(e=e.slice(n)),n<i&&ge(e))}c.push(t)}return ve(c)}return pe.prototype=b.filters=b.pseudos,b.setFilters=new pe,g=oe.tokenize=function(e,t){var n,i,o,r,s,a,l,u=T[e+" "];if(u)return t?0:u.slice(0);for(s=e,a=[],l=b.preFilter;s;){for(r in n&&!(i=U.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(o=[])),n=!1,(i=K.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(q," ")}),s=s.slice(n.length)),b.filter)!(i=Q[r].exec(s))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):T(e,a).slice(0)},h=oe.compile=function(e,t){var n,i=[],o=[],r=O[e+" "];if(!r){for(n=(t=t||g(e)).length;n--;)(r=be(t[n]))[x]?i.push(r):o.push(r);(r=O(e,function(m,v){function e(e,t,n,i,o){var r,s,a,l=0,u="0",c=e&&[],d=[],h=w,f=e||y&&b.find.TAG("*",o),p=A+=null==h?1:Math.random()||.1,g=f.length;for(o&&(w=t!==E&&t);u!==g&&null!=(r=f[u]);u++){if(y&&r){for(s=0;a=m[s++];)if(a(r,t,n)){i.push(r);break}o&&(A=p)}_&&((r=!a&&r)&&l--,e&&c.push(r))}if(l+=u,_&&u!==l){for(s=0;a=v[s++];)a(c,d,t,n);if(e){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=I.call(i));d=_e(d)}L.apply(i,d),o&&!e&&0<d.length&&1<l+v.length&&oe.uniqueSort(i)}return o&&(A=p,w=h),c}var _=0<v.length,y=0<m.length;return _?se(e):e}(o,i))).selector=e}return r},m=oe.select=function(e,t,n,i){var o,r,s,a,l,u="function"==typeof e&&e,c=!i&&g(e=u.selector||e);if(n=n||[],1===c.length){if(2<(r=c[0]=c[0].slice(0)).length&&"ID"===(s=r[0]).type&&p.getById&&9===t.nodeType&&_&&b.relative[r[1].type]){if(!(t=(b.find.ID(s.matches[0].replace(ie,d),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=Q.needsContext.test(e)?0:r.length;o--&&(s=r[o],!b.relative[a=s.type]);)if((l=b.find[a])&&(i=l(s.matches[0].replace(ie,d),te.test(r[0].type)&&fe(t.parentNode)||t))){if(r.splice(o,1),!(e=i.length&&ge(r)))return L.apply(n,i),n;break}}return(u||h(e,c))(i,t,!_,n,te.test(e)&&fe(t.parentNode)||t),n},p.sortStable=x.split("").sort(N).join("")===x,p.detectDuplicates=!!c,v(),p.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(E.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||le(j,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),oe}(p);C.find=f,C.expr=f.selectors,C.expr[":"]=C.expr.pseudos,C.unique=f.uniqueSort,C.text=f.getText,C.isXMLDoc=f.isXML,C.contains=f.contains;var y=C.expr.match.needsContext,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function E(e,n,i){if(C.isFunction(n))return C.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return C.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(w.test(n))return C.filter(n,e,i);n=C.filter(n,e)}return C.grep(e,function(e){return 0<=o.call(n,e)!==i})}C.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n=this.length,i=[],o=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<n;t++)if(C.contains(o[t],this))return!0}));for(t=0;t<n;t++)C.find(e,o[t],i);return(i=this.pushStack(1<n?C.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(E(this,e||[],!1))},not:function(e){return this.pushStack(E(this,e||[],!0))},is:function(e){return!!E(this,"string"==typeof e&&y.test(e)?C(e):e||[],!1).length}});var x,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(C.fn.init=function(e,t){var n,i;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):C.isFunction(e)?void 0!==x.ready?x.ready(e):e(C):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),C.makeArray(e,this));if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:k.exec(e))||!n[1]&&t)return!t||t.jquery?(t||x).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:_,!0)),b.test(n[1])&&C.isPlainObject(t))for(n in t)C.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=_.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=_,this.selector=e,this}).prototype=C.fn,x=C(_);var A=/^(?:parents|prev(?:Until|All))/,S={children:!0,contents:!0,next:!0,prev:!0};function T(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.extend({dir:function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&C(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,r=[],s=y.test(e)||"string"!=typeof e?C(e,t||this.context):0;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?C.unique(r):r)},index:function(e){return e?"string"==typeof e?o.call(C(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.unique(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C.dir(e,"parentNode")},parentsUntil:function(e,t,n){return C.dir(e,"parentNode",n)},next:function(e){return T(e,"nextSibling")},prev:function(e){return T(e,"previousSibling")},nextAll:function(e){return C.dir(e,"nextSibling")},prevAll:function(e){return C.dir(e,"previousSibling")},nextUntil:function(e,t,n){return C.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return C.dir(e,"previousSibling",n)},siblings:function(e){return C.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return C.sibling(e.firstChild)},contents:function(e){return e.contentDocument||C.merge([],e.childNodes)}},function(i,o){C.fn[i]=function(e,t){var n=C.map(this,o,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=C.filter(t,n)),1<this.length&&(S[i]||C.unique(n),A.test(i)&&n.reverse()),this.pushStack(n)}});var O,N=/\S+/g,P={};function I(){_.removeEventListener("DOMContentLoaded",I,!1),p.removeEventListener("load",I,!1),C.ready()}C.Callbacks=function(o){o="string"==typeof o?P[o]||function(e){var n=P[e]={};return C.each(e.match(N)||[],function(e,t){n[t]=!0}),n}(o):C.extend({},o);var t,n,i,r,s,a,l=[],u=!o.once&&[],c=function(e){for(t=o.memory&&e,n=!0,a=r||0,r=0,s=l.length,i=!0;l&&a<s;a++)if(!1===l[a].apply(e[0],e[1])&&o.stopOnFalse){t=!1;break}i=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var e=l.length;!function i(e){C.each(e,function(e,t){var n=C.type(t);"function"===n?o.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),i?s=l.length:t&&(r=e,c(t))}return this},remove:function(){return l&&C.each(arguments,function(e,t){for(var n;-1<(n=C.inArray(t,l,n));)l.splice(n,1),i&&(n<=s&&s--,n<=a&&a--)}),this},has:function(e){return e?-1<C.inArray(e,l):!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=[e,(t=t||[]).slice?t.slice():t],i?u.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},C.extend({Deferred:function(e){var r=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",C.Callbacks("memory")]],o="pending",s={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var o=arguments;return C.Deferred(function(i){C.each(r,function(e,t){var n=C.isFunction(o[e])&&o[e];a[t[1]](function(){var e=n&&n.apply(this,arguments);e&&C.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===s?i.promise():this,n?[e]:arguments)})}),o=null}).promise()},promise:function(e){return null!=e?C.extend(e,s):s}},a={};return s.pipe=s.then,C.each(r,function(e,t){var n=t[2],i=t[3];s[t[1]]=n.add,i&&n.add(function(){o=i},r[1^e][2].disable,r[2][2].lock),a[t[0]]=function(){return a[t[0]+"With"](this===a?s:this,arguments),this},a[t[0]+"With"]=n.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){function t(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?c.call(arguments):e,i===o?u.notifyWith(n,i):--l||u.resolveWith(n,i)}}var o,n,i,r=0,s=c.call(arguments),a=s.length,l=1!==a||e&&C.isFunction(e.promise)?a:0,u=1===l?e:C.Deferred();if(1<a)for(o=new Array(a),n=new Array(a),i=new Array(a);r<a;r++)s[r]&&C.isFunction(s[r].promise)?s[r].promise().done(t(r,i,s)).fail(u.reject).progress(t(r,n,o)):--l;return l||u.resolveWith(i,s),u.promise()}}),C.fn.ready=function(e){return C.ready.promise().done(e),this},C.extend({isReady:!1,readyWait:1,holdReady:function(e){e?C.readyWait++:C.ready(!0)},ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||(O.resolveWith(_,[C]),C.fn.triggerHandler&&(C(_).triggerHandler("ready"),C(_).off("ready")))}}),C.ready.promise=function(e){return O||(O=C.Deferred(),"complete"===_.readyState?setTimeout(C.ready):(_.addEventListener("DOMContentLoaded",I,!1),p.addEventListener("load",I,!1))),O.promise(e)},C.ready.promise();var D=C.access=function(e,t,n,i,o,r,s){var a=0,l=e.length,u=null==n;if("object"===C.type(n))for(a in o=!0,n)C.access(e,t,a,n[a],!0,r,s);else if(void 0!==i&&(o=!0,C.isFunction(i)||(s=!0),u&&(t=s?(t.call(e,i),null):(u=t,function(e,t,n){return u.call(C(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return o?e:u?t.call(e):l?t(e[0],n):r};function L(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=C.expando+L.uid++}C.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},L.uid=1,L.accepts=C.acceptData,L.prototype={key:function(t){if(!L.accepts(t))return 0;var n={},i=t[this.expando];if(!i){i=L.uid++;try{n[this.expando]={value:i},Object.defineProperties(t,n)}catch(e){n[this.expando]=i,C.extend(t,n)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,n){var i,o=this.key(e),r=this.cache[o];if("string"==typeof t)r[t]=n;else if(C.isEmptyObject(r))C.extend(this.cache[o],t);else for(i in t)r[i]=t[i];return r},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,C.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,o,r=this.key(e),s=this.cache[r];if(void 0===t)this.cache[r]={};else{n=(i=C.isArray(t)?t.concat(t.map(C.camelCase)):(o=C.camelCase(t),t in s?[t,o]:(i=o)in s?[i]:i.match(N)||[])).length;for(;n--;)delete s[i[n]]}},hasData:function(e){return!C.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var R=new L,M=new L,j=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$=/([A-Z])/g;function F(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace($,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:j.test(n)?C.parseJSON(n):n)}catch(e){}M.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return M.hasData(e)||R.hasData(e)},data:function(e,t,n){return M.access(e,t,n)},removeData:function(e,t){M.remove(e,t)},_data:function(e,t,n){return R.access(e,t,n)},_removeData:function(e,t){R.remove(e,t)}}),C.fn.extend({data:function(i,e){var t,n,o,r=this[0],s=r&&r.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){M.set(this,i)}):D(this,function(t){var e,n=C.camelCase(i);if(r&&void 0===t)return void 0!==(e=M.get(r,i))?e:void 0!==(e=M.get(r,n))?e:void 0!==(e=F(r,n,void 0))?e:void 0;this.each(function(){var e=M.get(this,n);M.set(this,n,t),-1!==i.indexOf("-")&&void 0!==e&&M.set(this,i,t)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=M.get(r),1===r.nodeType&&!R.get(r,"hasDataAttrs"))){for(t=s.length;t--;)s[t]&&0===(n=s[t].name).indexOf("data-")&&(n=C.camelCase(n.slice(5)),F(r,n,o[n]));R.set(r,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){M.remove(this,e)})}}),C.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=R.get(e,t),n&&(!i||C.isArray(n)?i=R.access(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,o=n.shift(),r=C._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,function(){C.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return R.get(e,n)||R.access(e,n,{empty:C.Callbacks("once memory").add(function(){R.remove(e,[t+"queue",n])})})}}),C.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===n?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||r.resolveWith(s,[s])}var i,o=1,r=C.Deferred(),s=this,a=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=R.get(s[a],e+"queueHooks"))&&i.empty&&(o++,i.empty.add(n));return n(),r.promise(t)}});function B(e,t){return e=t||e,"none"===C.css(e,"display")||!C.contains(e.ownerDocument,e)}var W,H,z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,q=["Top","Right","Bottom","Left"],U=/^(?:checkbox|radio)$/i;W=_.createDocumentFragment().appendChild(_.createElement("div")),(H=_.createElement("input")).setAttribute("type","radio"),H.setAttribute("checked","checked"),H.setAttribute("name","t"),W.appendChild(H),v.checkClone=W.cloneNode(!0).cloneNode(!0).lastChild.checked,W.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!W.cloneNode(!0).lastChild.defaultValue;var K="undefined";v.focusinBubbles="onfocusin"in p;var G=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,V=/^(?:focusinfocus|focusoutblur)$/,Q=/^([^.]*)(?:\.(.+)|)$/;function X(){return!0}function J(){return!1}function Z(){try{return _.activeElement}catch(e){}}C.event={global:{},add:function(t,e,n,i,o){var r,s,a,l,u,c,d,h,f,p,g,m=R.get(t);if(m)for(n.handler&&(n=(r=n).handler,o=r.selector),n.guid||(n.guid=C.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return typeof C!=K&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(N)||[""]).length;u--;)f=g=(a=Q.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),f&&(d=C.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=C.event.special[f]||{},c=C.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:p.join(".")},r),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(f,s,!1)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,c):h.push(c),C.event.global[f]=!0)},remove:function(e,t,n,i,o){var r,s,a,l,u,c,d,h,f,p,g,m=R.hasData(e)&&R.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(N)||[""]).length;u--;)if(f=g=(a=Q.exec(t[u])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=C.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)c=h[r],!o&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(r,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||C.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)C.event.remove(e,f+t[u],n,i,!0);C.isEmptyObject(l)&&(delete m.handle,R.remove(e,"events"))}},trigger:function(e,t,n,i){var o,r,s,a,l,u,c,d=[n||_],h=m.call(e,"type")?e.type:e,f=m.call(e,"namespace")?e.namespace.split("."):[];if(r=s=n=n||_,3!==n.nodeType&&8!==n.nodeType&&!V.test(h+C.event.triggered)&&(0<=h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),l=h.indexOf(":")<0&&"on"+h,(e=e[C.expando]?e:new C.Event(h,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[h]||{},i||!c.trigger||!1!==c.trigger.apply(n,t))){if(!i&&!c.noBubble&&!C.isWindow(n)){for(a=c.delegateType||h,V.test(a+h)||(r=r.parentNode);r;r=r.parentNode)d.push(r),s=r;s===(n.ownerDocument||_)&&d.push(s.defaultView||s.parentWindow||p)}for(o=0;(r=d[o++])&&!e.isPropagationStopped();)e.type=1<o?a:c.bindType||h,(u=(R.get(r,"events")||{})[e.type]&&R.get(r,"handle"))&&u.apply(r,t),(u=l&&r[l])&&u.apply&&C.acceptData(r)&&(e.result=u.apply(r,t),!1===e.result&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),t)||!C.acceptData(n)||l&&C.isFunction(n[h])&&!C.isWindow(n)&&((s=n[l])&&(n[l]=null),n[C.event.triggered=h](),C.event.triggered=void 0,s&&(n[l]=s)),e.result}},dispatch:function(e){e=C.event.fix(e);var t,n,i,o,r,s,a=c.call(arguments),l=(R.get(this,"events")||{})[e.type]||[],u=C.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(s=C.event.handlers.call(this,e,l),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(i=((C.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],n=0;n<a;n++)void 0===i[o=(r=t[n]).selector+" "]&&(i[o]=r.needsContext?0<=C(o,this).index(l):C.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&s.push({elem:l,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,r=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||_).documentElement,o=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[C.expando])return e;var t,n,i,o=e.type,r=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Y.test(o)?this.mouseHooks:G.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new C.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=_),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Z()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Z()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&C.nodeName(this,"input"))return this.click(),!1},_default:function(e){return C.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=C.extend(new C.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?C.event.trigger(o,null,t):C.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?X:J):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=X,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=X,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=X,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){C.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||C.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),v.focusinBubbles||C.each({focus:"focusin",blur:"focusout"},function(n,i){function o(e){C.event.simulate(i,e.target,C.event.fix(e),!0)}C.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=R.access(e,i);t||e.addEventListener(n,o,!0),R.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=R.access(e,i)-1;t?R.access(e,i,t):(e.removeEventListener(n,o,!0),R.remove(e,i))}}}),C.fn.extend({on:function(e,t,n,i,o){var r,s;if("object"==typeof e){for(s in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(s,t,n,e[s],o);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=J;else if(!i)return this;return 1===o&&(r=i,(i=function(e){return C().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=C.guid++)),this.each(function(){C.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=J),this.each(function(){C.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this},trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}});var ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,te=/<([\w:]+)/,ne=/<|&#?\w+;/,ie=/<(?:script|style|link)/i,oe=/checked\s*(?:[^=]|=\s*.checked.)/i,re=/^$|\/(?:java|ecma)script/i,se=/^true\/(.*)/,ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ue(e,t){return C.nodeName(e,"table")&&C.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ce(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function de(e){var t=se.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function he(e,t){for(var n=0,i=e.length;n<i;n++)R.set(e[n],"globalEval",!t||R.get(t[n],"globalEval"))}function fe(e,t){var n,i,o,r,s,a,l,u;if(1===t.nodeType){if(R.hasData(e)&&(r=R.access(e),s=R.set(t,r),u=r.events))for(o in delete s.handle,s.events={},u)for(n=0,i=u[o].length;n<i;n++)C.event.add(t,o,u[o][n]);M.hasData(e)&&(a=M.access(e),l=C.extend({},a),M.set(t,l))}}function pe(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&C.nodeName(e,t)?C.merge([e],n):n}le.optgroup=le.option,le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td,C.extend({clone:function(e,t,n){var i,o,r,s,a,l,u,c=e.cloneNode(!0),d=C.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(s=pe(c),i=0,o=(r=pe(e)).length;i<o;i++)a=r[i],l=s[i],void 0,"input"===(u=l.nodeName.toLowerCase())&&U.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(t)if(n)for(r=r||pe(e),s=s||pe(c),i=0,o=r.length;i<o;i++)fe(r[i],s[i]);else fe(e,c);return 0<(s=pe(c,"script")).length&&he(s,!d&&pe(e,"script")),c},buildFragment:function(e,t,n,i){for(var o,r,s,a,l,u,c=t.createDocumentFragment(),d=[],h=0,f=e.length;h<f;h++)if((o=e[h])||0===o)if("object"===C.type(o))C.merge(d,o.nodeType?[o]:o);else if(ne.test(o)){for(r=r||c.appendChild(t.createElement("div")),s=(te.exec(o)||["",""])[1].toLowerCase(),a=le[s]||le._default,r.innerHTML=a[1]+o.replace(ee,"<$1></$2>")+a[2],u=a[0];u--;)r=r.lastChild;C.merge(d,r.childNodes),(r=c.firstChild).textContent=""}else d.push(t.createTextNode(o));for(c.textContent="",h=0;o=d[h++];)if((!i||-1===C.inArray(o,i))&&(l=C.contains(o.ownerDocument,o),r=pe(c.appendChild(o),"script"),l&&he(r),n))for(u=0;o=r[u++];)re.test(o.type||"")&&n.push(o);return c},cleanData:function(e){for(var t,n,i,o,r=C.event.special,s=0;void 0!==(n=e[s]);s++){if(C.acceptData(n)&&(o=n[R.expando])&&(t=R.cache[o])){if(t.events)for(i in t.events)r[i]?C.event.remove(n,i):C.removeEvent(n,i,t.handle);R.cache[o]&&delete R.cache[o]}delete M.cache[n[M.expando]]}}}),C.fn.extend({text:function(e){return D(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ue(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ue(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?C.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||C.cleanData(pe(n)),n.parentNode&&(t&&C.contains(n.ownerDocument,n)&&he(pe(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return D(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ie.test(e)&&!le[(te.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ee,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,C.cleanData(pe(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=g.apply([],n);var e,t,o,r,s,a,l=0,u=this.length,c=this,d=u-1,h=n[0],f=C.isFunction(h);if(f||1<u&&"string"==typeof h&&!v.checkClone&&oe.test(h))return this.each(function(e){var t=c.eq(e);f&&(n[0]=h.call(this,e,t.html())),t.domManip(n,i)});if(u&&(t=(e=C.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(r=(o=C.map(pe(e,"script"),ce)).length;l<u;l++)s=e,l!==d&&(s=C.clone(s,!0,!0),r&&C.merge(o,pe(s,"script"))),i.call(this[l],s,l);if(r)for(a=o[o.length-1].ownerDocument,C.map(o,de),l=0;l<r;l++)s=o[l],re.test(s.type||"")&&!R.access(s,"globalEval")&&C.contains(a,s)&&(s.src?C._evalUrl&&C._evalUrl(s.src):C.globalEval(s.textContent.replace(ae,"")))}return this}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){C.fn[e]=function(e){for(var t,n=[],i=C(e),o=i.length-1,r=0;r<=o;r++)t=r===o?this:this.clone(!0),C(i[r])[s](t),a.apply(n,t.get());return this.pushStack(n)}});var ge,me={};function ve(e,t){var n,i=C(t.createElement(e)).appendTo(t.body),o=p.getDefaultComputedStyle&&(n=p.getDefaultComputedStyle(i[0]))?n.display:C.css(i[0],"display");return i.detach(),o}function _e(e){var t=_,n=me[e];return n||("none"!==(n=ve(e,t))&&n||((t=(ge=(ge||C("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=ve(e,t),ge.detach()),me[e]=n),n}var ye,be,we,Ee,Ce,xe=/^margin/,ke=new RegExp("^("+z+")(?!px)[a-z%]+$","i"),Ae=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):p.getComputedStyle(e,null)};function Se(e,t,n){var i,o,r,s,a=e.style;return(n=n||Ae(e))&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||C.contains(e.ownerDocument,e)||(s=C.style(e,t)),ke.test(s)&&xe.test(t)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function Te(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function Oe(){Ce.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",Ce.innerHTML="",we.appendChild(Ee);var e=p.getComputedStyle(Ce,null);ye="1%"!==e.top,be="4px"===e.width,we.removeChild(Ee)}we=_.documentElement,Ee=_.createElement("div"),(Ce=_.createElement("div")).style&&(Ce.style.backgroundClip="content-box",Ce.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===Ce.style.backgroundClip,Ee.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",Ee.appendChild(Ce),p.getComputedStyle&&C.extend(v,{pixelPosition:function(){return Oe(),ye},boxSizingReliable:function(){return null==be&&Oe(),be},reliableMarginRight:function(){var e,t=Ce.appendChild(_.createElement("div"));return t.style.cssText=Ce.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",Ce.style.width="1px",we.appendChild(Ee),e=!parseFloat(p.getComputedStyle(t,null).marginRight),we.removeChild(Ee),Ce.removeChild(t),e}})),C.swap=function(e,t,n,i){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in o=n.apply(e,i||[]),t)e.style[r]=s[r];return o};var Ne=/^(none|table(?!-c[ea]).+)/,Pe=new RegExp("^("+z+")(.*)$","i"),Ie=new RegExp("^([+-])=("+z+")","i"),De={position:"absolute",visibility:"hidden",display:"block"},Le={letterSpacing:"0",fontWeight:"400"},Re=["Webkit","O","Moz","ms"];function Me(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,o=Re.length;o--;)if((t=Re[o]+n)in e)return t;return i}function je(e,t,n){var i=Pe.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function $e(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,s=0;r<4;r+=2)"margin"===n&&(s+=C.css(e,n+q[r],!0,o)),i?("content"===n&&(s-=C.css(e,"padding"+q[r],!0,o)),"margin"!==n&&(s-=C.css(e,"border"+q[r]+"Width",!0,o))):(s+=C.css(e,"padding"+q[r],!0,o),"padding"!==n&&(s+=C.css(e,"border"+q[r]+"Width",!0,o)));return s}function Fe(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=Ae(e),s="border-box"===C.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(((o=Se(e,t,r))<0||null==o)&&(o=e.style[t]),ke.test(o))return o;i=s&&(v.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+$e(e,t,n||(s?"border":"content"),i,r)+"px"}function Be(e,t){for(var n,i,o,r=[],s=0,a=e.length;s<a;s++)(i=e[s]).style&&(r[s]=R.get(i,"olddisplay"),n=i.style.display,t?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&B(i)&&(r[s]=R.access(i,"olddisplay",_e(i.nodeName)))):(o=B(i),"none"===n&&o||R.set(i,"olddisplay",o?n:C.css(i,"display"))));for(s=0;s<a;s++)(i=e[s]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[s]||"":"none"));return e}function We(e,t,n,i,o){return new We.prototype.init(e,t,n,i,o)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Se(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=C.camelCase(t),l=e.style;if(t=C.cssProps[a]||(C.cssProps[a]=Me(l,a)),s=C.cssHooks[t]||C.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,i))?o:l[t];"string"===(r=typeof n)&&(o=Ie.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(C.css(e,t)),r="number"),null!=n&&n==n&&("number"!==r||C.cssNumber[a]||(n+="px"),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var o,r,s,a=C.camelCase(t);return t=C.cssProps[a]||(C.cssProps[a]=Me(e.style,a)),(s=C.cssHooks[t]||C.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=Se(e,t,i)),"normal"===o&&t in Le&&(o=Le[t]),""===n||n?(r=parseFloat(o),!0===n||C.isNumeric(r)?r||0:o):o}}),C.each(["height","width"],function(e,o){C.cssHooks[o]={get:function(e,t,n){if(t)return Ne.test(C.css(e,"display"))&&0===e.offsetWidth?C.swap(e,De,function(){return Fe(e,o,n)}):Fe(e,o,n)},set:function(e,t,n){var i=n&&Ae(e);return je(0,t,n?$e(e,o,n,"border-box"===C.css(e,"boxSizing",!1,i),i):0)}}}),C.cssHooks.marginRight=Te(v.reliableMarginRight,function(e,t){if(t)return C.swap(e,{display:"inline-block"},Se,[e,"marginRight"])}),C.each({margin:"",padding:"",border:"Width"},function(o,r){C.cssHooks[o+r]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+q[t]+r]=i[t]||i[t-2]||i[0];return n}},xe.test(o)||(C.cssHooks[o+r].set=je)}),C.fn.extend({css:function(e,t){return D(this,function(e,t,n){var i,o,r={},s=0;if(C.isArray(t)){for(i=Ae(e),o=t.length;s<o;s++)r[t[s]]=C.css(e,t[s],!1,i);return r}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,1<arguments.length)},show:function(){return Be(this,!0)},hide:function(){return Be(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){B(this)?C(this).show():C(this).hide()})}}),((C.Tween=We).prototype={constructor:We,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(C.cssNumber[n]?"":"px")},cur:function(){var e=We.propHooks[this.prop];return e&&e.get?e.get(this):We.propHooks._default.get(this)},run:function(e){var t,n=We.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):We.propHooks._default.set(this),this}}).init.prototype=We.prototype,(We.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[C.cssProps[e.prop]]||C.cssHooks[e.prop])?C.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=We.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},C.fx=We.prototype.init,C.fx.step={};var He,ze,qe,Ue,Ke,Ge=/^(?:toggle|show|hide)$/,Ye=new RegExp("^(?:([+-])=|)("+z+")([a-z%]*)$","i"),Ve=/queueHooks$/,Qe=[function(t,e,n){var i,o,r,s,a,l,u,c=this,d={},h=t.style,f=t.nodeType&&B(t),p=R.get(t,"fxshow");n.queue||(null==(a=C._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,C.queue(t,"fx").length||a.empty.fire()})}));1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],u=C.css(t,"display"),"inline"===("none"===u?R.get(t,"olddisplay")||_e(t.nodeName):u)&&"none"===C.css(t,"float")&&(h.display="inline-block"));n.overflow&&(h.overflow="hidden",c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],Ge.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||void 0===p[i])continue;f=!0}d[i]=p&&p[i]||C.style(t,i)}else u=void 0;if(C.isEmptyObject(d))"inline"===("none"===u?_e(t.nodeName):u)&&(h.display=u);else for(i in p?"hidden"in p&&(f=p.hidden):p=R.access(t,"fxshow",{}),r&&(p.hidden=!f),f?C(t).show():c.done(function(){C(t).hide()}),c.done(function(){var e;for(e in R.remove(t,"fxshow"),d)C.style(t,e,d[e])}),d)s=et(f?p[i]:0,i,c),i in p||(p[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}],Xe={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=Ye.exec(t),r=o&&o[3]||(C.cssNumber[e]?"":"px"),s=(C.cssNumber[e]||"px"!==r&&+i)&&Ye.exec(C.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==r)for(r=r||s[3],o=o||[],s=+i||1;s/=a=a||".5",C.style(n.elem,e,s+r),a!==(a=n.cur()/i)&&1!==a&&--l;);return o&&(s=n.start=+s||+i||0,n.unit=r,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};function Je(){return setTimeout(function(){He=void 0}),He=C.now()}function Ze(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=q[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function et(e,t,n){for(var i,o=(Xe[t]||[]).concat(Xe["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,t,e))return i}function tt(r,e,t){var n,s,i=0,o=Qe.length,a=C.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=He||Je(),t=Math.max(0,u.startTime+u.duration-e),n=1-(t/u.duration||0),i=0,o=u.tweens.length;i<o;i++)u.tweens[i].run(n);return a.notifyWith(r,[u,n,t]),n<1&&o?t:(a.resolveWith(r,[u]),!1)},u=a.promise({elem:r,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:He||Je(),duration:t.duration,tweens:[],createTween:function(e,t){var n=C.Tween(r,u.opts,e,t,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var t=0,n=e?u.tweens.length:0;if(s)return this;for(s=!0;t<n;t++)u.tweens[t].run(1);return e?a.resolveWith(r,[u,e]):a.rejectWith(r,[u,e]),this}}),c=u.props;for(!function(e,t){var n,i,o,r,s;for(n in e)if(o=t[i=C.camelCase(n)],r=e[n],C.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(s=C.cssHooks[i])&&"expand"in s)for(n in r=s.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}(c,u.opts.specialEasing);i<o;i++)if(n=Qe[i].call(u,r,c,u.opts))return n;return C.map(c,et,u),C.isFunction(u.opts.start)&&u.opts.start.call(r,u),C.fx.timer(C.extend(l,{elem:r,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}C.Animation=C.extend(tt,{tweener:function(e,t){for(var n,i=0,o=(e=C.isFunction(e)?(t=e,["*"]):e.split(" ")).length;i<o;i++)n=e[i],Xe[n]=Xe[n]||[],Xe[n].unshift(t)},prefilter:function(e,t){t?Qe.unshift(e):Qe.push(e)}}),C.speed=function(e,t,n){var i=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||C.isFunction(e)&&e,duration:e,easing:n&&t||t&&!C.isFunction(t)&&t};return i.duration=C.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in C.fx.speeds?C.fx.speeds[i.duration]:C.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){C.isFunction(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(B).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function o(){var e=tt(this,C.extend({},t),s);(r||R.get(this,"finish"))&&e.stop(!0)}var r=C.isEmptyObject(t),s=C.speed(e,n,i);return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(o,e,r){function s(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof o&&(r=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=C.timers,i=R.get(this);if(t)i[t]&&i[t].stop&&s(i[t]);else for(t in i)i[t]&&i[t].stop&&Ve.test(t)&&s(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||C.dequeue(this,o)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var e,t=R.get(this),n=t[s+"queue"],i=t[s+"queueHooks"],o=C.timers,r=n?n.length:0;for(t.finish=!0,C.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===s&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,i){var o=C.fn[i];C.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(Ze(i,!0),e,t,n)}}),C.each({slideDown:Ze("show"),slideUp:Ze("hide"),slideToggle:Ze("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){C.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(He=C.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),He=void 0},C.fx.timer=function(e){C.timers.push(e),e()?C.fx.start():C.timers.pop()},C.fx.interval=13,C.fx.start=function(){ze=ze||setInterval(C.fx.tick,C.fx.interval)},C.fx.stop=function(){clearInterval(ze),ze=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(i,e){return i=C.fx&&C.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},qe=_.createElement("input"),Ue=_.createElement("select"),Ke=Ue.appendChild(_.createElement("option")),qe.type="checkbox",v.checkOn=""!==qe.value,v.optSelected=Ke.selected,Ue.disabled=!0,v.optDisabled=!Ke.disabled,(qe=_.createElement("input")).value="t",qe.type="radio",v.radioValue="t"===qe.value;var nt,it=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return D(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute==K?C.prop(e,t,n):(1===r&&C.isXMLDoc(e)||(t=t.toLowerCase(),i=C.attrHooks[t]||(C.expr.match.bool.test(t)?nt:void 0)),void 0===n?i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=C.find.attr(e,t))?void 0:o:null!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void C.removeAttr(e,t))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(N);if(r&&1===e.nodeType)for(;n=r[o++];)i=C.propFix[n]||n,C.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&C.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),nt={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var r=it[t]||C.find.attr;it[t]=function(e,t,n){var i,o;return n||(o=it[t],it[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,it[t]=o),i}});var ot=/^(?:input|select|textarea|button)$/i;C.fn.extend({prop:function(e,t){return D(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!C.isXMLDoc(e))&&(t=C.propFix[t]||t,o=C.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ot.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),v.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});var rt=/[\t\r\n\f]/g;C.fn.extend({addClass:function(t){var e,n,i,o,r,s,a="string"==typeof t&&t,l=0,u=this.length;if(C.isFunction(t))return this.each(function(e){C(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(N)||[];l<u;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(rt," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=C.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,o,r,s,a=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(C.isFunction(t))return this.each(function(e){C(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(N)||[];l<u;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(rt," "):"")){for(r=0;o=e[r++];)for(;0<=i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");s=t?C.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(o,t){var r=typeof o;return"boolean"==typeof t&&"string"==r?t?this.addClass(o):this.removeClass(o):C.isFunction(o)?this.each(function(e){C(this).toggleClass(o.call(this,e,this.className,t),t)}):this.each(function(){if("string"==r)for(var e,t=0,n=C(this),i=o.match(N)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else r!=K&&"boolean"!=r||(this.className&&R.set(this,"__className__",this.className),this.className=this.className||!1===o?"":R.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(rt," ").indexOf(t))return!0;return!1}});var st=/\r/g;C.fn.extend({val:function(n){var i,e,o,t=this[0];return arguments.length?(o=C.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=o?n.call(this,e,C(this).val()):n)?t="":"number"==typeof t?t+="":C.isArray(t)&&(t=C.map(t,function(e){return null==e?"":e+""})),(i=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):t?(i=C.valHooks[t.type]||C.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(st,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:C.trim(C.text(e))}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||o<0,s=r?null:[],a=r?o+1:i.length,l=o<0?a:r?o:0;l<a;l++)if(((n=i[l]).selected||l===o)&&(v.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!C.nodeName(n.parentNode,"optgroup"))){if(t=C(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,i,o=e.options,r=C.makeArray(t),s=o.length;s--;)((i=o[s]).selected=0<=C.inArray(i.value,r))&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(C.isArray(t))return e.checked=0<=C.inArray(C(e).val(),t)}},v.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){C.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var at=C.now(),lt=/\?/;C.parseJSON=function(e){return JSON.parse(e+"")},C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var ut=/#.*$/,ct=/([?&])_=[^&]*/,dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:GET|HEAD)$/,ft=/^\/\//,pt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,gt={},mt={},vt="*/".concat("*"),_t=p.location.href,yt=pt.exec(_t.toLowerCase())||[];function bt(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,o=e.toLowerCase().match(N)||[];if(C.isFunction(t))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function wt(t,o,r,s){var a={},l=t===mt;function u(e){var i;return a[e]=!0,C.each(t[e]||[],function(e,t){var n=t(o,r,s);return"string"!=typeof n||l||a[n]?l?!(i=n):void 0:(o.dataTypes.unshift(n),u(n),!1)}),i}return u(o.dataTypes[0])||!a["*"]&&u("*")}function Et(e,t){var n,i,o=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i=i||{})[n]=t[n]);return i&&C.extend(!0,e,i),e}C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(yt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Et(Et(e,C.ajaxSettings),t):Et(C.ajaxSettings,e)},ajaxPrefilter:bt(gt),ajaxTransport:bt(mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,d,h,n,f,i,p,o,g=C.ajaxSetup({},t),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?C(m):C.event,_=C.Deferred(),y=C.Callbacks("once memory"),b=g.statusCode||{},r={},s={},w=0,a="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!n)for(n={};t=dt.exec(h);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?h:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=s[n]=s[n]||e,r[e]=t),this},overrideMimeType:function(e){return w||(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)b[t]=[b[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||a;return c&&c.abort(t),l(0,t),this}};if(_.promise(E).complete=y.add,E.success=E.done,E.error=E.fail,g.url=((e||g.url||_t)+"").replace(ut,"").replace(ft,yt[1]+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=C.trim(g.dataType||"*").toLowerCase().match(N)||[""],null==g.crossDomain&&(i=pt.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===yt[1]&&i[2]===yt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(yt[3]||("http:"===yt[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=C.param(g.data,g.traditional)),wt(gt,g,t,E),2===w)return E;for(o in(p=C.event&&g.global)&&0==C.active++&&C.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!ht.test(g.type),d=g.url,g.hasContent||(g.data&&(d=g.url+=(lt.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=ct.test(d)?d.replace(ct,"$1_="+at++):d+(lt.test(d)?"&":"?")+"_="+at++)),g.ifModified&&(C.lastModified[d]&&E.setRequestHeader("If-Modified-Since",C.lastModified[d]),C.etag[d]&&E.setRequestHeader("If-None-Match",C.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&E.setRequestHeader("Content-Type",g.contentType),E.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+vt+"; q=0.01":""):g.accepts["*"]),g.headers)E.setRequestHeader(o,g.headers[o]);if(g.beforeSend&&(!1===g.beforeSend.call(m,E,g)||2===w))return E.abort();for(o in a="abort",{success:1,error:1,complete:1})E[o](g[o]);if(c=wt(mt,g,t,E)){E.readyState=1,p&&v.trigger("ajaxSend",[E,g]),g.async&&0<g.timeout&&(f=setTimeout(function(){E.abort("timeout")},g.timeout));try{w=1,c.send(r,l)}catch(e){if(!(w<2))throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,i){var o,r,s,a,l,u=t;2!==w&&(w=2,f&&clearTimeout(f),c=void 0,h=i||"",E.readyState=0<e?4:0,o=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}s=s||o}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}(g,E,n)),a=function(e,t,n,i){var o,r,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=u[l+" "+r]||u["* "+r]))for(o in u)if((a=o.split(" "))[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(r=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(g,a,E,o),o?(g.ifModified&&((l=E.getResponseHeader("Last-Modified"))&&(C.lastModified[d]=l),(l=E.getResponseHeader("etag"))&&(C.etag[d]=l)),204===e||"HEAD"===g.type?u="nocontent":304===e?u="notmodified":(u=a.state,r=a.data,o=!(s=a.error))):(s=u,!e&&u||(u="error",e<0&&(e=0))),E.status=e,E.statusText=(t||u)+"",o?_.resolveWith(m,[r,u,E]):_.rejectWith(m,[E,u,s]),E.statusCode(b),b=void 0,p&&v.trigger(o?"ajaxSuccess":"ajaxError",[E,g,o?r:s]),y.fireWith(m,[E,u]),p&&(v.trigger("ajaxComplete",[E,g]),--C.active||C.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,o){C[o]=function(e,t,n,i){return C.isFunction(t)&&(i=i||n,n=t,t=void 0),C.ajax({url:e,type:o,dataType:i,data:t,success:n})}}),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(t){var e;return C.isFunction(t)?this.each(function(e){C(this).wrapAll(t.call(this,e))}):(this[0]&&(e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(n){return C.isFunction(n)?this.each(function(e){C(this).wrapInner(n.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=C.isFunction(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){C.nodeName(this,"body")||C(this).replaceWith(this.childNodes)}).end()}}),C.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},C.expr.filters.visible=function(e){return!C.expr.filters.hidden(e)};var Ct=/%20/g,xt=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Tt(n,e,i,o){var t;if(C.isArray(e))C.each(e,function(e,t){i||xt.test(n)?o(n,t):Tt(n+"["+("object"==typeof t?e:"")+"]",t,i,o)});else if(i||"object"!==C.type(e))o(n,e);else for(t in e)Tt(n+"["+t+"]",e[t],i,o)}C.param=function(e,t){function n(e,t){t=C.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var i,o=[];if(void 0===t&&(t=C.ajaxSettings&&C.ajaxSettings.traditional),C.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){n(this.name,this.value)});else for(i in e)Tt(i,e[i],t,n);return o.join("&").replace(Ct,"+")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&St.test(this.nodeName)&&!At.test(e)&&(this.checked||!U.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:C.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),C.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Ot=0,Nt={},Pt={0:200,1223:204},It=C.ajaxSettings.xhr();p.attachEvent&&p.attachEvent("onunload",function(){for(var e in Nt)Nt[e]()}),v.cors=!!It&&"withCredentials"in It,v.ajax=It=!!It,C.ajaxTransport(function(r){var s;if(v.cors||It&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr(),o=++Ot;if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);s=function(e){return function(){s&&(delete Nt[o],s=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?t(i.status,i.statusText):t(Pt[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=s(),i.onerror=s("error"),s=Nt[o]=s("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(s)throw e}},abort:function(){s&&s()}}}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(n){var i,o;if(n.crossDomain)return{send:function(e,t){i=C("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){i.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),_.head.appendChild(i[0])},abort:function(){o&&o()}}});var Dt=[],Lt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||C.expando+"_"+at++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,r,s=!1!==e.jsonp&&(Lt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Lt,"$1"+i):!1!==e.jsonp&&(e.url+=(lt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||C.error(i+" was not called"),r[0]},e.dataTypes[0]="json",o=p[i],p[i]=function(){r=arguments},n.always(function(){p[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Dt.push(i)),r&&C.isFunction(o)&&o(r[0]),r=o=void 0}),"script"}),C.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||_;var i=b.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=C.buildFragment([e],t,o),o&&o.length&&C(o).remove(),C.merge([],i.childNodes))};var Rt=C.fn.load;C.fn.load=function(e,t,n){if("string"!=typeof e&&Rt)return Rt.apply(this,arguments);var i,o,r,s=this,a=e.indexOf(" ");return 0<=a&&(i=C.trim(e.slice(a)),e=e.slice(0,a)),C.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<s.length&&C.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,r||[e.responseText,t,e])}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.expr.filters.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length};var Mt=p.document.documentElement;function jt(e){return C.isWindow(e)?e:9===e.nodeType&&e.defaultView}C.offset={setOffset:function(e,t,n){var i,o,r,s,a,l,u=C.css(e,"position"),c=C(e),d={};"static"===u&&(e.style.position="relative"),a=c.offset(),r=C.css(e,"top"),l=C.css(e,"left"),o=("absolute"===u||"fixed"===u)&&-1<(r+l).indexOf("auto")?(s=(i=c.position()).top,i.left):(s=parseFloat(r)||0,parseFloat(l)||0),C.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):c.css(d)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n,i=this[0],o={top:0,left:0},r=i&&i.ownerDocument;return r?(e=r.documentElement,C.contains(e,i)?(typeof i.getBoundingClientRect!=K&&(o=i.getBoundingClientRect()),n=jt(r),{top:o.top+n.pageYOffset-e.clientTop,left:o.left+n.pageXOffset-e.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===C.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),C.nodeName(e[0],"html")||(i=e.offset()),i.top+=C.css(e[0],"borderTopWidth",!0),i.left+=C.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-C.css(n,"marginTop",!0),left:t.left-i.left-C.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Mt;e&&!C.nodeName(e,"html")&&"static"===C.css(e,"position");)e=e.offsetParent;return e||Mt})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r="pageYOffset"===o;C.fn[t]=function(e){return D(this,function(e,t,n){var i=jt(e);if(void 0===n)return i?i[o]:e[t];i?i.scrollTo(r?p.pageXOffset:n,r?n:p.pageYOffset):e[t]=n},t,e,arguments.length,null)}}),C.each(["top","left"],function(e,n){C.cssHooks[n]=Te(v.pixelPosition,function(e,t){if(t)return t=Se(e,n),ke.test(t)?C(e).position()[n]+"px":t})}),C.each({Height:"height",Width:"width"},function(r,s){C.each({padding:"inner"+r,content:s,"":"outer"+r},function(i,e){C.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),o=i||(!0===e||!0===t?"margin":"border");return D(this,function(e,t,n){var i;return C.isWindow(e)?e.document.documentElement["client"+r]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+r],i["scroll"+r],e.body["offset"+r],i["offset"+r],i["client"+r])):void 0===n?C.css(e,t,o):C.style(e,t,n,o)},s,n?e:void 0,n,null)}})}),C.fn.size=function(){return this.length},C.fn.andSelf=C.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var $t=p.jQuery,Ft=p.$;return C.noConflict=function(e){return p.$===C&&(p.$=Ft),e&&p.jQuery===C&&(p.jQuery=$t),C},typeof e==K&&(p.jQuery=p.$=C),C}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],t):t(e.bootstrap={},e.jQuery,e.Popper)}(this,function(e,t,c){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t=t&&t.hasOwnProperty("default")?t.default:t,c=c&&c.hasOwnProperty("default")?c.default:c;var o,n,l,h=(o=t,n=!1,l={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||""),"#"===t.charAt(0)&&(t=function(e){return e="function"==typeof o.escapeSelector?o.escapeSelector(e).substr(1):e.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")}(t));try{return 0<o(document).find(t).length?t:null}catch(e){return null}},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){o(e).trigger(n.end)},supportsTransitionEnd:function(){return Boolean(n)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],r=t[i],s=r&&l.isElement(r)?"element":(a=r,{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase());if(!new RegExp(o).test(s))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+o+'".')}var a}},n=("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"},o.fn.emulateTransitionEnd=r,l.supportsTransitionEnd()&&(o.event.special[l.TRANSITION_END]={bindType:n.end,delegateType:n.end,handle:function(e){if(o(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}),l);function r(e){var t=this,n=!1;return o(this).one(l.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||l.triggerTransitionEnd(t)},e),this}var a,u,f,p,g,m,v,_,y,b,w,E,C,x,k,A,S,T,O,N,P,I,D,L,R,M,j,$,F,B,W,H,z,q,U,K,G,Y,V,Q,X,J,Z,ee,te,ne,ie,oe,re,se,ae,le,ue,ce,de,he,fe,pe,ge,me,ve,_e,ye,be,we,Ee,Ce,xe,ke,Ae,Se,Te,Oe,Ne,Pe,Ie,De,Le,Re,Me,je,$e,Fe,Be,We,He,ze,qe,Ue,Ke,Ge,Ye,Ve,Qe,Xe,Je,Ze,et,tt,nt,it,ot,rt,st,at,lt,ut,ct,dt,ht,ft,pt,gt,mt,vt,_t,yt,bt,wt,Et,Ct,xt,kt,At,St,Tt,Ot,Nt,Pt,It,Dt,Lt,Rt,Mt,jt,$t,Ft,Bt,Wt,Ht,zt,qt,Ut,Kt,Gt,Yt,Vt,Qt,Xt,Jt,Zt,en,tn,nn,on,rn,sn,an,ln,un,cn,dn,hn,fn,pn,gn,mn,vn,_n,yn,bn,wn,En,Cn,xn,kn,An,Sn,Tn,On,Nn,Pn,In,Dn,Ln,Rn,Mn,jn,$n,Fn,Bn,Wn,Hn,zn,qn,Un,Kn,Gn,Yn=(u="alert",p="."+(f="bs.alert"),g=(a=t).fn[u],m={CLOSE:"close"+p,CLOSED:"closed"+p,CLICK_DATA_API:"click"+p+".data-api"},v="alert",_="fade",y="show",b=function(){function i(e){this._element=e}var e=i.prototype;return e.close=function(e){e=e||this._element;var t=this._getRootElement(e);this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},e.dispose=function(){a.removeData(this._element,f),this._element=null},e._getRootElement=function(e){var t=h.getSelectorFromElement(e),n=!1;return t&&(n=a(t)[0]),n=n||a(e).closest("."+v)[0]},e._triggerCloseEvent=function(e){var t=a.Event(m.CLOSE);return a(e).trigger(t),t},e._removeElement=function(t){var n=this;a(t).removeClass(y),h.supportsTransitionEnd()&&a(t).hasClass(_)?a(t).one(h.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(150):this._destroyElement(t)},e._destroyElement=function(e){a(e).detach().trigger(m.CLOSED).remove()},i._jQueryInterface=function(n){return this.each(function(){var e=a(this),t=e.data(f);t||(t=new i(this),e.data(f,t)),"close"===n&&t[n](this)})},i._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},s(i,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),i}(),a(document).on(m.CLICK_DATA_API,'[data-dismiss="alert"]',b._handleDismiss(new b)),a.fn[u]=b._jQueryInterface,a.fn[u].Constructor=b,a.fn[u].noConflict=function(){return a.fn[u]=g,b._jQueryInterface},b),Vn=(E="button",x="."+(C="bs.button"),k=".data-api",A=(w=t).fn[E],S="active",T="btn",N='[data-toggle^="button"]',P='[data-toggle="buttons"]',I="input",D=".active",L=".btn",R={CLICK_DATA_API:"click"+x+k,FOCUS_BLUR_DATA_API:(O="focus")+x+k+" blur"+x+k},M=function(){function n(e){this._element=e}var e=n.prototype;return e.toggle=function(){var e=!0,t=!0,n=w(this._element).closest(P)[0];if(n){var i=w(this._element).find(I)[0];if(i){if("radio"===i.type)if(i.checked&&w(this._element).hasClass(S))e=!1;else{var o=w(n).find(D)[0];o&&w(o).removeClass(S)}if(e){if(i.hasAttribute("disabled")||n.hasAttribute("disabled")||i.classList.contains("disabled")||n.classList.contains("disabled"))return;i.checked=!w(this._element).hasClass(S),w(i).trigger("change")}i.focus(),t=!1}}t&&this._element.setAttribute("aria-pressed",!w(this._element).hasClass(S)),e&&w(this._element).toggleClass(S)},e.dispose=function(){w.removeData(this._element,C),this._element=null},n._jQueryInterface=function(t){return this.each(function(){var e=w(this).data(C);e||(e=new n(this),w(this).data(C,e)),"toggle"===t&&e[t]()})},s(n,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),n}(),w(document).on(R.CLICK_DATA_API,N,function(e){e.preventDefault();var t=e.target;w(t).hasClass(T)||(t=w(t).closest(L)),M._jQueryInterface.call(w(t),"toggle")}).on(R.FOCUS_BLUR_DATA_API,N,function(e){var t=w(e.target).closest(L)[0];w(t).toggleClass(O,/^focus(in)?$/.test(e.type))}),w.fn[E]=M._jQueryInterface,w.fn[E].Constructor=M,w.fn[E].noConflict=function(){return w.fn[E]=A,M._jQueryInterface},M),Qn=($="carousel",B="."+(F="bs.carousel"),W=".data-api",H=(j=t).fn[$],z={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},q={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},U="next",K="prev",G="left",Y="right",V={SLIDE:"slide"+B,SLID:"slid"+B,KEYDOWN:"keydown"+B,MOUSEENTER:"mouseenter"+B,MOUSELEAVE:"mouseleave"+B,TOUCHEND:"touchend"+B,LOAD_DATA_API:"load"+B+W,CLICK_DATA_API:"click"+B+W},Q="carousel",X="active",J="slide",Z="carousel-item-right",ee="carousel-item-left",te="carousel-item-next",ne="carousel-item-prev",ie=".active",oe=".active.carousel-item",re=".carousel-item",se=".carousel-item-next, .carousel-item-prev",ae=".carousel-indicators",le="[data-slide], [data-slide-to]",ue='[data-ride="carousel"]',ce=function(){function r(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(t),this._element=j(e)[0],this._indicatorsElement=j(this._element).find(ae)[0],this._addEventListeners()}var e=r.prototype;return e.next=function(){this._isSliding||this._slide(U)},e.nextWhenVisible=function(){!document.hidden&&j(this._element).is(":visible")&&"hidden"!==j(this._element).css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(K)},e.pause=function(e){e||(this._isPaused=!0),j(this._element).find(se)[0]&&h.supportsTransitionEnd()&&(h.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(e){var t=this;this._activeElement=j(this._element).find(oe)[0];var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)j(this._element).one(V.SLID,function(){return t.to(e)});else{if(n===e)return this.pause(),void this.cycle();var i=n<e?U:K;this._slide(i,this._items[e])}},e.dispose=function(){j(this._element).off(B),j.removeData(this._element,F),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(e){return e=d({},z,e),h.typeCheckConfig($,e,q),e},e._addEventListeners=function(){var t=this;this._config.keyboard&&j(this._element).on(V.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(j(this._element).on(V.MOUSEENTER,function(e){return t.pause(e)}).on(V.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&j(this._element).on(V.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))},e._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},e._getItemIndex=function(e){return this._items=j.makeArray(j(e).parent().find(re)),this._items.indexOf(e)},e._getItemByDirection=function(e,t){var n=e===U,i=e===K,o=this._getItemIndex(t),r=this._items.length-1;if((i&&0===o||n&&o===r)&&!this._config.wrap)return t;var s=(o+(e===K?-1:1))%this._items.length;return-1==s?this._items[this._items.length-1]:this._items[s]},e._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),i=this._getItemIndex(j(this._element).find(oe)[0]),o=j.Event(V.SLIDE,{relatedTarget:e,direction:t,from:i,to:n});return j(this._element).trigger(o),o},e._setActiveIndicatorElement=function(e){if(this._indicatorsElement){j(this._indicatorsElement).find(ie).removeClass(X);var t=this._indicatorsElement.children[this._getItemIndex(e)];t&&j(t).addClass(X)}},e._slide=function(e,t){var n,i,o,r=this,s=j(this._element).find(oe)[0],a=this._getItemIndex(s),l=t||s&&this._getItemByDirection(e,s),u=this._getItemIndex(l),c=Boolean(this._interval);if(o=e===U?(n=ee,i=te,G):(n=Z,i=ne,Y),l&&j(l).hasClass(X))this._isSliding=!1;else if(!this._triggerSlideEvent(l,o).isDefaultPrevented()&&s&&l){this._isSliding=!0,c&&this.pause(),this._setActiveIndicatorElement(l);var d=j.Event(V.SLID,{relatedTarget:l,direction:o,from:a,to:u});h.supportsTransitionEnd()&&j(this._element).hasClass(J)?(j(l).addClass(i),h.reflow(l),j(s).addClass(n),j(l).addClass(n),j(s).one(h.TRANSITION_END,function(){j(l).removeClass(n+" "+i).addClass(X),j(s).removeClass(X+" "+i+" "+n),r._isSliding=!1,setTimeout(function(){return j(r._element).trigger(d)},0)}).emulateTransitionEnd(600)):(j(s).removeClass(X),j(l).addClass(X),this._isSliding=!1,j(this._element).trigger(d)),c&&this.cycle()}},r._jQueryInterface=function(i){return this.each(function(){var e=j(this).data(F),t=d({},z,j(this).data());"object"==typeof i&&(t=d({},t,i));var n="string"==typeof i?i:t.slide;if(e||(e=new r(this,t),j(this).data(F,e)),"number"==typeof i)e.to(i);else if("string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}else t.interval&&(e.pause(),e.cycle())})},r._dataApiClickHandler=function(e){var t=h.getSelectorFromElement(this);if(t){var n=j(t)[0];if(n&&j(n).hasClass(Q)){var i=d({},j(n).data(),j(this).data()),o=this.getAttribute("data-slide-to");o&&(i.interval=!1),r._jQueryInterface.call(j(n),i),o&&j(n).data(F).to(o),e.preventDefault()}}},s(r,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return z}}]),r}(),j(document).on(V.CLICK_DATA_API,le,ce._dataApiClickHandler),j(window).on(V.LOAD_DATA_API,function(){j(ue).each(function(){var e=j(this);ce._jQueryInterface.call(e,e.data())})}),j.fn[$]=ce._jQueryInterface,j.fn[$].Constructor=ce,j.fn[$].noConflict=function(){return j.fn[$]=H,ce._jQueryInterface},ce),Xn=(he="collapse",pe="."+(fe="bs.collapse"),ge=(de=t).fn[he],me={toggle:!0,parent:""},ve={toggle:"boolean",parent:"(string|element)"},_e={SHOW:"show"+pe,SHOWN:"shown"+pe,HIDE:"hide"+pe,HIDDEN:"hidden"+pe,CLICK_DATA_API:"click"+pe+".data-api"},ye="show",be="collapse",we="collapsing",Ee="collapsed",Ce="width",xe="height",ke=".show, .collapsing",Ae='[data-toggle="collapse"]',Se=function(){function a(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=de.makeArray(de('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=de(Ae),i=0;i<n.length;i++){var o=n[i],r=h.getSelectorFromElement(o);null!==r&&0<de(r).filter(e).length&&(this._selector=r,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=a.prototype;return e.toggle=function(){de(this._element).hasClass(ye)?this.hide():this.show()},e.show=function(){var e,t,n=this;if(!this._isTransitioning&&!de(this._element).hasClass(ye)&&(this._parent&&0===(e=de.makeArray(de(this._parent).find(ke).filter('[data-parent="'+this._config.parent+'"]'))).length&&(e=null),!(e&&(t=de(e).not(this._selector).data(fe))&&t._isTransitioning))){var i=de.Event(_e.SHOW);if(de(this._element).trigger(i),!i.isDefaultPrevented()){e&&(a._jQueryInterface.call(de(e).not(this._selector),"hide"),t||de(e).data(fe,null));var o=this._getDimension();de(this._element).removeClass(be).addClass(we),(this._element.style[o]=0)<this._triggerArray.length&&de(this._triggerArray).removeClass(Ee).attr("aria-expanded",!0),this.setTransitioning(!0);var r=function(){de(n._element).removeClass(we).addClass(be).addClass(ye),n._element.style[o]="",n.setTransitioning(!1),de(n._element).trigger(_e.SHOWN)};if(h.supportsTransitionEnd()){var s="scroll"+(o[0].toUpperCase()+o.slice(1));de(this._element).one(h.TRANSITION_END,r).emulateTransitionEnd(600),this._element.style[o]=this._element[s]+"px"}else r()}}},e.hide=function(){var e=this;if(!this._isTransitioning&&de(this._element).hasClass(ye)){var t=de.Event(_e.HIDE);if(de(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._getDimension();if(this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",h.reflow(this._element),de(this._element).addClass(we).removeClass(be).removeClass(ye),0<this._triggerArray.length)for(var i=0;i<this._triggerArray.length;i++){var o=this._triggerArray[i],r=h.getSelectorFromElement(o);if(null!==r)de(r).hasClass(ye)||de(o).addClass(Ee).attr("aria-expanded",!1)}this.setTransitioning(!0);var s=function(){e.setTransitioning(!1),de(e._element).removeClass(we).addClass(be).trigger(_e.HIDDEN)};this._element.style[n]="",h.supportsTransitionEnd()?de(this._element).one(h.TRANSITION_END,s).emulateTransitionEnd(600):s()}}},e.setTransitioning=function(e){this._isTransitioning=e},e.dispose=function(){de.removeData(this._element,fe),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(e){return(e=d({},me,e)).toggle=Boolean(e.toggle),h.typeCheckConfig(he,e,ve),e},e._getDimension=function(){return de(this._element).hasClass(Ce)?Ce:xe},e._getParent=function(){var n=this,e=null;h.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=de(this._config.parent)[0];var t='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return de(e).find(t).each(function(e,t){n._addAriaAndCollapsedClass(a._getTargetFromElement(t),[t])}),e},e._addAriaAndCollapsedClass=function(e,t){if(e){var n=de(e).hasClass(ye);0<t.length&&de(t).toggleClass(Ee,!n).attr("aria-expanded",n)}},a._getTargetFromElement=function(e){var t=h.getSelectorFromElement(e);return t?de(t)[0]:null},a._jQueryInterface=function(i){return this.each(function(){var e=de(this),t=e.data(fe),n=d({},me,e.data(),"object"==typeof i&&i);if(!t&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),t||(t=new a(this,n),e.data(fe,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},s(a,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return me}}]),a}(),de(document).on(_e.CLICK_DATA_API,Ae,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=de(this),t=h.getSelectorFromElement(this);de(t).each(function(){var e=de(this),t=e.data(fe)?"toggle":n.data();Se._jQueryInterface.call(e,t)})}),de.fn[he]=Se._jQueryInterface,de.fn[he].Constructor=Se,de.fn[he].noConflict=function(){return de.fn[he]=ge,Se._jQueryInterface},Se),Jn=(Oe="dropdown",Pe="."+(Ne="bs.dropdown"),Ie=".data-api",De=(Te=t).fn[Oe],Le=new RegExp("38|40|27"),Re={HIDE:"hide"+Pe,HIDDEN:"hidden"+Pe,SHOW:"show"+Pe,SHOWN:"shown"+Pe,CLICK:"click"+Pe,CLICK_DATA_API:"click"+Pe+Ie,KEYDOWN_DATA_API:"keydown"+Pe+Ie,KEYUP_DATA_API:"keyup"+Pe+Ie},Me="disabled",je="show",$e="dropup",Fe="dropright",Be="dropleft",We="dropdown-menu-right",He="dropdown-menu-left",ze="position-static",qe='[data-toggle="dropdown"]',Ue=".dropdown form",Ke=".dropdown-menu",Ge=".navbar-nav",Ye=".dropdown-menu .dropdown-item:not(.disabled)",Ve="top-start",Qe="top-end",Xe="bottom-start",Je="bottom-end",Ze="right-start",et="left-start",tt={offset:0,flip:!0,boundary:"scrollParent"},nt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},it=function(){function l(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=l.prototype;return e.toggle=function(){if(!this._element.disabled&&!Te(this._element).hasClass(Me)){var e=l._getParentFromElement(this._element),t=Te(this._menu).hasClass(je);if(l._clearMenus(),!t){var n={relatedTarget:this._element},i=Te.Event(Re.SHOW,n);if(Te(e).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar){if(void 0===c)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var o=this._element;Te(e).hasClass($e)&&(Te(this._menu).hasClass(He)||Te(this._menu).hasClass(We))&&(o=e),"scrollParent"!==this._config.boundary&&Te(e).addClass(ze),this._popper=new c(o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===Te(e).closest(Ge).length&&Te("body").children().on("mouseover",null,Te.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),Te(this._menu).toggleClass(je),Te(e).toggleClass(je).trigger(Te.Event(Re.SHOWN,n))}}}},e.dispose=function(){Te.removeData(this._element,Ne),Te(this._element).off(Pe),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;Te(this._element).on(Re.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},e._getConfig=function(e){return e=d({},this.constructor.Default,Te(this._element).data(),e),h.typeCheckConfig(Oe,e,this.constructor.DefaultType),e},e._getMenuElement=function(){if(!this._menu){var e=l._getParentFromElement(this._element);this._menu=Te(e).find(Ke)[0]}return this._menu},e._getPlacement=function(){var e=Te(this._element).parent(),t=Xe;return e.hasClass($e)?(t=Ve,Te(this._menu).hasClass(We)&&(t=Qe)):e.hasClass(Fe)?t=Ze:e.hasClass(Be)?t=et:Te(this._menu).hasClass(We)&&(t=Je),t},e._detectNavbar=function(){return 0<Te(this._element).closest(".navbar").length},e._getPopperConfig=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=d({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}}},l._jQueryInterface=function(t){return this.each(function(){var e=Te(this).data(Ne);if(e||(e=new l(this,"object"==typeof t?t:null),Te(this).data(Ne,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},l._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var t=Te.makeArray(Te(qe)),n=0;n<t.length;n++){var i=l._getParentFromElement(t[n]),o=Te(t[n]).data(Ne),r={relatedTarget:t[n]};if(o){var s=o._menu;if(Te(i).hasClass(je)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&Te.contains(i,e.target))){var a=Te.Event(Re.HIDE,r);Te(i).trigger(a),a.isDefaultPrevented()||("ontouchstart"in document.documentElement&&Te("body").children().off("mouseover",null,Te.noop),t[n].setAttribute("aria-expanded","false"),Te(s).removeClass(je),Te(i).removeClass(je).trigger(Te.Event(Re.HIDDEN,r)))}}}},l._getParentFromElement=function(e){var t,n=h.getSelectorFromElement(e);return n&&(t=Te(n)[0]),t||e.parentNode},l._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||Te(e.target).closest(Ke).length)):Le.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!Te(this).hasClass(Me))){var t=l._getParentFromElement(this),n=Te(t).hasClass(je);if((n||27===e.which&&32===e.which)&&(!n||27!==e.which&&32!==e.which)){var i=Te(t).find(Ye).get();if(0!==i.length){var o=i.indexOf(e.target);38===e.which&&0<o&&o--,40===e.which&&o<i.length-1&&o++,o<0&&(o=0),i[o].focus()}}else{if(27===e.which){var r=Te(t).find(qe)[0];Te(r).trigger("focus")}Te(this).trigger("click")}}},s(l,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return tt}},{key:"DefaultType",get:function(){return nt}}]),l}(),Te(document).on(Re.KEYDOWN_DATA_API,qe,it._dataApiKeydownHandler).on(Re.KEYDOWN_DATA_API,Ke,it._dataApiKeydownHandler).on(Re.CLICK_DATA_API+" "+Re.KEYUP_DATA_API,it._clearMenus).on(Re.CLICK_DATA_API,qe,function(e){e.preventDefault(),e.stopPropagation(),it._jQueryInterface.call(Te(this),"toggle")}).on(Re.CLICK_DATA_API,Ue,function(e){e.stopPropagation()}),Te.fn[Oe]=it._jQueryInterface,Te.fn[Oe].Constructor=it,Te.fn[Oe].noConflict=function(){return Te.fn[Oe]=De,it._jQueryInterface},it),Zn=(rt="modal",at="."+(st="bs.modal"),lt=(ot=t).fn[rt],ut={backdrop:!0,keyboard:!0,focus:!0,show:!0},ct={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},dt={HIDE:"hide"+at,HIDDEN:"hidden"+at,SHOW:"show"+at,SHOWN:"shown"+at,FOCUSIN:"focusin"+at,RESIZE:"resize"+at,CLICK_DISMISS:"click.dismiss"+at,KEYDOWN_DISMISS:"keydown.dismiss"+at,MOUSEUP_DISMISS:"mouseup.dismiss"+at,MOUSEDOWN_DISMISS:"mousedown.dismiss"+at,CLICK_DATA_API:"click"+at+".data-api"},ht="modal-scrollbar-measure",ft="modal-backdrop",pt="modal-open",gt="fade",mt="show",vt=".modal-dialog",_t='[data-toggle="modal"]',yt='[data-dismiss="modal"]',bt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",wt=".sticky-top",Et=".navbar-toggler",Ct=function(){function o(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=ot(e).find(vt)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}var e=o.prototype;return e.toggle=function(e){return this._isShown?this.hide():this.show(e)},e.show=function(e){var t=this;if(!this._isTransitioning&&!this._isShown){h.supportsTransitionEnd()&&ot(this._element).hasClass(gt)&&(this._isTransitioning=!0);var n=ot.Event(dt.SHOW,{relatedTarget:e});ot(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),ot(document.body).addClass(pt),this._setEscapeEvent(),this._setResizeEvent(),ot(this._element).on(dt.CLICK_DISMISS,yt,function(e){return t.hide(e)}),ot(this._dialog).on(dt.MOUSEDOWN_DISMISS,function(){ot(t._element).one(dt.MOUSEUP_DISMISS,function(e){ot(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return t._showElement(e)}))}},e.hide=function(e){var t=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var n=ot.Event(dt.HIDE);if(ot(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=h.supportsTransitionEnd()&&ot(this._element).hasClass(gt);i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),ot(document).off(dt.FOCUSIN),ot(this._element).removeClass(mt),ot(this._element).off(dt.CLICK_DISMISS),ot(this._dialog).off(dt.MOUSEDOWN_DISMISS),i?ot(this._element).one(h.TRANSITION_END,function(e){return t._hideModal(e)}).emulateTransitionEnd(300):this._hideModal()}}},e.dispose=function(){ot.removeData(this._element,st),ot(window,document,this._element,this._backdrop).off(at),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(e){return e=d({},ut,e),h.typeCheckConfig(rt,e,ct),e},e._showElement=function(e){var t=this,n=h.supportsTransitionEnd()&&ot(this._element).hasClass(gt);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,n&&h.reflow(this._element),ot(this._element).addClass(mt),this._config.focus&&this._enforceFocus();function i(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,ot(t._element).trigger(o)}var o=ot.Event(dt.SHOWN,{relatedTarget:e});n?ot(this._dialog).one(h.TRANSITION_END,i).emulateTransitionEnd(300):i()},e._enforceFocus=function(){var t=this;ot(document).off(dt.FOCUSIN).on(dt.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===ot(t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?ot(this._element).on(dt.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||ot(this._element).off(dt.KEYDOWN_DISMISS)},e._setResizeEvent=function(){var t=this;this._isShown?ot(window).on(dt.RESIZE,function(e){return t.handleUpdate(e)}):ot(window).off(dt.RESIZE)},e._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){ot(document.body).removeClass(pt),e._resetAdjustments(),e._resetScrollbar(),ot(e._element).trigger(dt.HIDDEN)})},e._removeBackdrop=function(){this._backdrop&&(ot(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(e){var t=this,n=ot(this._element).hasClass(gt)?gt:"";if(this._isShown&&this._config.backdrop){var i=h.supportsTransitionEnd()&&n;if(this._backdrop=document.createElement("div"),this._backdrop.className=ft,n&&ot(this._backdrop).addClass(n),ot(this._backdrop).appendTo(document.body),ot(this._element).on(dt.CLICK_DISMISS,function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===t._config.backdrop?t._element.focus():t.hide())}),i&&h.reflow(this._backdrop),ot(this._backdrop).addClass(mt),!e)return;if(!i)return void e();ot(this._backdrop).one(h.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){ot(this._backdrop).removeClass(mt);var o=function(){t._removeBackdrop(),e&&e()};h.supportsTransitionEnd()&&ot(this._element).hasClass(gt)?ot(this._backdrop).one(h.TRANSITION_END,o).emulateTransitionEnd(150):o()}else e&&e()},e._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var o=this;if(this._isBodyOverflowing){ot(bt).each(function(e,t){var n=ot(t)[0].style.paddingRight,i=ot(t).css("padding-right");ot(t).data("padding-right",n).css("padding-right",parseFloat(i)+o._scrollbarWidth+"px")}),ot(wt).each(function(e,t){var n=ot(t)[0].style.marginRight,i=ot(t).css("margin-right");ot(t).data("margin-right",n).css("margin-right",parseFloat(i)-o._scrollbarWidth+"px")}),ot(Et).each(function(e,t){var n=ot(t)[0].style.marginRight,i=ot(t).css("margin-right");ot(t).data("margin-right",n).css("margin-right",parseFloat(i)+o._scrollbarWidth+"px")});var e=document.body.style.paddingRight,t=ot("body").css("padding-right");ot("body").data("padding-right",e).css("padding-right",parseFloat(t)+this._scrollbarWidth+"px")}},e._resetScrollbar=function(){ot(bt).each(function(e,t){var n=ot(t).data("padding-right");void 0!==n&&ot(t).css("padding-right",n).removeData("padding-right")}),ot(wt+", "+Et).each(function(e,t){var n=ot(t).data("margin-right");void 0!==n&&ot(t).css("margin-right",n).removeData("margin-right")});var e=ot("body").data("padding-right");void 0!==e&&ot("body").css("padding-right",e).removeData("padding-right")},e._getScrollbarWidth=function(){var e=document.createElement("div");e.className=ht,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},o._jQueryInterface=function(n,i){return this.each(function(){var e=ot(this).data(st),t=d({},o.Default,ot(this).data(),"object"==typeof n&&n);if(e||(e=new o(this,t),ot(this).data(st,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n](i)}else t.show&&e.show(i)})},s(o,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return ut}}]),o}(),ot(document).on(dt.CLICK_DATA_API,_t,function(e){var t,n=this,i=h.getSelectorFromElement(this);i&&(t=ot(i)[0]);var o=ot(t).data(st)?"toggle":d({},ot(t).data(),ot(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var r=ot(t).one(dt.SHOW,function(e){e.isDefaultPrevented()||r.one(dt.HIDDEN,function(){ot(n).is(":visible")&&n.focus()})});Ct._jQueryInterface.call(ot(t),o,this)}),ot.fn[rt]=Ct._jQueryInterface,ot.fn[rt].Constructor=Ct,ot.fn[rt].noConflict=function(){return ot.fn[rt]=lt,Ct._jQueryInterface},Ct),ei=(kt="tooltip",St="."+(At="bs.tooltip"),Tt=(xt=t).fn[kt],Ot="bs-tooltip",Nt=new RegExp("(^|\\s)"+Ot+"\\S+","g"),Dt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!(It={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"}),selector:!(Pt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"}),placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},Rt="out",Mt={HIDE:"hide"+St,HIDDEN:"hidden"+St,SHOW:(Lt="show")+St,SHOWN:"shown"+St,INSERTED:"inserted"+St,CLICK:"click"+St,FOCUSIN:"focusin"+St,FOCUSOUT:"focusout"+St,MOUSEENTER:"mouseenter"+St,MOUSELEAVE:"mouseleave"+St},jt="fade",$t="show",Ft=".tooltip-inner",Bt=".arrow",Wt="hover",Ht="focus",zt="click",qt="manual",Ut=function(){function u(e,t){if(void 0===c)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var e=u.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,n=xt(e.currentTarget).data(t);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),xt(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(xt(this.getTipElement()).hasClass($t))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),xt.removeData(this.element,this.constructor.DATA_KEY),xt(this.element).off(this.constructor.EVENT_KEY),xt(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&xt(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===xt(this.element).css("display"))throw new Error("Please use show on visible elements");var e=xt.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){xt(this.element).trigger(e);var n=xt.contains(this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!n)return;var i=this.getTipElement(),o=h.getUID(this.constructor.NAME);i.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&xt(i).addClass(jt);var r="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,s=this._getAttachment(r);this.addAttachmentClass(s);var a=!1===this.config.container?document.body:xt(this.config.container);xt(i).data(this.constructor.DATA_KEY,this),xt.contains(this.element.ownerDocument.documentElement,this.tip)||xt(i).appendTo(a),xt(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new c(this.element,i,{placement:s,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:Bt},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),xt(i).addClass($t),"ontouchstart"in document.documentElement&&xt("body").children().on("mouseover",null,xt.noop);var l=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,xt(t.element).trigger(t.constructor.Event.SHOWN),e===Rt&&t._leave(null,t)};h.supportsTransitionEnd()&&xt(this.tip).hasClass(jt)?xt(this.tip).one(h.TRANSITION_END,l).emulateTransitionEnd(u._TRANSITION_DURATION):l()}},e.hide=function(e){function t(){n._hoverState!==Lt&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),xt(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()}var n=this,i=this.getTipElement(),o=xt.Event(this.constructor.Event.HIDE);xt(this.element).trigger(o),o.isDefaultPrevented()||(xt(i).removeClass($t),"ontouchstart"in document.documentElement&&xt("body").children().off("mouseover",null,xt.noop),this._activeTrigger[zt]=!1,this._activeTrigger[Ht]=!1,this._activeTrigger[Wt]=!1,h.supportsTransitionEnd()&&xt(this.tip).hasClass(jt)?xt(i).one(h.TRANSITION_END,t).emulateTransitionEnd(150):t(),this._hoverState="")},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(e){xt(this.getTipElement()).addClass(Ot+"-"+e)},e.getTipElement=function(){return this.tip=this.tip||xt(this.config.template)[0],this.tip},e.setContent=function(){var e=xt(this.getTipElement());this.setElementContent(e.find(Ft),this.getTitle()),e.removeClass(jt+" "+$t)},e.setElementContent=function(e,t){var n=this.config.html;"object"==typeof t&&(t.nodeType||t.jquery)?n?xt(t).parent().is(e)||e.empty().append(t):e.text(xt(t).text()):e[n?"html":"text"](t)},e.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e=e||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},e._getAttachment=function(e){return It[e.toUpperCase()]},e._setListeners=function(){var i=this;this.config.trigger.split(" ").forEach(function(e){if("click"===e)xt(i.element).on(i.constructor.Event.CLICK,i.config.selector,function(e){return i.toggle(e)});else if(e!==qt){var t=e===Wt?i.constructor.Event.MOUSEENTER:i.constructor.Event.FOCUSIN,n=e===Wt?i.constructor.Event.MOUSELEAVE:i.constructor.Event.FOCUSOUT;xt(i.element).on(t,i.config.selector,function(e){return i._enter(e)}).on(n,i.config.selector,function(e){return i._leave(e)})}xt(i.element).closest(".modal").on("hide.bs.modal",function(){return i.hide()})}),this.config.selector?this.config=d({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");!this.element.getAttribute("title")&&"string"==e||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(e,t){var n=this.constructor.DATA_KEY;(t=t||xt(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),xt(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?Ht:Wt]=!0),xt(t.getTipElement()).hasClass($t)||t._hoverState===Lt?t._hoverState=Lt:(clearTimeout(t._timeout),t._hoverState=Lt,t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){t._hoverState===Lt&&t.show()},t.config.delay.show):t.show())},e._leave=function(e,t){var n=this.constructor.DATA_KEY;(t=t||xt(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),xt(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?Ht:Wt]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=Rt,t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){t._hoverState===Rt&&t.hide()},t.config.delay.hide):t.hide())},e._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},e._getConfig=function(e){return"number"==typeof(e=d({},this.constructor.Default,xt(this.element).data(),e)).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),h.typeCheckConfig(kt,e,this.constructor.DefaultType),e},e._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},e._cleanTipClass=function(){var e=xt(this.getTipElement()),t=e.attr("class").match(Nt);null!==t&&0<t.length&&e.removeClass(t.join(""))},e._handlePopperPlacementChange=function(e){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},e._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(xt(e).removeClass(jt),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},u._jQueryInterface=function(n){return this.each(function(){var e=xt(this).data(At),t="object"==typeof n&&n;if((e||!/dispose|hide/.test(n))&&(e||(e=new u(this,t),xt(this).data(At,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},s(u,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Dt}},{key:"NAME",get:function(){return kt}},{key:"DATA_KEY",get:function(){return At}},{key:"Event",get:function(){return Mt}},{key:"EVENT_KEY",get:function(){return St}},{key:"DefaultType",get:function(){return Pt}}]),u}(),xt.fn[kt]=Ut._jQueryInterface,xt.fn[kt].Constructor=Ut,xt.fn[kt].noConflict=function(){return xt.fn[kt]=Tt,Ut._jQueryInterface},Ut),ti=(Gt="popover",Vt="."+(Yt="bs.popover"),Qt=(Kt=t).fn[Gt],Xt="bs-popover",Jt=new RegExp("(^|\\s)"+Xt+"\\S+","g"),Zt=d({},ei.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),en=d({},ei.DefaultType,{content:"(string|element|function)"}),tn="fade",on=".popover-header",rn=".popover-body",sn={HIDE:"hide"+Vt,HIDDEN:"hidden"+Vt,SHOW:(nn="show")+Vt,SHOWN:"shown"+Vt,INSERTED:"inserted"+Vt,CLICK:"click"+Vt,FOCUSIN:"focusin"+Vt,FOCUSOUT:"focusout"+Vt,MOUSEENTER:"mouseenter"+Vt,MOUSELEAVE:"mouseleave"+Vt},an=function(e){function i(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(i,e);var t=i.prototype;return t.isWithContent=function(){return this.getTitle()||this._getContent()},t.addAttachmentClass=function(e){Kt(this.getTipElement()).addClass(Xt+"-"+e)},t.getTipElement=function(){return this.tip=this.tip||Kt(this.config.template)[0],this.tip},t.setContent=function(){var e=Kt(this.getTipElement());this.setElementContent(e.find(on),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(rn),t),e.removeClass(tn+" "+nn)},t._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},t._cleanTipClass=function(){var e=Kt(this.getTipElement()),t=e.attr("class").match(Jt);null!==t&&0<t.length&&e.removeClass(t.join(""))},i._jQueryInterface=function(n){return this.each(function(){var e=Kt(this).data(Yt),t="object"==typeof n?n:null;if((e||!/destroy|hide/.test(n))&&(e||(e=new i(this,t),Kt(this).data(Yt,e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},s(i,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Zt}},{key:"NAME",get:function(){return Gt}},{key:"DATA_KEY",get:function(){return Yt}},{key:"Event",get:function(){return sn}},{key:"EVENT_KEY",get:function(){return Vt}},{key:"DefaultType",get:function(){return en}}]),i}(ei),Kt.fn[Gt]=an._jQueryInterface,Kt.fn[Gt].Constructor=an,Kt.fn[Gt].noConflict=function(){return Kt.fn[Gt]=Qt,an._jQueryInterface},an),ni=(un="scrollspy",dn="."+(cn="bs.scrollspy"),hn=(ln=t).fn[un],fn={offset:10,method:"auto",target:""},pn={offset:"number",method:"string",target:"(string|element)"},gn={ACTIVATE:"activate"+dn,SCROLL:"scroll"+dn,LOAD_DATA_API:"load"+dn+".data-api"},mn="dropdown-item",vn="active",_n='[data-spy="scroll"]',yn=".active",bn=".nav, .list-group",wn=".nav-link",En=".nav-item",Cn=".list-group-item",xn=".dropdown",kn=".dropdown-item",An=".dropdown-toggle",Sn="offset",Tn="position",On=function(){function n(e,t){var n=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+wn+","+this._config.target+" "+Cn+","+this._config.target+" "+kn,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,ln(this._scrollElement).on(gn.SCROLL,function(e){return n._process(e)}),this.refresh(),this._process()}var e=n.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?Sn:Tn,o="auto"===this._config.method?e:this._config.method,r=o===Tn?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),ln.makeArray(ln(this._selector)).map(function(e){var t,n=h.getSelectorFromElement(e);if(n&&(t=ln(n)[0]),t){var i=t.getBoundingClientRect();if(i.width||i.height)return[ln(t)[o]().top+r,n]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},e.dispose=function(){ln.removeData(this._element,cn),ln(this._scrollElement).off(dn),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(e){if("string"!=typeof(e=d({},fn,e)).target){var t=ln(e.target).attr("id");t||(t=h.getUID(un),ln(e.target).attr("id",t)),e.target="#"+t}return h.typeCheckConfig(un,e,pn),e},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),n<=e){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;){this._activeTarget!==this._targets[o]&&e>=this._offsets[o]&&(void 0===this._offsets[o+1]||e<this._offsets[o+1])&&this._activate(this._targets[o])}}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",");e=e.map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'});var n=ln(e.join(","));n.hasClass(mn)?(n.closest(xn).find(An).addClass(vn),n.addClass(vn)):(n.addClass(vn),n.parents(bn).prev(wn+", "+Cn).addClass(vn),n.parents(bn).prev(En).children(wn).addClass(vn)),ln(this._scrollElement).trigger(gn.ACTIVATE,{relatedTarget:t})},e._clear=function(){ln(this._selector).filter(yn).removeClass(vn)},n._jQueryInterface=function(t){return this.each(function(){var e=ln(this).data(cn);if(e||(e=new n(this,"object"==typeof t&&t),ln(this).data(cn,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},s(n,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return fn}}]),n}(),ln(window).on(gn.LOAD_DATA_API,function(){for(var e=ln.makeArray(ln(_n)),t=e.length;t--;){var n=ln(e[t]);On._jQueryInterface.call(n,n.data())}}),ln.fn[un]=On._jQueryInterface,ln.fn[un].Constructor=On,ln.fn[un].noConflict=function(){return ln.fn[un]=hn,On._jQueryInterface},On),ii=(In="."+(Pn="bs.tab"),Dn=(Nn=t).fn.tab,Ln={HIDE:"hide"+In,HIDDEN:"hidden"+In,SHOW:"show"+In,SHOWN:"shown"+In,CLICK_DATA_API:"click"+In+".data-api"},Rn="dropdown-menu",Mn="active",jn="disabled",$n="fade",Fn="show",Bn=".dropdown",Wn=".nav, .list-group",Hn=".active",zn="> li > .active",qn='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',Un=".dropdown-toggle",Kn="> .dropdown-menu .active",Gn=function(){function i(e){this._element=e}var e=i.prototype;return e.show=function(){var n=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&Nn(this._element).hasClass(Mn)||Nn(this._element).hasClass(jn))){var e,i,t=Nn(this._element).closest(Wn)[0],o=h.getSelectorFromElement(this._element);if(t){var r="UL"===t.nodeName?zn:Hn;i=(i=Nn.makeArray(Nn(t).find(r)))[i.length-1]}var s=Nn.Event(Ln.HIDE,{relatedTarget:this._element}),a=Nn.Event(Ln.SHOW,{relatedTarget:i});if(i&&Nn(i).trigger(s),Nn(this._element).trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){o&&(e=Nn(o)[0]),this._activate(this._element,t);var l=function(){var e=Nn.Event(Ln.HIDDEN,{relatedTarget:n._element}),t=Nn.Event(Ln.SHOWN,{relatedTarget:i});Nn(i).trigger(e),Nn(n._element).trigger(t)};e?this._activate(e,e.parentNode,l):l()}}},e.dispose=function(){Nn.removeData(this._element,Pn),this._element=null},e._activate=function(e,t,n){function i(){return o._transitionComplete(e,r,n)}var o=this,r=("UL"===t.nodeName?Nn(t).find(zn):Nn(t).children(Hn))[0],s=n&&h.supportsTransitionEnd()&&r&&Nn(r).hasClass($n);r&&s?Nn(r).one(h.TRANSITION_END,i).emulateTransitionEnd(150):i()},e._transitionComplete=function(e,t,n){if(t){Nn(t).removeClass(Fn+" "+Mn);var i=Nn(t.parentNode).find(Kn)[0];i&&Nn(i).removeClass(Mn),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}if(Nn(e).addClass(Mn),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),h.reflow(e),Nn(e).addClass(Fn),e.parentNode&&Nn(e.parentNode).hasClass(Rn)){var o=Nn(e).closest(Bn)[0];o&&Nn(o).find(Un).addClass(Mn),e.setAttribute("aria-expanded",!0)}n&&n()},i._jQueryInterface=function(n){return this.each(function(){var e=Nn(this),t=e.data(Pn);if(t||(t=new i(this),e.data(Pn,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},s(i,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),i}(),Nn(document).on(Ln.CLICK_DATA_API,qn,function(e){e.preventDefault(),Gn._jQueryInterface.call(Nn(this),"show")}),Nn.fn.tab=Gn._jQueryInterface,Nn.fn.tab.Constructor=Gn,Nn.fn.tab.noConflict=function(){return Nn.fn.tab=Dn,Gn._jQueryInterface},Gn);!function(e){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||4<=t[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(t),e.Util=h,e.Alert=Yn,e.Button=Vn,e.Carousel=Qn,e.Collapse=Xn,e.Dropdown=Jn,e.Modal=Zn,e.Popover=ti,e.Scrollspy=ni,e.Tab=ii,e.Tooltip=ei,Object.defineProperty(e,"__esModule",{value:!0})}),function(){var bt,t=[],n=[],wt=0,Et={},Ct=+new Date+"",xt=75,i=40,kt=" \t\v\f\ufeff\n\r\u2028\u2029",At=/\b__p \+= '';/g,St=/\b(__p \+=) '' \+/g,Tt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ot=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nt=/\w*$/,Pt=/^\s*function[ \n\r\t]+\w/,It=/<%=([\s\S]+?)%>/g,Dt=RegExp("^["+kt+"]*0+(?=.$)"),Lt=/($^)/,Rt=/\bthis\b/,Mt=/['\n\r\t\u2028\u2029\\]/g,jt=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],$t=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ft=0,Bt="[object Arguments]",Wt="[object Array]",Ht="[object Boolean]",zt="[object Date]",qt="[object Error]",Ut="[object Function]",Kt="[object Number]",Gt="[object Object]",Yt="[object RegExp]",Vt="[object String]",Qt={};Qt[Ut]=!1,Qt[Bt]=Qt[Wt]=Qt[Ht]=Qt[zt]=Qt[Kt]=Qt[Gt]=Qt[Yt]=Qt[Vt]=!0;var Xt={leading:!1,maxWait:0,trailing:!1},Jt={configurable:!1,enumerable:!1,value:null,writable:!1},Zt={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},en={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},o={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},tn=en[typeof window]&&window||this,e=en[typeof exports]&&exports&&!exports.nodeType&&exports,r=en[typeof module]&&module&&!module.nodeType&&module,s=r&&r.exports===e&&e,a=en[typeof global]&&global;function nn(e,t,n){for(var i=(n||0)-1,o=e?e.length:0;++i<o;)if(e[i]===t)return i;return-1}function on(e,t){var n=typeof t;if(e=e.cache,"boolean"==n||null==t)return e[t]?0:-1;"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:Ct+t;return e=(e=e[n])&&e[i],"object"==n?e&&-1<nn(e,t)?0:-1:e?0:-1}function l(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?e:Ct+e,o=t[n]||(t[n]={});"object"==n?(o[i]||(o[i]=[])).push(e):o[i]=!0}}function rn(e){return e.charCodeAt(0)}function sn(e,t){for(var n=e.criteria,i=t.criteria,o=-1,r=n.length;++o<r;){var s=n[o],a=i[o];if(s!==a){if(a<s||void 0===s)return 1;if(s<a||void 0===a)return-1}}return e.index-t.index}function an(e){var t=-1,n=e.length,i=e[0],o=e[n/2|0],r=e[n-1];if(i&&"object"==typeof i&&o&&"object"==typeof o&&r&&"object"==typeof r)return!1;var s=cn();s.false=s.null=s.true=s[void 0]=!1;var a=cn();for(a.array=e,a.cache=s,a.push=l;++t<n;)a.push(e[t]);return a}function ln(e){return"\\"+o[e]}function un(){return t.pop()||[]}function cn(){return n.pop()||{array:null,cache:null,criteria:null,false:!1,index:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,value:null}}function dn(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function hn(e){e.length=0,t.length<i&&t.push(e)}function fn(e){var t=e.cache;t&&fn(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,n.length<i&&n.push(e)}function pn(e,t,n){t=t||0,void 0===n&&(n=e?e.length:0);for(var i=-1,o=n-t||0,r=Array(o<0?0:o);++i<o;)r[i]=e[t+i];return r}!a||a.global!==a&&a.window!==a||(tn=a);var gn=function o(r){var l=(r=r?gn.defaults(tn.Object(),r,gn.pick(tn,jt)):tn).Array,e=r.Boolean,t=r.Date,n=r.Error,m=r.Function,i=r.Math,s=r.Number,b=r.Object,v=r.RegExp,w=r.String,_=r.TypeError,a=[],u=n.prototype,c=b.prototype,d=w.prototype,h=r._,E=c.toString,f=v("^"+w(E).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),p=i.ceil,y=r.clearTimeout,g=i.floor,C=m.prototype.toString,x=ce(x=b.getPrototypeOf)&&x,k=c.hasOwnProperty,A=a.push,S=c.propertyIsEnumerable,T=r.setTimeout,O=a.splice,N=a.unshift,P=function(){try{var e={},t=ce(t=b.defineProperty)&&t,n=t(e,e,e)&&t}catch(e){}return n}(),I=ce(I=b.create)&&I,D=ce(D=l.isArray)&&D,L=r.isFinite,R=r.isNaN,M=ce(M=b.keys)&&M,j=i.max,$=i.min,F=r.parseInt,B=i.random,W={};W[Wt]=l,W[Ht]=e,W[zt]=t,W[Ut]=m,W[Gt]=b,W[Kt]=s,W[Yt]=v,W[Vt]=w;var H={};function z(e){return e&&"object"==typeof e&&!ge(e)&&k.call(e,"__wrapped__")?e:new q(e)}function q(e,t){this.__chain__=!!t,this.__wrapped__=e}H[Wt]=H[zt]=H[Kt]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},H[Ht]=H[Vt]={constructor:!0,toString:!0,valueOf:!0},H[qt]=H[Ut]=H[Yt]={constructor:!0,toString:!0},H[Gt]={constructor:!0},function(){for(var e=$t.length;e--;){var t=$t[e];for(var n in H)k.call(H,n)&&!k.call(H[n],t)&&(H[n][t]=!1)}}(),q.prototype=z.prototype;var U=z.support={};!function(){function e(){this.x=1}var t={0:1,length:1},n=[];for(var i in e.prototype={valueOf:1,y:1},new e)n.push(i);for(i in arguments);U.argsClass=E.call(arguments)==Bt,U.argsObject=arguments.constructor==b&&!(arguments instanceof l),U.enumErrorProps=S.call(u,"message")||S.call(u,"name"),U.enumPrototypes=S.call(e,"prototype"),U.funcDecomp=!ce(r.WinRTError)&&Rt.test(o),U.funcNames="string"==typeof m.name,U.nonEnumArgs=0!=i,U.nonEnumShadows=!/valueOf/.test(n),U.ownLast="x"!=n[0],U.spliceObjects=(a.splice.call(t,0,1),!t[0]),U.unindexedChars="x"[0]+b("x")[0]!="xx";try{U.nodeClass=!(E.call(document)==Gt&&!({toString:0}+""))}catch(e){U.nodeClass=!0}}(1),z.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:It,variable:"",imports:{_:z}};var K=_t("var index, iterable = <%= firstArg %>, result = <%= init %>;\nif (!iterable) return result;\n<%= top %>;<% if (array) { %>\nvar length = iterable.length; index = -1;\nif (<%= array %>) {  <% if (support.unindexedChars) { %>\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  <% } %>\n  while (++index < length) {\n    <%= loop %>;\n  }\n}\nelse {  <% } else if (support.nonEnumArgs) { %>\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      <%= loop %>;\n    }\n  } else {  <% } %>  <% if (support.enumPrototypes) { %>\n  var skipProto = typeof iterable == 'function';\n  <% } %>  <% if (support.enumErrorProps) { %>\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  <% } %>  <%    var conditions = [];    if (support.enumPrototypes) { conditions.push('!(skipProto && index == \"prototype\")'); }    if (support.enumErrorProps)  { conditions.push('!(skipErrorProps && (index == \"message\" || index == \"name\"))'); }  %>  <% if (useHas && keys) { %>\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n<%    if (conditions.length) { %>    if (<%= conditions.join(' && ') %>) {\n  <% } %>    <%= loop %>;    <% if (conditions.length) { %>\n    }<% } %>\n  }  <% } else { %>\n  for (index in iterable) {\n<%    if (useHas) { conditions.push(\"hasOwnProperty.call(iterable, index)\"); }    if (conditions.length) { %>    if (<%= conditions.join(' && ') %>) {\n  <% } %>    <%= loop %>;    <% if (conditions.length) { %>\n    }<% } %>\n  }    <% if (support.nonEnumShadows) { %>\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      <% for (k = 0; k < 7; k++) { %>\n    index = '<%= shadowedProps[k] %>';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))<%        if (!useHas) { %> || (!nonEnum[index] && iterable[index] !== objectProto[index])<% }      %>) {\n      <%= loop %>;\n    }      <% } %>\n  }    <% } %>  <% } %>  <% if (array || support.nonEnumArgs) { %>\n}<% } %>\n<%= bottom %>;\nreturn result");function G(e){var i=e[0],o=e[2],r=e[4];function s(){if(o){var e=pn(o);A.apply(e,arguments)}if(this instanceof s){var t=V(i.prototype),n=i.apply(t,e||arguments);return Le(n)?n:t}return i.apply(r,e||arguments)}return de(s,e),s}function Y(e,n,i,o,r){if(i){var s=i(e);if(void 0!==s)return s}if(!Le(e))return e;var t=E.call(e);if(!Qt[t]||!U.nodeClass&&dn(e))return e;var a=W[t];switch(t){case Ht:case zt:return new a(+e);case Kt:case Vt:return new a(e);case Yt:return(s=a(e.source,Nt.exec(e))).lastIndex=e.lastIndex,s}var l=ge(e);if(n){var u=!o;o=o||un(),r=r||un();for(var c=o.length;c--;)if(o[c]==e)return r[c];s=l?a(e.length):{}}else s=l?pn(e):Ae({},e);return l&&(k.call(e,"index")&&(s.index=e.index),k.call(e,"input")&&(s.input=e.input)),n&&(o.push(e),r.push(s),(l?ke:Oe)(e,function(e,t){s[t]=Y(e,n,i,o,r)}),u&&(hn(o),hn(r))),s}function V(e,t){return Le(e)?I(e):{}}function Q(){}function X(o,r,e){if("function"!=typeof o)return dt;if(void 0===r||!("prototype"in o))return o;var t=o.__bindData__;if(void 0===t&&(U.funcNames&&(t=!o.name),!(t=t||!U.funcDecomp))){var n=C.call(o);U.funcNames||(t=!Pt.test(n)),t||(t=Rt.test(n),de(o,t))}if(!1===t||!0!==t&&1&t[1])return o;switch(e){case 1:return function(e){return o.call(r,e)};case 2:return function(e,t){return o.call(r,e,t)};case 3:return function(e,t,n){return o.call(r,e,t,n)};case 4:return function(e,t,n,i){return o.call(r,e,t,n,i)}}return ut(o,r)}function J(e){var i=e[0],o=e[1],r=e[2],s=e[3],a=e[4],l=e[5],u=1&o,c=2&o,d=4&o,h=8&o,f=i;function p(){var e=u?a:this;if(r){var t=pn(r);A.apply(t,arguments)}if((s||d)&&(t=t||pn(arguments),s&&A.apply(t,s),d&&t.length<l))return o|=16,J([i,h?o:-4&o,t,null,a,l]);if(t=t||arguments,c&&(i=e[f]),this instanceof p){e=V(i.prototype);var n=i.apply(e,t);return Le(n)?n:e}return i.apply(e,t)}return de(p,e),p}function Z(e,t){var n=-1,i=ue(),o=e?e.length:0,r=xt<=o&&i===nn,s=[];if(r){var a=an(t);a?(i=on,t=a):r=!1}for(;++n<o;){var l=e[n];i(t,l)<0&&s.push(l)}return r&&fn(t),s}function ee(e,t,n,i){for(var o=(i||0)-1,r=e?e.length:0,s=[];++o<r;){var a=e[o];if(a&&"object"==typeof a&&"number"==typeof a.length&&(ge(a)||pe(a))){t||(a=ee(a,t,n));var l=-1,u=a.length,c=s.length;for(s.length+=u;++l<u;)s[c++]=a[l]}else n||s.push(a)}return s}function te(i,e,o,r,s,a){if(o){var l=o(i,e);if(void 0!==l)return!!l}if(i===e)return 0!==i||1/i==1/e;var t=typeof e;if(!(i!=i||i&&en[typeof i]||e&&en[t]))return!1;if(null==i||null==e)return i===e;var n=E.call(i),u=E.call(e);if(n==Bt&&(n=Gt),u==Bt&&(u=Gt),n!=u)return!1;switch(n){case Ht:case zt:return+i==+e;case Kt:return i!=+i?e!=+e:0==i?1/i==1/e:i==+e;case Yt:case Vt:return i==w(e)}var c=n==Wt;if(!c){var d=k.call(i,"__wrapped__"),h=k.call(e,"__wrapped__");if(d||h)return te(d?i.__wrapped__:i,h?e.__wrapped__:e,o,r,s,a);if(n!=Gt||!U.nodeClass&&(dn(i)||dn(e)))return!1;var f=!U.argsObject&&pe(i)?b:i.constructor,p=!U.argsObject&&pe(e)?b:e.constructor;if(f!=p&&!(De(f)&&f instanceof f&&De(p)&&p instanceof p)&&"constructor"in i&&"constructor"in e)return!1}var g=!s;s=s||un(),a=a||un();for(var m=s.length;m--;)if(s[m]==i)return a[m]==e;var v=0;if(l=!0,s.push(i),a.push(e),c){if(m=i.length,v=e.length,(l=v==m)||r)for(;v--;){var _=m,y=e[v];if(r)for(;_--&&!(l=te(i[_],y,o,r,s,a)););else if(!(l=te(i[v],y,o,r,s,a)))break}}else Te(e,function(e,t,n){if(k.call(n,t))return v++,l=k.call(i,t)&&te(i[t],e,o,r,s,a)}),l&&!r&&Te(i,function(e,t,n){if(k.call(n,t))return l=-1<--v});return s.pop(),a.pop(),g&&(hn(s),hn(a)),l}function ne(l,e,u,c,d){(ge(e)?qe:Oe)(e,function(e,t){var n,i,o=e,r=l[t];if(e&&((i=ge(e))||Me(e))){for(var s,a=c.length;a--;)if(n=c[a]==e){r=d[a];break}n||(u&&(s=void 0!==(o=u(r,e)))&&(r=o),s||(r=i?ge(r)?r:[]:Me(r)?r:{}),c.push(e),d.push(r),s||ne(r,e,u,c,d))}else u&&void 0===(o=u(r,e))&&(o=e),void 0!==o&&(r=o);l[t]=r})}function ie(e,t){return e+g(B()*(t-e+1))}function oe(e,t,n){var i=-1,o=ue(),r=e?e.length:0,s=[],a=!t&&xt<=r&&o===nn,l=n||a?un():s;for(a&&(o=on,l=an(l));++i<r;){var u=e[i],c=n?n(u,i,e):u;(t?!i||l[l.length-1]!==c:o(l,c)<0)&&((n||a)&&l.push(c),s.push(u))}return a?(hn(l.array),fn(l)):n&&hn(l),s}function re(a){return function(e,i,t){var o={};if(i=z.createCallback(i,t,3),ge(e))for(var n=-1,r=e.length;++n<r;){var s=e[n];a(o,s,i(s,n,e),e)}else ke(e,function(e,t,n){a(o,e,i(e,t,n),n)});return o}}function se(e,t,n,i,o,r){var s=1&t,a=4&t,l=16&t,u=32&t;if(!(2&t||De(e)))throw new _;l&&!n.length&&(t&=-17,l=n=!1),u&&!i.length&&(t&=-33,u=i=!1);var c=e&&e.__bindData__;return c&&!0!==c?((c=pn(c))[2]&&(c[2]=pn(c[2])),c[3]&&(c[3]=pn(c[3])),!s||1&c[1]||(c[4]=o),!s&&1&c[1]&&(t|=8),!a||4&c[1]||(c[5]=r),l&&A.apply(c[2]||(c[2]=[]),n),u&&N.apply(c[3]||(c[3]=[]),i),c[1]|=t,se.apply(null,c)):(1==t||17===t?G:J)([e,t,n,i,o,r])}function ae(){Zt.shadowedProps=$t,Zt.support=U,Zt.array=Zt.bottom=Zt.loop=Zt.top="",Zt.init="iterable",Zt.useHas=!0;for(var e,t=0;e=arguments[t];t++)for(var n in e)Zt[n]=e[n];var i=Zt.args;return Zt.firstArg=/^[^,]+/.exec(i)[0],m("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+i+") {\n"+K(Zt)+"\n}")(X,qt,u,k,Et,pe,ge,je,Zt.keys,c,en,H,Vt,d,E)}function le(e){return we[e]}function ue(){var e=(e=z.indexOf)===it?nn:e;return e}function ce(e){return"function"==typeof e&&f.test(e)}I||(V=function(e){if(Le(e)){Q.prototype=e;var t=new Q;Q.prototype=null}return t||r.Object()});var de=P?function(e,t){Jt.value=t,P(e,"__bindData__",Jt),Jt.value=null}:ft;function he(e){var t,i;return!(!e||E.call(e)!=Gt||De(t=e.constructor)&&!(t instanceof t)||!U.argsClass&&pe(e)||!U.nodeClass&&dn(e))&&(U.ownLast?(Te(e,function(e,t,n){return i=k.call(n,t),!1}),!1!==i):(Te(e,function(e,t){i=t}),void 0===i||k.call(e,i)))}function fe(e){return Ee[e]}function pe(e){return e&&"object"==typeof e&&"number"==typeof e.length&&E.call(e)==Bt||!1}U.argsClass||(pe=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&k.call(e,"callee")&&!S.call(e,"callee")||!1});var ge=D||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&E.call(e)==Wt||!1},me=ae({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),ve=M?function(e){return Le(e)?U.enumPrototypes&&"function"==typeof e||U.nonEnumArgs&&e.length&&pe(e)?me(e):M(e):[]}:me,_e={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:ve,loop:"if (callback(iterable[index], index, collection) === false) return result"},ye={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:ve,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},be={top:"if (!objectTypes[typeof iterable]) return result;\n"+_e.top,array:!1},we={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ee=Ie(we),Ce=v("("+ve(Ee).join("|")+")","g"),xe=v("["+ve(we).join("")+"]","g"),ke=ae(_e),Ae=ae(ye,{top:ye.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"});var Se=ae(ye);var Te=ae(_e,be,{useHas:!1});var Oe=ae(_e,be);function Ne(e,t,n){var i=ve(e),o=i.length;for(t=X(t,n,3);o--;){var r=i[o];if(!1===t(e[r],r,e))break}return e}function Pe(e){var n=[];return Te(e,function(e,t){De(e)&&n.push(t)}),n.sort()}function Ie(e){for(var t=-1,n=ve(e),i=n.length,o={};++t<i;){var r=n[t];o[e[r]]=r}return o}function De(e){return"function"==typeof e}function Le(e){return!(!e||!en[typeof e])}function Re(e){return"number"==typeof e||e&&"object"==typeof e&&E.call(e)==Kt||!1}De(/x/)&&(De=function(e){return"function"==typeof e&&E.call(e)==Ut});var Me=x?function(e){if(!e||E.call(e)!=Gt||!U.argsClass&&pe(e))return!1;var t=e.valueOf,n=ce(t)&&(n=x(t))&&x(n);return n?e==n||x(e)==n:he(e)}:he;function je(e){return"string"==typeof e||e&&"object"==typeof e&&E.call(e)==Vt||!1}function $e(e){for(var t=-1,n=ve(e),i=n.length,o=l(i);++t<i;)o[t]=e[n[t]];return o}function Fe(e,t,n){var i=-1,o=ue(),r=e?e.length:0,s=!1;return n=(n<0?j(0,r+n):n)||0,ge(e)?s=-1<o(e,t,n):"number"==typeof r?s=-1<(je(e)?e.indexOf(t,n):o(e,t,n)):ke(e,function(e){if(++i>=n)return!(s=e===t)}),s}var Be=re(function(e,t,n){k.call(e,n)?e[n]++:e[n]=1});function We(e,i,t){var o=!0;if(i=z.createCallback(i,t,3),ge(e))for(var n=-1,r=e.length;++n<r&&(o=!!i(e[n],n,e)););else ke(e,function(e,t,n){return o=!!i(e,t,n)});return o}function He(e,i,t){var o=[];if(i=z.createCallback(i,t,3),ge(e))for(var n=-1,r=e.length;++n<r;){var s=e[n];i(s,n,e)&&o.push(s)}else ke(e,function(e,t,n){i(e,t,n)&&o.push(e)});return o}function ze(e,i,t){var o;if(i=z.createCallback(i,t,3),!ge(e))return ke(e,function(e,t,n){if(i(e,t,n))return o=e,!1}),o;for(var n=-1,r=e.length;++n<r;){var s=e[n];if(i(s,n,e))return s}}function qe(e,t,n){if(t&&void 0===n&&ge(e))for(var i=-1,o=e.length;++i<o&&!1!==t(e[i],i,e););else ke(e,t,n);return e}function Ue(e,i,t){var o=e,r=e?e.length:0;if(i=i&&void 0===t?i:X(i,t,3),ge(e))for(;r--&&!1!==i(e[r],r,e););else{if("number"!=typeof r){var s=ve(e);r=s.length}else U.unindexedChars&&je(e)&&(o=e.split(""));ke(e,function(e,t,n){return t=s?s[--r]:--r,i(o[t],t,n)})}return e}var Ke=re(function(e,t,n){(k.call(e,n)?e[n]:e[n]=[]).push(t)}),Ge=re(function(e,t,n){e[n]=t});function Ye(e,i,t){var o=-1,n=e?e.length:0,r=l("number"==typeof n?n:0);if(i=z.createCallback(i,t,3),ge(e))for(;++o<n;)r[o]=i(e[o],o,e);else ke(e,function(e,t,n){r[++o]=i(e,t,n)});return r}function Ve(e,o,t){var r=-1/0,s=r;if("function"!=typeof o&&t&&t[o]===e&&(o=null),null==o&&ge(e))for(var n=-1,i=e.length;++n<i;){var a=e[n];s<a&&(s=a)}else o=null==o&&je(e)?rn:z.createCallback(o,t,3),ke(e,function(e,t,n){var i=o(e,t,n);r<i&&(r=i,s=e)});return s}var Qe=Ye;function Xe(e,i,o,t){var r=arguments.length<3;if(i=z.createCallback(i,t,4),ge(e)){var n=-1,s=e.length;for(r&&(o=e[++n]);++n<s;)o=i(o,e[n],n,e)}else ke(e,function(e,t,n){o=r?(r=!1,e):i(o,e,t,n)});return o}function Je(e,i,o,t){var r=arguments.length<3;return i=z.createCallback(i,t,4),Ue(e,function(e,t,n){o=r?(r=!1,e):i(o,e,t,n)}),o}function Ze(e){var n=-1,t=e?e.length:0,i=l("number"==typeof t?t:0);return qe(e,function(e){var t=ie(0,++n);i[n]=i[t],i[t]=e}),i}function et(e,i,t){var o;if(i=z.createCallback(i,t,3),ge(e))for(var n=-1,r=e.length;++n<r&&!(o=i(e[n],n,e)););else ke(e,function(e,t,n){return!(o=i(e,t,n))});return!!o}var tt=He;function nt(e,t,n){var i=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var r=-1;for(t=z.createCallback(t,n,3);++r<o&&t(e[r],r,e);)i++}else if(null==(i=t)||n)return e?e[0]:bt;return pn(e,0,$(j(0,i),o))}function it(e,t,n){if("number"==typeof n){var i=e?e.length:0;n=n<0?j(0,i+n):n||0}else if(n){var o=rt(e,t);return e[o]===t?o:-1}return nn(e,t,n)}function ot(e,t,n){if("number"!=typeof t&&null!=t){var i=0,o=-1,r=e?e.length:0;for(t=z.createCallback(t,n,3);++o<r&&t(e[o],o,e);)i++}else i=null==t||n?1:j(0,t);return pn(e,i)}function rt(e,t,n,i){var o=0,r=e?e.length:o;for(t=(n=n?z.createCallback(n,i,1):dt)(t);o<r;){var s=o+r>>>1;n(e[s])<t?o=1+s:r=s}return o}function st(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n="function"!=typeof t&&i&&i[t]===e?null:t,t=!1),null!=n&&(n=z.createCallback(n,i,3)),oe(e,t,n)}function at(){for(var e=1<arguments.length?arguments:arguments[0],t=-1,n=e?Ve(Qe(e,"length")):0,i=l(n<0?0:n);++t<n;)i[t]=Qe(e,t);return i}function lt(e,t){var n=-1,i=e?e.length:0,o={};for(t||!i||ge(e[0])||(t=[]);++n<i;){var r=e[n];t?o[r]=t[n]:r&&(o[r[0]]=r[1])}return o}function ut(e,t){return 2<arguments.length?se(e,17,pn(arguments,2),null,t):se(e,1,null,null,t)}function ct(i,o,e){var r,s,a,l,u,c,d,h=0,f=!1,p=!0;if(!De(i))throw new _;if(o=j(0,o)||0,!0===e){var g=!0;p=!1}else Le(e)&&(g=e.leading,f="maxWait"in e&&(j(o,e.maxWait)||0),p="trailing"in e?e.trailing:p);function m(){c&&y(c),s=c=d=bt,!p&&f===o||(h=gt(),a=i.apply(u,r),c||s||(r=u=null))}var v=function(){var e=o-(gt()-l);if(e<=0){s&&y(s);var t=d;s=c=d=bt,t&&(h=gt(),a=i.apply(u,r),c||s||(r=u=null))}else c=T(v,e)};return function(){if(r=arguments,l=gt(),u=this,d=p&&(c||!g),!1===f)var e=g&&!c;else{s||g||(h=l);var t=f-(l-h),n=t<=0;n?(s=s&&y(s),h=l,a=i.apply(u,r)):s=s||T(m,t)}return n&&c?c=y(c):c||o===f||(c=T(v,o)),e&&(n=!0,a=i.apply(u,r)),!n||c||s||(r=u=null),a}}function dt(e){return e}function ht(r,t,e){var s=!0,n=t&&Pe(t);t&&(e||n.length)||(null==e&&(e=t),a=q,t=r,r=z,n=Pe(t)),!1===e?s=!1:Le(e)&&"chain"in e&&(s=e.chain);var a=r,i=De(a);qe(n,function(e){var o=r[e]=t[e];i&&(a.prototype[e]=function(){var e=this.__chain__,t=this.__wrapped__,n=[t];A.apply(n,arguments);var i=o.apply(r,n);if(s||e){if(t===i&&Le(i))return this;(i=new a(i)).__chain__=e}return i})})}function ft(){}var pt,gt=ce(gt=t.now)&&gt||function(){return(new t).getTime()},mt=8==F(kt+"08")?F:function(e,t){return F(je(e)?e.replace(Dt,""):e,t||0)};function vt(t){return function(e){return e[t]}}function _t(s,e,t){var n=z.templateSettings;s=w(s||""),t=K?Se({},t,n):n;var a,i=K&&Se({},t.imports,n.imports),o=K?ve(i):["_"],r=K?$e(i):[z],l=0,u=t.interpolate||Lt,c="__p += '",d=v((t.escape||Lt).source+"|"+u.source+"|"+(u===It?Ot:Lt).source+"|"+(t.evaluate||Lt).source+"|$","g");s.replace(d,function(e,t,n,i,o,r){return n=n||i,c+=s.slice(l,r).replace(Mt,ln),t&&(c+="' +\n__e("+t+") +\n'"),o&&(a=!0,c+="';\n"+o+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=r+e.length,e}),c+="';\n";var h=t.variable,f=h;f||(c="with ("+(h="obj")+") {\n"+c+"\n}\n"),c=(a?c.replace(At,""):c).replace(St,"$1").replace(Tt,"$1;"),c="function("+h+") {\n"+(f?"":h+" || ("+h+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var p="\n/*\n//# sourceURL="+(t.sourceURL||"/lodash/template/source["+Ft+++"]")+"\n*/";try{var g=m(o,"return "+c+p).apply(bt,r)}catch(e){throw e.source=c,e}return e?g(e):(g.source=c,g)}function yt(){return this.__wrapped__}return z.after=function(e,t){if(!De(t))throw new _;return function(){if(--e<1)return t.apply(this,arguments)}},z.assign=Ae,z.at=function(e){var t=arguments,n=-1,i=ee(t,!0,!1,1),o=t[2]&&t[2][t[1]]===e?1:i.length,r=l(o);for(U.unindexedChars&&je(e)&&(e=e.split(""));++n<o;)r[n]=e[i[n]];return r},z.bind=ut,z.bindAll=function(e){for(var t=1<arguments.length?ee(arguments,!0,!1,1):Pe(e),n=-1,i=t.length;++n<i;){var o=t[n];e[o]=se(e[o],1,null,null,e)}return e},z.bindKey=function(e,t){return 2<arguments.length?se(t,19,pn(arguments,2),null,e):se(t,3,null,null,e)},z.chain=function(e){return(e=new q(e)).__chain__=!0,e},z.compact=function(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var o=e[t];o&&i.push(o)}return i},z.compose=function(){for(var n=arguments,e=n.length;e--;)if(!De(n[e]))throw new _;return function(){for(var e=arguments,t=n.length;t--;)e=[n[t].apply(this,e)];return e[0]}},z.constant=function(e){return function(){return e}},z.countBy=Be,z.create=function(e,t){var n=V(e);return t?Ae(n,t):n},z.createCallback=function(i,e,t){var n=typeof i;if(null==i||"function"==n)return X(i,e,t);if("object"!=n)return vt(i);var o=ve(i),r=o[0],s=i[r];return 1!=o.length||s!=s||Le(s)?function(e){for(var t=o.length,n=!1;t--&&(n=te(e[o[t]],i[o[t]],null,!0)););return n}:function(e){var t=e[r];return s===t&&(0!==s||1/s==1/t)}},z.curry=function(e,t){return se(e,4,null,null,null,t="number"==typeof t?t:+t||e.length)},z.debounce=ct,z.defaults=Se,z.defer=function(e){if(!De(e))throw new _;var t=pn(arguments,1);return T(function(){e.apply(bt,t)},1)},z.delay=function(e,t){if(!De(e))throw new _;var n=pn(arguments,2);return T(function(){e.apply(bt,n)},t)},z.difference=function(e){return Z(e,ee(arguments,!0,!0,1))},z.filter=He,z.flatten=function(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n="function"!=typeof t&&i&&i[t]===e?null:t,t=!1),null!=n&&(e=Ye(e,n,i)),ee(e,t)},z.forEach=qe,z.forEachRight=Ue,z.forIn=Te,z.forInRight=function(e,t,n){var i=[];Te(e,function(e,t){i.push(t,e)});var o=i.length;for(t=X(t,n,3);o--&&!1!==t(i[o--],i[o],e););return e},z.forOwn=Oe,z.forOwnRight=Ne,z.functions=Pe,z.groupBy=Ke,z.indexBy=Ge,z.initial=function(e,t,n){var i=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var r=o;for(t=z.createCallback(t,n,3);r--&&t(e[r],r,e);)i++}else i=null==t||n?1:t||i;return pn(e,0,$(j(0,o-i),o))},z.intersection=function(){for(var e=[],t=-1,n=arguments.length,i=un(),o=ue(),r=o===nn,s=un();++t<n;){var a=arguments[t];(ge(a)||pe(a))&&(e.push(a),i.push(r&&a.length>=xt&&an(t?e[t]:s)))}var l=e[0],u=-1,c=l?l.length:0,d=[];e:for(;++u<c;){var h=i[0];if(a=l[u],(h?on(h,a):o(s,a))<0){for(t=n,(h||s).push(a);--t;)if(((h=i[t])?on(h,a):o(e[t],a))<0)continue e;d.push(a)}}for(;n--;)(h=i[n])&&fn(h);return hn(i),hn(s),d},z.invert=Ie,z.invoke=function(e,t){var n=pn(arguments,2),i=-1,o="function"==typeof t,r=e?e.length:0,s=l("number"==typeof r?r:0);return qe(e,function(e){s[++i]=(o?t:e[t]).apply(e,n)}),s},z.keys=ve,z.map=Ye,z.mapValues=function(e,i,t){var o={};return i=z.createCallback(i,t,3),Oe(e,function(e,t,n){o[t]=i(e,t,n)}),o},z.max=Ve,z.memoize=function(n,i){if(!De(n))throw new _;var o=function(){var e=o.cache,t=i?i.apply(this,arguments):Ct+arguments[0];return k.call(e,t)?e[t]:e[t]=n.apply(this,arguments)};return o.cache={},o},z.merge=function(e){var t=arguments,n=2;if(!Le(e))return e;if("number"!=typeof t[2]&&(n=t.length),3<n&&"function"==typeof t[n-2])var i=X(t[--n-1],t[n--],2);else 2<n&&"function"==typeof t[n-1]&&(i=t[--n]);for(var o=pn(arguments,1,n),r=-1,s=un(),a=un();++r<n;)ne(e,o[r],i,s,a);return hn(s),hn(a),e},z.min=function(e,o,t){var r=1/0,s=r;if("function"!=typeof o&&t&&t[o]===e&&(o=null),null==o&&ge(e))for(var n=-1,i=e.length;++n<i;){var a=e[n];a<s&&(s=a)}else o=null==o&&je(e)?rn:z.createCallback(o,t,3),ke(e,function(e,t,n){var i=o(e,t,n);i<r&&(r=i,s=e)});return s},z.omit=function(e,i,t){var o={};if("function"!=typeof i){var n=[];Te(e,function(e,t){n.push(t)});for(var r=-1,s=(n=Z(n,ee(arguments,!0,!1,1))).length;++r<s;){var a=n[r];o[a]=e[a]}}else i=z.createCallback(i,t,3),Te(e,function(e,t,n){i(e,t,n)||(o[t]=e)});return o},z.once=function(e){var t,n;if(!De(e))throw new _;return function(){return t||(t=!0,n=e.apply(this,arguments),e=null),n}},z.pairs=function(e){for(var t=-1,n=ve(e),i=n.length,o=l(i);++t<i;){var r=n[t];o[t]=[r,e[r]]}return o},z.partial=function(e){return se(e,16,pn(arguments,1))},z.partialRight=function(e){return se(e,32,null,pn(arguments,1))},z.pick=function(e,i,t){var o={};if("function"!=typeof i)for(var n=-1,r=ee(arguments,!0,!1,1),s=Le(e)?r.length:0;++n<s;){var a=r[n];a in e&&(o[a]=e[a])}else i=z.createCallback(i,t,3),Te(e,function(e,t,n){i(e,t,n)&&(o[t]=e)});return o},z.pluck=Qe,z.property=vt,z.pull=function(e){for(var t=arguments,n=0,i=t.length,o=e?e.length:0;++n<i;)for(var r=-1,s=t[n];++r<o;)e[r]===s&&(O.call(e,r--,1),o--);return e},z.range=function(e,t,n){e=+e||0,null==t&&(t=e,e=0);for(var i=-1,o=j(0,p((t-e)/((n="number"==typeof n?n:+n||1)||1))),r=l(o);++i<o;)r[i]=e,e+=n;return r},z.reject=function(e,i,t){return i=z.createCallback(i,t,3),He(e,function(e,t,n){return!i(e,t,n)})},z.remove=function(e,t,n){var i=-1,o=e?e.length:0,r=[];for(t=z.createCallback(t,n,3);++i<o;){var s=e[i];t(s,i,e)&&(r.push(s),O.call(e,i--,1),o--)}return r},z.rest=ot,z.shuffle=Ze,z.sortBy=function(e,o,t){var r=-1,s=ge(o),n=e?e.length:0,a=l("number"==typeof n?n:0);for(s||(o=z.createCallback(o,t,3)),qe(e,function(t,e,n){var i=a[++r]=cn();s?i.criteria=Ye(o,function(e){return t[e]}):(i.criteria=un())[0]=o(t,e,n),i.index=r,i.value=t}),n=a.length,a.sort(sn);n--;){var i=a[n];a[n]=i.value,s||hn(i.criteria),fn(i)}return a},z.tap=function(e,t){return t(e),e},z.throttle=function(e,t,n){var i=!0,o=!0;if(!De(e))throw new _;return!1===n?i=!1:Le(n)&&(i="leading"in n?n.leading:i,o="trailing"in n?n.trailing:o),Xt.leading=i,Xt.maxWait=t,Xt.trailing=o,ct(e,t,Xt)},z.times=function(e,t,n){e=-1<(e=+e)?e:0;var i=-1,o=l(e);for(t=X(t,n,1);++i<e;)o[i]=t(i);return o},z.toArray=function(e){return e&&"number"==typeof e.length?U.unindexedChars&&je(e)?e.split(""):pn(e):$e(e)},z.transform=function(e,i,o,t){var n=ge(e);if(null==o)if(n)o=[];else{var r=e&&e.constructor,s=r&&r.prototype;o=V(s)}return i&&(i=z.createCallback(i,t,4),(n?ke:Oe)(e,function(e,t,n){return i(o,e,t,n)})),o},z.union=function(){return oe(ee(arguments,!0,!0))},z.uniq=st,z.values=$e,z.where=tt,z.without=function(e){return Z(e,pn(arguments,1))},z.wrap=function(e,t){return se(t,16,[e])},z.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(ge(n)||pe(n))var i=i?oe(Z(i,n).concat(Z(n,i))):n}return i||[]},z.zip=at,z.zipObject=lt,z.collect=Ye,z.drop=ot,z.each=qe,z.eachRight=Ue,z.extend=Ae,z.methods=Pe,z.object=lt,z.select=He,z.tail=ot,z.unique=st,z.unzip=at,ht(z),z.clone=function(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n=t,t=!1),Y(e,t,"function"==typeof n&&X(n,i,1))},z.cloneDeep=function(e,t,n){return Y(e,!0,"function"==typeof t&&X(t,n,1))},z.contains=Fe,z.escape=function(e){return null==e?"":w(e).replace(xe,le)},z.every=We,z.find=ze,z.findIndex=function(e,t,n){var i=-1,o=e?e.length:0;for(t=z.createCallback(t,n,3);++i<o;)if(t(e[i],i,e))return i;return-1},z.findKey=function(e,i,t){var o;return i=z.createCallback(i,t,3),Oe(e,function(e,t,n){if(i(e,t,n))return o=t,!1}),o},z.findLast=function(e,i,t){var o;return i=z.createCallback(i,t,3),Ue(e,function(e,t,n){if(i(e,t,n))return o=e,!1}),o},z.findLastIndex=function(e,t,n){var i=e?e.length:0;for(t=z.createCallback(t,n,3);i--;)if(t(e[i],i,e))return i;return-1},z.findLastKey=function(e,i,t){var o;return i=z.createCallback(i,t,3),Ne(e,function(e,t,n){if(i(e,t,n))return o=t,!1}),o},z.has=function(e,t){return!!e&&k.call(e,t)},z.identity=dt,z.indexOf=it,z.isArguments=pe,z.isArray=ge,z.isBoolean=function(e){return!0===e||!1===e||e&&"object"==typeof e&&E.call(e)==Ht||!1},z.isDate=function(e){return e&&"object"==typeof e&&E.call(e)==zt||!1},z.isElement=function(e){return e&&1===e.nodeType||!1},z.isEmpty=function(e){var t=!0;if(!e)return t;var n=E.call(e),i=e.length;return n==Wt||n==Vt||(U.argsClass?n==Bt:pe(e))||n==Gt&&"number"==typeof i&&De(e.splice)?!i:(Oe(e,function(){return t=!1}),t)},z.isEqual=function(e,t,n,i){return te(e,t,"function"==typeof n&&X(n,i,2))},z.isFinite=function(e){return L(e)&&!R(parseFloat(e))},z.isFunction=De,z.isNaN=function(e){return Re(e)&&e!=+e},z.isNull=function(e){return null===e},z.isNumber=Re,z.isObject=Le,z.isPlainObject=Me,z.isRegExp=function(e){return e&&en[typeof e]&&E.call(e)==Yt||!1},z.isString=je,z.isUndefined=function(e){return void 0===e},z.lastIndexOf=function(e,t,n){var i=e?e.length:0;for("number"==typeof n&&(i=(n<0?j(0,i+n):$(n,i-1))+1);i--;)if(e[i]===t)return i;return-1},z.mixin=ht,z.noConflict=function(){return r._=h,this},z.noop=ft,z.now=gt,z.parseInt=mt,z.random=function(e,t,n){var i=null==e,o=null==t;if(null==n&&("boolean"==typeof e&&o?(n=e,e=1):o||"boolean"!=typeof t||(n=t,o=!0)),i&&o&&(t=1),e=+e||0,o?(t=e,e=0):t=+t||0,n||e%1||t%1){var r=B();return $(e+r*(t-e+parseFloat("1e-"+((r+"").length-1))),t)}return ie(e,t)},z.reduce=Xe,z.reduceRight=Je,z.result=function(e,t){if(e){var n=e[t];return De(n)?e[t]():n}},z.runInContext=o,z.size=function(e){var t=e?e.length:0;return"number"==typeof t?t:ve(e).length},z.some=et,z.sortedIndex=rt,z.template=_t,z.unescape=function(e){return null==e?"":w(e).replace(Ce,fe)},z.uniqueId=function(e){var t=++wt;return w(null==e?"":e)+t},z.all=We,z.any=et,z.detect=ze,z.findWhere=ze,z.foldl=Xe,z.foldr=Je,z.include=Fe,z.inject=Xe,ht((pt={},Oe(z,function(e,t){z.prototype[t]||(pt[t]=e)}),pt),!1),z.first=nt,z.last=function(e,t,n){var i=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var r=o;for(t=z.createCallback(t,n,3);r--&&t(e[r],r,e);)i++}else if(null==(i=t)||n)return e?e[o-1]:bt;return pn(e,j(0,o-i))},z.sample=function(e,t,n){if(e&&"number"!=typeof e.length?e=$e(e):U.unindexedChars&&je(e)&&(e=e.split("")),null==t||n)return e?e[ie(0,e.length-1)]:bt;var i=Ze(e);return i.length=$(j(0,t),i.length),i},z.take=nt,z.head=nt,Oe(z,function(o,e){var r="sample"!==e;z.prototype[e]||(z.prototype[e]=function(e,t){var n=this.__chain__,i=o(this.__wrapped__,e,t);return n||null!=e&&(!t||r&&"function"==typeof e)?new q(i,n):i})}),z.VERSION="2.4.2",z.prototype.chain=function(){return this.__chain__=!0,this},z.prototype.toString=function(){return w(this.__wrapped__)},z.prototype.value=yt,z.prototype.valueOf=yt,ke(["join","pop","shift"],function(e){var n=a[e];z.prototype[e]=function(){var e=this.__chain__,t=n.apply(this.__wrapped__,arguments);return e?new q(t,e):t}}),ke(["push","reverse","sort","unshift"],function(e){var t=a[e];z.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),ke(["concat","slice","splice"],function(e){var t=a[e];z.prototype[e]=function(){return new q(t.apply(this.__wrapped__,arguments),this.__chain__)}}),U.spliceObjects||ke(["pop","shift","splice"],function(e){var i=a[e],o="splice"==e;z.prototype[e]=function(){var e=this.__chain__,t=this.__wrapped__,n=i.apply(t,arguments);return 0===t.length&&delete t[0],e||o?new q(n,e):n}}),z._baseEach=ke,z._iteratorTemplate=K,z._shimKeys=me,z}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(tn._=gn,define(function(){return gn})):e&&r?s?(r.exports=gn)._=gn:e._=gn:tn._=gn}.call(this),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Handlebars=e.Handlebars||t()}(this,function(){var u=function(){"use strict";function e(e){this.string=e}return e.prototype.toString=function(){return""+this.string},e}(),l=function(){"use strict";var e={},t=u,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,o=/[&<>"'`]/;function r(e){return n[e]}e.extend=function(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e};var s,a=Object.prototype.toString;e.toString=a,(s=function(e){return"function"==typeof e})(/x/)&&(s=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}),e.isFunction=s;var l=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===a.call(e)};return e.isArray=l,e.escapeExpression=function(e){return e instanceof t?e.toString():null==e?"":e?(e=""+e,o.test(e)?e.replace(i,r):e):e+""},e.isEmpty=function(e){return!e&&0!==e||!(!l(e)||0!==e.length)},e.appendContextPath=function(e,t){return(e?e+".":"")+t},e}(),g=function(){"use strict";var r=["description","fileName","lineNumber","message","name","number","stack"];function e(e,t){var n;t&&t.firstLine&&(e+=" - "+(n=t.firstLine)+":"+t.firstColumn);for(var i=Error.prototype.constructor.call(this,e),o=0;o<r.length;o++)this[r[o]]=i[r[o]];n&&(this.lineNumber=n,this.column=t.firstColumn)}return e.prototype=new Error,e}(),a=function(){"use strict";var e={},c=l,d=g;e.VERSION="2.0.0";e.COMPILER_REVISION=6;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};var h=c.isArray,f=c.isFunction,n=c.toString,i="[object Object]";function t(e,t){this.helpers=e||{},this.partials=t||{},function(r){r.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new d("Missing helper: '"+arguments[arguments.length-1].name+"'")}),r.registerHelper("blockHelperMissing",function(e,t){var n=t.inverse,i=t.fn;if(!0===e)return i(this);if(!1===e||null==e)return n(this);if(h(e))return 0<e.length?(t.ids&&(t.ids=[t.name]),r.helpers.each(e,t)):n(this);if(t.data&&t.ids){var o=p(t.data);o.contextPath=c.appendContextPath(t.data.contextPath,t.name),t={data:o}}return i(e,t)}),r.registerHelper("each",function(e,t){if(!t)throw new d("Must pass iterator to #each");var n,i,o=t.fn,r=t.inverse,s=0,a="";if(t.data&&t.ids&&(i=c.appendContextPath(t.data.contextPath,t.ids[0])+"."),f(e)&&(e=e.call(this)),t.data&&(n=p(t.data)),e&&"object"==typeof e)if(h(e))for(var l=e.length;s<l;s++)n&&(n.index=s,n.first=0===s,n.last=s===e.length-1,i&&(n.contextPath=i+s)),a+=o(e[s],{data:n});else for(var u in e)e.hasOwnProperty(u)&&(n&&(n.key=u,n.index=s,n.first=0===s,i&&(n.contextPath=i+u)),a+=o(e[u],{data:n}),s++);return 0===s&&(a=r(this)),a}),r.registerHelper("if",function(e,t){return f(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||c.isEmpty(e)?t.inverse(this):t.fn(this)}),r.registerHelper("unless",function(e,t){return r.helpers.if.call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})}),r.registerHelper("with",function(e,t){f(e)&&(e=e.call(this));var n=t.fn;if(c.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var i=p(t.data);i.contextPath=c.appendContextPath(t.data.contextPath,t.ids[0]),t={data:i}}return n(e,t)}),r.registerHelper("log",function(e,t){var n=t.data&&null!=t.data.level?parseInt(t.data.level,10):1;r.log(n,e)}),r.registerHelper("lookup",function(e,t){return e&&e[t]})}(this)}(e.HandlebarsEnvironment=t).prototype={constructor:t,logger:o,log:r,registerHelper:function(e,t){if(n.call(e)===i){if(t)throw new d("Arg not supported with multiple helpers");c.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){n.call(e)===i?c.extend(this.partials,e):this.partials[e]=t},unregisterPartial:function(e){delete this.partials[e]}};var o={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(o.level<=e){var n=o.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}},r=(e.logger=o).log;e.log=r;var p=function(e){var t=c.extend({},e);return t._parent=e,t};return e.createFrame=p,e}(),c=function(e,t,n){"use strict";var i={},m=l,v=g,o=n.COMPILER_REVISION,r=n.REVISION_CHANGES,s=n.createFrame;function a(n,e,i,o,r){function t(e,t){return t=t||{},i.call(n,e,n.helpers,n.partials,t.data||o,r&&[e].concat(r))}return t.program=e,t.depth=r?r.length:0,t}return i.checkRevision=function(e){var t=e&&e[0]||1;if(t!==o){if(t<o){var n=r[o],i=r[t];throw new v("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}throw new v("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},i.template=function(p,g){if(!g)throw new v("No environment passed to template");if(!p||!p.main)throw new v("Unknown template object: "+typeof p);g.VM.checkRevision(p.compiler);var o={lookup:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:m.escapeExpression,invokePartial:function(e,t,n,i,o,r,s,a,l){o&&(i=m.extend({},i,o));var u=g.VM.invokePartial.call(this,e,n,i,r,s,a,l);if(null==u&&g.compile){var c={helpers:r,partials:s,data:a,depths:l};s[n]=g.compile(e,{data:void 0!==a,compat:p.compat},g),u=s[n](i,c)}if(null==u)throw new v("The partial "+n+" could not be compiled when running in runtime-only mode");if(t){for(var d=u.split("\n"),h=0,f=d.length;h<f&&(d[h]||h+1!==f);h++)d[h]=t+d[h];u=d.join("\n")}return u},fn:function(e){return p[e]},programs:[],program:function(e,t,n){var i=this.programs[e],o=this.fn(e);return i=t||n?a(this,e,o,t,n):i||(this.programs[e]=a(this,e,o))},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=m.extend({},t,e)),n},noop:g.VM.noop,compilerInfo:p.compiler},r=function(e,t){var n,i=(t=t||{}).data;return r._setup(t),!t.partial&&p.useData&&(i=function(e,t){t&&"root"in t||((t=t?s(t):{}).root=e);return t}(e,i)),p.useDepths&&(n=t.depths?[e].concat(t.depths):[e]),p.main.call(o,e,o.helpers,o.partials,i,n)};return r.isTop=!0,r._setup=function(e){e.partial?(o.helpers=e.helpers,o.partials=e.partials):(o.helpers=o.merge(e.helpers,g.helpers),p.usePartial&&(o.partials=o.merge(e.partials,g.partials)))},r._child=function(e,t,n){if(p.useDepths&&!n)throw new v("must pass parent depths");return a(o,e,p[e],t,n)},r},i.program=a,i.invokePartial=function(e,t,n,i,o,r,s){var a={partial:!0,helpers:i,partials:o,data:r,depths:s};if(void 0===e)throw new v("The partial "+t+" could not be found");if(e instanceof Function)return e(n,a)},i.noop=function(){return""},i}(0,0,a);return function(){"use strict";function e(){var t=new n.HandlebarsEnvironment;return r.extend(t,n),t.SafeString=i,t.Exception=o,t.Utils=r,t.escapeExpression=r.escapeExpression,t.VM=s,t.template=function(e){return s.template(e,t)},t}var n=a,i=u,o=g,r=l,s=c,t=e();return t.create=e,t.default=t}()}),this.Metro=this.Metro||{},this.Metro.templates=this.Metro.templates||{},this.Metro.templates.callout=Handlebars.template({1:function(e,t,n,i){return" _single"},3:function(e,t,n,i){var o,r='        <div class="callout__crossing">\n';return null!=(o=t.each.call(e,null!=(o=null!=e?e.callout:e)?o.crossing:o,{name:"each",hash:{},fn:this.program(4,i),inverse:this.noop,data:i}))&&(r+=o),r+"        </div>\n"},4:function(e,t,n,i){var o,r,s=this.lambda,a=this.escapeExpression,l="function",u=t.helperMissing,c='                <input type="radio" class="callout__crossing-radio" id="station-'+a(s(i&&i.index,e))+'" value="'+a(typeof(r=null!=(r=t.id||(null!=e?e.id:e))?r:u)==l?r.call(e,{name:"id",hash:{},data:i}):r)+'"name="crossing"';return null!=(o=t.if.call(e,null!=e?e.checked:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}))&&(c+=o),c+'>\n                <label for="station-'+a(s(i&&i.index,e))+'" class="callout__crossing-label" style="border-color: #'+a(typeof(r=null!=(r=t.color||(null!=e?e.color:e))?r:u)==l?r.call(e,{name:"color",hash:{},data:i}):r)+';">\n                    '+a(typeof(r=null!=(r=t.title||(null!=e?e.title:e))?r:u)==l?r.call(e,{name:"title",hash:{},data:i}):r)+"\n                </label>\n"},5:function(e,t,n,i){return" checked"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var o,r=this.lambda,s=this.escapeExpression,a='<div class="callout">\n\n    <header class="callout__header" style="border-color: #'+s(r(null!=(o=null!=e?e.callout:e)?o.color:o,e))+'">\n        <a href="#" class="callout__header-info"></a>\n        <h2 class="callout__header-title';return null!=(o=t.unless.call(e,null!=(o=null!=e?e.callout:e)?o.crossing:o,{name:"unless",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}))&&(a+=o),a+='">\n            '+s(r(null!=(o=null!=e?e.callout:e)?o.title:o,e))+"\n        </h2>\n    </header>\n\n",null!=(o=t.if.call(e,null!=(o=null!=e?e.callout:e)?o.crossing:o,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}))&&(a+=o),a+'\n    <div class="callout__main">\n        <button class="callout__from"></button>\n        <button class="callout__to"></button>\n    </div>\n\n</div>'},useData:!0}),this.Metro.templates.scheme=Handlebars.template({1:function(e,t,n,i){return" _widget"},3:function(e,t,n,i){var o,r="";return null!=(o=t.each.call(e,null!=e?e.scheme:e,{name:"each",hash:{},fn:this.program(4,i),inverse:this.noop,data:i}))&&(r+=o),r},4:function(e,t,n,i){var o,r,s=this.lambda,a=this.escapeExpression,l=t.helperMissing,u='                <div class="scheme__tabs-item';return null!=(o=t.if.call(e,null!=e?e.current:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}))&&(u+=o),u+'" data-rel="'+a(s(i&&i.index,e))+'">\n                    '+a("function"==typeof(r=null!=(r=t.title||(null!=e?e.title:e))?r:l)?r.call(e,{name:"title",hash:{},data:i}):r)+"\n                </div>\n"},5:function(e,t,n,i){return" _current"},7:function(e,t,n,i){var o,r,s=this.lambda,a=this.escapeExpression,l=t.helperMissing,u='            <div class="scheme__main-path';return null!=(o=t.if.call(e,null!=e?e.current:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}))&&(u+=o),u+='" id="path-'+a(s(i&&i.index,e))+'">\n\n                <div class="scheme__duration">\n                    '+a("function"==typeof(r=null!=(r=t.duration||(null!=e?e.duration:e))?r:l)?r.call(e,{name:"duration",hash:{},data:i}):r)+" .\n                </div>\n\n",null!=(o=t.if.call(e,null!=e?e.sections:e,{name:"if",hash:{},fn:this.program(8,i),inverse:this.noop,data:i}))&&(u+=o),u+"\n            </div>\n"},8:function(e,t,n,i){var o,r='                    <div class="scheme__scroller">\n                        <ul class="scheme__list">\n';return null!=(o=t.each.call(e,null!=e?e.sections:e,{name:"each",hash:{},fn:this.program(9,i),inverse:this.noop,data:i}))&&(r+=o),r+"                        </ul>\n                    </div>\n"},9:function(e,t,n,i){var o,r,s=t.helperMissing,a=this.escapeExpression,l='                                <li class="scheme__list-item';return null!=(o=t.if.call(e,null!=e?e.modifier:e,{name:"if",hash:{},fn:this.program(10,i),inverse:this.noop,data:i}))&&(l+=o),l+='" style="border-color: #'+a("function"==typeof(r=null!=(r=t.color||(null!=e?e.color:e))?r:s)?r.call(e,{name:"color",hash:{},data:i}):r)+';">\n                                    <span class="scheme__list-item-station">\n                                        '+a("function"==typeof(r=null!=(r=t.station||(null!=e?e.station:e))?r:s)?r.call(e,{name:"station",hash:{},data:i}):r)+'\n                                    </span>\n                                    <span class="scheme__list-item-tip">\n',null!=(o=t.if.call(e,null!=e?e.length:e,{name:"if",hash:{},fn:this.program(12,i),inverse:this.noop,data:i}))&&(l+=o),l+"                                    </span>\n                                </li>\n"},10:function(e,t,n,i){var o,r=t.helperMissing;return" _"+(0,this.escapeExpression)("function"==typeof(o=null!=(o=t.modifier||(null!=e?e.modifier:e))?o:r)?o.call(e,{name:"modifier",hash:{},data:i}):o)},12:function(e,t,n,i){var o,r=t.helperMissing;return"                                            "+(0,this.escapeExpression)("function"==typeof(o=null!=(o=t.length||(null!=e?e.length:e))?o:r)?o.call(e,{name:"length",hash:{},data:i}):o)+" .\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var o,r='<div class="scheme';return null!=(o=t.if.call(e,null!=(o=null!=e?e.scheme:e)?o.widget:o,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}))&&(r+=o),r+='">\n\n    <nav class="scheme__tabs">\n',null!=(o=t.if.call(e,null!=e?e.tabs:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}))&&(r+=o),r+='    </nav>\n\n    <div class="scheme__main">\n',null!=(o=t.each.call(e,null!=e?e.scheme:e,{name:"each",hash:{},fn:this.program(7,i),inverse:this.noop,data:i}))&&(r+=o),r+"    </div>\n\n</div>"},useData:!0}),this.Metro.templates.schemewidget=Handlebars.template({1:function(e,t,n,i){var o,r='                <ul class="schemewidget__list">\n';return null!=(o=t.each.call(e,null!=e?e.sections:e,{name:"each",hash:{},fn:this.program(2,i),inverse:this.noop,data:i}))&&(r+=o),r+"                </ul>\n"},2:function(e,t,n,i){var o,r,s=t.helperMissing,a=this.escapeExpression,l='                        <li class="schemewidget__list-item';return null!=(o=t.if.call(e,null!=e?e.modifier:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}))&&(l+=o),l+='" style="border-color: #'+a("function"==typeof(r=null!=(r=t.color||(null!=e?e.color:e))?r:s)?r.call(e,{name:"color",hash:{},data:i}):r)+';">\n                            <span class="schemewidget__list-item-station">\n                                '+a("function"==typeof(r=null!=(r=t.station||(null!=e?e.station:e))?r:s)?r.call(e,{name:"station",hash:{},data:i}):r)+'\n                            </span>\n                            <span class="schemewidget__list-item-tip">\n',null!=(o=t.if.call(e,null!=e?e.length:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}))&&(l+=o),l+"                            </span>\n                        </li>\n"},3:function(e,t,n,i){var o,r=t.helperMissing;return" _"+(0,this.escapeExpression)("function"==typeof(o=null!=(o=t.modifier||(null!=e?e.modifier:e))?o:r)?o.call(e,{name:"modifier",hash:{},data:i}):o)},5:function(e,t,n,i){var o,r=t.helperMissing;return"                                    "+(0,this.escapeExpression)("function"==typeof(o=null!=(o=t.length||(null!=e?e.length:e))?o:r)?o.call(e,{name:"length",hash:{},data:i}):o)+" .\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var o,r,s=t.helperMissing,a=this.escapeExpression,l='<div class="schemewidget">\n\n    <div class="schemewidget__head">\n        <div class="schemewidget__head-inner">\n            <span class="schemewidget__head-time">'+a("function"==typeof(r=null!=(r=t.duration||(null!=e?e.duration:e))?r:s)?r.call(e,{name:"duration",hash:{},data:i}):r)+' </span>\n            <a href="/metro-map/'+a("function"==typeof(r=null!=(r=t.url||(null!=e?e.url:e))?r:s)?r.call(e,{name:"url",hash:{},data:i}):r)+'" target="_blank" class="schemewidget__head-btn"> </a>\n        </div>\n    </div>\n\n    <div class="schemewidget__main">\n        <div class="schemewidget__main-path">\n\n';return null!=(o=t.if.call(e,null!=e?e.sections:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}))&&(l+=o),l+"\n        </div>\n    </div>\n\n</div>"},useData:!0}),function(){var l=function(e,t){var n=e.nodeType;if(3==n)t.push(e.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"));else if(1==n){if(t.push("<",e.tagName),e.hasAttributes())for(var i=e.attributes,o=0,r=i.length;o<r;++o){var s=i.item(o);t.push(" ",s.name,"='",s.value,"'")}if(e.hasChildNodes()){t.push(">");var a=e.childNodes;for(o=0,r=a.length;o<r;++o)l(a.item(o),t);t.push("</",e.tagName,">")}else t.push("/>")}else{if(8!=n)throw"Error serializing XML. Unhandled node of type: "+n;t.push("\x3c!--",e.nodeValue,"--\x3e")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){for(var e=[],t=this.firstChild;t;)l(t,e),t=t.nextSibling;return e.join("")},set:function(e){for(;this.firstChild;)this.removeChild(this.firstChild);try{var t=new DOMParser;t.async=!1,sXML="<svg xmlns='http://www.w3.org/2000/svg'>"+e+"</svg>";for(var n=t.parseFromString(sXML,"text/xml").documentElement.firstChild;n;)this.appendChild(this.ownerDocument.importNode(n,!0)),n=n.nextSibling}catch(e){throw new Error("Error parsing XML string")}}}),Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(e){this.innerHTML=e}})}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(oe){function re(e){var t=document.createElement("input"),n="on"+e,i=n in t;return i||(t.setAttribute(n,"return;"),i="function"==typeof t[n]),t=null,i}function s(e,t,n){var i=n.aliases[e];return!!i&&(i.alias&&s(i.alias,void 0,n),oe.extend(!0,n,i),oe.extend(!0,n,t),!0)}function a(w,o){function e(e,t){if(null!=e&&""!=e){if(1==e.length&&0==w.greedy&&0!=w.repeat&&(w.placeholder=""),0<w.repeat||"*"==w.repeat||"+"==w.repeat){var n="*"==w.repeat?0:"+"==w.repeat?1:w.repeat;e=w.groupmarker.start+e+w.groupmarker.end+w.quantifiermarker.start+n+","+w.repeat+w.quantifiermarker.end}var i;return null==oe.inputmask.masksCache[e]||!0===o?(i={mask:e,maskToken:function(e){function t(e,t,n,i){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function n(e,t,n){var i=w.definitions[t],o=0==e.matches.length;if(n=null!=n?n:e.matches.length,i&&!d){i.placeholder=oe.isFunction(i.placeholder)?i.placeholder.call(this,w):i.placeholder;for(var r=i.prevalidator,s=r?r.length:0,a=1;a<i.cardinality;a++){var l=a<=s?r[a-1]:[],u=l.validator,c=l.cardinality;e.matches.splice(n++,0,{fn:u?"string"==typeof u?new RegExp(u):new function(){this.test=u}:new RegExp("."),cardinality:c||1,optionality:e.isOptional,newBlockMarker:o,casing:i.casing,def:i.definitionSymbol||t,placeholder:i.placeholder,mask:t})}e.matches.splice(n++,0,{fn:i.validator?"string"==typeof i.validator?new RegExp(i.validator):new function(){this.test=i.validator}:new RegExp("."),cardinality:i.cardinality,optionality:e.isOptional,newBlockMarker:o,casing:i.casing,def:i.definitionSymbol||t,placeholder:i.placeholder,mask:t})}else e.matches.splice(n++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:o,casing:null,def:t,placeholder:void 0,mask:t}),d=!1}for(var i,o,r,s,a,l,u=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,d=!1,c=new t,h=[],f=[];i=u.exec(e);)switch(o=i[0],o.charAt(0)){case w.optionalmarker.end:case w.groupmarker.end:if(r=h.pop(),0<h.length){if((s=h[h.length-1]).matches.push(r),s.isAlternator){a=h.pop();for(var p=0;p<a.matches.length;p++)a.matches[p].isGroup=!1;0<h.length?(s=h[h.length-1]).matches.push(a):c.matches.push(a)}}else c.matches.push(r);break;case w.optionalmarker.start:h.push(new t(!1,!0));break;case w.groupmarker.start:h.push(new t(!0));break;case w.quantifiermarker.start:var g=new t(!1,!1,!0),m=(o=o.replace(/[{}]/g,"")).split(","),v=isNaN(m[0])?m[0]:parseInt(m[0]),_=1==m.length?v:isNaN(m[1])?m[1]:parseInt(m[1]);if("*"!=_&&"+"!=_||(v="*"==_?0:1),g.quantifier={min:v,max:_},0<h.length){var y=h[h.length-1].matches;if(!(i=y.pop()).isGroup)(b=new t(!0)).matches.push(i),i=b;y.push(i),y.push(g)}else{var b;if(!(i=c.matches.pop()).isGroup)(b=new t(!0)).matches.push(i),i=b;c.matches.push(i),c.matches.push(g)}break;case w.escapeChar:d=!0;break;case w.alternatormarker:(l=0<h.length?(s=h[h.length-1]).matches.pop():c.matches.pop()).isAlternator?h.push(l):((a=new t(!1,!1,!1,!0)).matches.push(l),h.push(a));break;default:if(0<h.length){if(0<(s=h[h.length-1]).matches.length&&!s.isAlternator&&((l=s.matches[s.matches.length-1]).isGroup&&(l.isGroup=!1,n(l,w.groupmarker.start,0),n(l,w.groupmarker.end))),n(s,o),s.isAlternator){a=h.pop();for(p=0;p<a.matches.length;p++)a.matches[p].isGroup=!1;0<h.length?(s=h[h.length-1]).matches.push(a):c.matches.push(a)}}else 0<c.matches.length&&((l=c.matches[c.matches.length-1]).isGroup&&(l.isGroup=!1,n(l,w.groupmarker.start,0),n(l,w.groupmarker.end))),n(c,o)}return 0<c.matches.length&&((l=c.matches[c.matches.length-1]).isGroup&&(l.isGroup=!1,n(l,w.groupmarker.start,0),n(l,w.groupmarker.end)),f.push(c)),f}(e),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:t},!0!==o&&(oe.inputmask.masksCache[e]=i)):i=oe.extend(!0,{},oe.inputmask.masksCache[e]),i}}function n(e){if(e=e.toString(),w.numericInput){e=e.split("").reverse();for(var t=0;t<e.length;t++)e[t]==w.optionalmarker.start?e[t]=w.optionalmarker.end:e[t]==w.optionalmarker.end?e[t]=w.optionalmarker.start:e[t]==w.groupmarker.start?e[t]=w.groupmarker.end:e[t]==w.groupmarker.end&&(e[t]=w.groupmarker.start);e=e.join("")}return e}var t=void 0;if(oe.isFunction(w.mask)&&(w.mask=w.mask.call(this,w)),oe.isArray(w.mask)){if(1<w.mask.length){w.keepStatic=null==w.keepStatic||w.keepStatic;var i="(";return oe.each(w.mask,function(e,t){1<i.length&&(i+=")|("),i+=n(null==t.mask||oe.isFunction(t.mask)?t:t.mask)}),e(i+=")",w.mask)}w.mask=w.mask.pop()}return w.mask&&(t=null==w.mask.mask||oe.isFunction(w.mask.mask)?e(n(w.mask),w.mask):e(n(w.mask.mask),w.mask)),t}function l(e,r,E){function t(e,t,n){t=t||0;var i,o,r,s=[],a=0;do{if(!0===e&&D().validPositions[a]){var l=D().validPositions[a];o=l.match,i=l.locator.slice(),s.push(!0===n?l.input:N(a,o))}else o=(r=k(a,i,a-1)).match,i=r.locator.slice(),s.push(N(a,o));a++}while((null==U||a-1<U)&&null!=o.fn||null==o.fn&&""!=o.def||a<=t);return s.pop(),s}function D(){return r}function C(e){var t=D();t.buffer=void 0,t.tests={},!0!==e&&(t._buffer=void 0,t.validPositions={},t.p=0)}function x(e,t){var n=-1,i=D().validPositions;null==e&&(e=-1);var o=n,r=n;for(var s in i){var a=parseInt(s);i[a]&&(t||null!=i[a].match.fn)&&(a<=e&&(o=a),e<=a&&(r=a))}return-1!=o&&1<e-o||r<e?o:r}function _(e,t,n){if(E.insertMode&&null!=D().validPositions[e]&&null==n){var i,o=oe.extend(!0,{},D().validPositions),r=x();for(i=e;i<=r;i++)delete D().validPositions[i];D().validPositions[e]=t;var s,a=!0,l=D().validPositions;for(i=s=e;i<=r;i++){var u=o[i];if(null!=u)for(var c=s,d=-1;c<v()&&(null==u.match.fn&&l[i]&&(!0===l[i].match.optionalQuantifier||!0===l[i].match.optionality)||null!=u.match.fn);){if(null==u.match.fn||!E.keepStatic&&l[i]&&(null!=l[i+1]&&1<y(i+1,l[i].locator.slice(),i).length||null!=l[i].alternation)?c++:c=S(s),h(c,u.match.def)){a=!1!==A(c,u.input,!0,!0),s=c;break}if(a=null==u.match.fn,d==c)break;d=c}if(!a)break}if(!a)return D().validPositions=oe.extend(!0,{},o),!1}else D().validPositions[e]=t;return!0}function m(e,t,n,i){var o,r=e;for(D().p=e,null!=D().validPositions[e]&&D().validPositions[e].input==E.radixPoint&&(t++,r++),o=r;o<t;o++)null==D().validPositions[o]||!0!==n&&0==E.canClearPosition(D(),o,x(),i,E)||delete D().validPositions[o];for(C(!0),o=r+1;o<=x();){for(;null!=D().validPositions[r];)r++;var s=D().validPositions[r];o<r&&(o=r+1);var a=D().validPositions[o];null!=a&&null==s?(h(r,a.match.def)&&!1!==A(r,a.input,!0)&&(delete D().validPositions[o],o++),r++):o++}var l=x(),u=v();for(e<=l&&null!=D().validPositions[l]&&D().validPositions[l].input==E.radixPoint&&delete D().validPositions[l],o=l+1;o<=u;o++)D().validPositions[o]&&delete D().validPositions[o];C(!0)}function k(e,t,n){var i=D().validPositions[e];if(null==i)for(var o=y(e,t,n),r=x(),s=D().validPositions[r]||y(0)[0],a=null!=s.alternation?s.locator[s.alternation].toString().split(","):[],l=0;l<o.length&&!((i=o[l]).match&&(E.greedy&&!0!==i.match.optionalQuantifier||(!1===i.match.optionality||!1===i.match.newBlockMarker)&&!0!==i.match.optionalQuantifier)&&(null==s.alternation||s.alternation!=i.alternation||null!=i.locator[s.alternation]&&p(i.locator[s.alternation].toString().split(","),a)));l++);return i}function s(e){return D().validPositions[e]?D().validPositions[e].match:y(e)[0].match}function h(e,t){for(var n=!1,i=y(e),o=0;o<i.length;o++)if(i[o].match&&i[o].match.def==t){n=!0;break}return n}function y(T,e,t,n){function O(x,k,e,t){function A(e,n,t){if(1e4<N)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+D().mask),!0;if(N==T&&null==e.matches)return P.push({match:e,locator:n.reverse()}),!0;if(null!=e.matches){if(e.isGroup&&!0!==t){if(e=A(x.matches[S+1],n))return!0}else if(e.isOptional){var i=e;if(e=O(e,k,n,t)){var o=P[P.length-1].match;if(!(0==oe.inArray(o,i.matches)))return!0;I=!0,N=T}}else if(e.isAlternator){var r,s=e,a=[],l=P.slice(),u=n.length,c=0<k.length?k.shift():-1;if(-1==c||"string"==typeof c){var d=N,h=k.slice(),f=[];"string"==typeof c&&(f=c.split(","));for(var p=0;p<s.matches.length;p++){if(P=[],!0!==(e=A(s.matches[p],[p].concat(n),t)||e)&&null!=e&&f[f.length-1]<s.matches.length){var g=x.matches.indexOf(e)+1;x.matches.length>g&&((e=A(x.matches[g],[g].concat(n.slice(1,n.length)),t))&&(f.push(g.toString()),oe.each(P,function(e,t){t.alternation=n.length-1})))}r=P.slice(),N=d,P=[];for(var m=0;m<h.length;m++)k[m]=h[m];for(var v=0;v<r.length;v++){var _=r[v];_.alternation=_.alternation||u;for(var y=0;y<a.length;y++){var b=a[y];if(_.match.mask==b.match.mask&&("string"!=typeof c||-1!=oe.inArray(_.locator[_.alternation].toString(),f))){r.splice(v,1),v--,b.locator[_.alternation]=b.locator[_.alternation]+","+_.locator[_.alternation],b.alternation=_.alternation;break}}}a=a.concat(r)}"string"==typeof c&&(a=oe.map(a,function(e,t){if(isFinite(t)){var n=e.alternation,i=e.locator[n].toString().split(",");e.locator[n]=void 0,e.alternation=void 0;for(var o=0;o<i.length;o++)-1!=oe.inArray(i[o],f)&&(null!=e.locator[n]?(e.locator[n]+=",",e.locator[n]+=i[o]):e.locator[n]=parseInt(i[o]),e.alternation=n);if(null!=e.locator[n])return e}})),P=l.concat(a),N=T,I=0<P.length}else e=!!s.matches[c]&&A(s.matches[c],[c].concat(n),t);if(e)return!0}else if(e.isQuantifier&&!0!==t)for(var w=e,E=0<k.length&&!0!==t?k.shift():0;E<(isNaN(w.quantifier.max)?E+1:w.quantifier.max)&&N<=T;E++){var C=x.matches[oe.inArray(w,x.matches)-1];if(e=A(C,[E].concat(n),!0)){if((o=P[P.length-1].match).optionalQuantifier=E>w.quantifier.min-1,0==oe.inArray(o,C.matches)){if(E>w.quantifier.min-1){I=!0,N=T;break}return!0}return!0}}else if(e=O(e,k,n,t))return!0}else N++}for(var S=0<k.length?k.shift():0;S<x.matches.length;S++)if(!0!==x.matches[S].isQuantifier){var n=A(x.matches[S],[S].concat(e),t);if(n&&N==T)return n;if(T<N)break}}var i=D().maskToken,N=e?t:0,o=e||[0],P=[],I=!1;if(!0===n&&D().tests[T])return D().tests[T];if(null==e){for(var r,s=T-1;null==(r=D().validPositions[s])&&-1<s&&(!D().tests[s]||null==(r=D().tests[s][0]));)s--;null!=r&&-1<s&&(N=s,o=r.locator.slice())}for(var a=o.shift();a<i.length;a++){if(O(i[a],o,[a])&&N==T||T<N)break}return 0!=P.length&&!I||P.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),D().tests[T]=oe.extend(!0,[],P),D().tests[T]}function d(){return null==D()._buffer&&(D()._buffer=t(!1,1)),D()._buffer}function b(){return null==D().buffer&&(D().buffer=t(!0,x(),!0)),D().buffer}function w(e,t,n){if(n=n||b().slice(),!0===e)C(),e=0,t=n.length;else for(var i=e;i<t;i++)delete D().validPositions[i],delete D().tests[i];for(i=e;i<t;i++)n[i]!=E.skipOptionalPartCharacter&&A(i,n[i],!0,!0)}function p(e,t){for(var n=E.greedy?t:t.slice(0,1),i=!1,o=0;o<e.length;o++)if(-1!=oe.inArray(e[o],n)){i=!0;break}return i}function A(e,t,n,i){function o(d,h,f,p){var g=!1;return oe.each(y(d),function(e,t){for(var n=t.match,i=h?1:0,o="",r=(b(),n.cardinality);i<r;r--)o+=(s=d-(r-1),null==D().validPositions[s]?N(s):D().validPositions[s].input);var s;if(h&&(o+=h),!1!==(g=null!=n.fn?n.fn.test(o,D(),d,f,E):(h==n.def||h==E.skipOptionalPartCharacter)&&""!=n.def&&{c:n.def,pos:d})){var a=null!=g.c?g.c:h;a=a==E.skipOptionalPartCharacter&&null===n.fn?n.def:a;var l=d,u=b();if(null!=g.remove&&(oe.isArray(g.remove)||(g.remove=[g.remove]),oe.each(g.remove.sort(function(e,t){return t-e}),function(e,t){m(t,t+1,!0)})),null!=g.insert&&(oe.isArray(g.insert)||(g.insert=[g.insert]),oe.each(g.insert.sort(function(e,t){return e-t}),function(e,t){A(t.pos,t.c,!0)})),g.refreshFromBuffer){var c=g.refreshFromBuffer;if(w((f=!0)===c?c:c.start,c.end,u),null==g.pos&&null==g.c)return g.pos=x(),!1;if((l=null!=g.pos?g.pos:d)!=d)return g=oe.extend(g,A(l,a,!0)),!1}else if(!0!==g&&null!=g.pos&&g.pos!=d&&(l=g.pos,w(d,l),l!=d))return g=oe.extend(g,A(l,a,!0)),!1;return 1!=g&&null==g.pos&&null==g.c||(0<e&&C(!0),_(l,oe.extend({},t,{input:function(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}(a,n)}),p)||(g=!1)),!1}}),g}function r(e,t){for(var i=D().validPositions[t].locator,o=i.length,n=e;n<t;n++)if(!g(n)){var r=y(n),s=r[0],a=-1;oe.each(r,function(e,t){for(var n=0;n<o;n++)t.locator[n]&&p(t.locator[n].toString().split(","),i[n].toString().split(","))&&a<n&&(a=n,s=t)}),_(n,oe.extend({},s,{input:s.match.def}),!0)}}n=!0===n;for(var s=b(),a=e-1;-1<a&&!D().validPositions[a];a--);for(a++;a<e;a++)null==D().validPositions[a]&&((!g(a)||s[a]!=N(a))&&1<y(a).length||s[a]==E.radixPoint||"0"==s[a]&&oe.inArray(E.radixPoint,s)<a)&&o(a,s[a],!0);var l=e,u=!1,c=oe.extend(!0,{},D().validPositions);if(l<v()&&(u=o(l,t,n,i),(!n||i)&&!1===u)){var d=D().validPositions[l];if(!d||null!=d.match.fn||d.match.def!=t&&t!=E.skipOptionalPartCharacter){if((E.insertMode||null==D().validPositions[S(l)])&&!g(l))for(var h=l+1,f=S(l);h<=f;h++)if(!1!==(u=o(h,t,n,i))){r(l,h),l=h;break}}else u={caret:S(l)}}if((!1===u&&E.keepStatic&&I(s)&&(u=function(e,t,n,i){for(var o,r,s,a,l=oe.extend(!0,{},D().validPositions),u=x();0<=u&&(!(a=D().validPositions[u])||null==a.alternation||(o=u,r=D().validPositions[o].alternation,k(o).locator[a.alternation]==a.locator[a.alternation]));u--);if(null!=r)for(var c in D().validPositions)if(a=D().validPositions[c],parseInt(c)>parseInt(o)&&null!=a.alternation){var d=D().validPositions[o].locator[r].toString().split(","),h=a.locator[r]||d[0];0<h.length&&(h=h.split(",")[0]);for(var f=0;f<d.length;f++)if(h<d[f]){for(var p,g,m=c-1;0<=m;m--)if(null!=(p=D().validPositions[m])){g=p.locator[r],p.locator[r]=parseInt(d[f]);break}if(h!=p.locator[r]){for(var v=[],_=c;_<x()+1;_++){var y=D().validPositions[_];y&&null!=y.match.fn&&v.push(y.input),delete D().validPositions[_],delete D().tests[_]}for(C(!0),E.keepStatic=!E.keepStatic,s=!0;0<v.length;){var b=v.shift();if(b!=E.skipOptionalPartCharacter&&!(s=A(x()+1,b,!1,!0)))break}if(p.alternation=r,p.locator[r]=g,s){var w=x(e)+1;s=A(w<e?w:e,t,n,i)}if(E.keepStatic=!E.keepStatic,s)return s;C(),D().validPositions=oe.extend(!0,{},l)}}break}return!1}(e,t,n,i)),!0===u&&(u={pos:l}),oe.isFunction(E.postValidation)&&0!=u&&!n)&&(C(!0),!E.postValidation(b(),E)))return C(!0),D().validPositions=oe.extend(!0,{},c),!1;return u}function g(e){var t=s(e);if(null!=t.fn)return t.fn;if(E.keepStatic||null!=D().validPositions[e])return!1;for(var n=y(e),i=!0,o=0;o<n.length;o++)if(""!=n[o].match.def&&(null==n[o].alternation||1<n[o].locator[n[o].alternation].length)){i=!1;break}return i}function v(){var e;-1==(U=q.prop("maxLength"))&&(U=void 0);var t,n=x(),i=D().validPositions[n],o=null!=i?i.locator.slice():void 0;for(t=n+1;null==i||null!=i.match.fn||null==i.match.fn&&""!=i.match.def;t++)o=(i=k(t,o,t-1)).locator.slice();return e=""!=s(t-1).def?t:t-1,null==U||e<U?e:U}function S(e){var t=v();if(t<=e)return t;for(var n=e;++n<t&&!g(n)&&(!0!==E.nojumps||E.nojumpsThreshold>n););return n}function T(e){var t=e;if(t<=0)return 0;for(;0<--t&&!g(t););return t}function O(e,t,n,i,o){if(i&&oe.isFunction(E.onBeforeWrite)){var r=E.onBeforeWrite.call(e,i,t,n,E);if(r){if(r.refreshFromBuffer){var s=r.refreshFromBuffer;w(!0===s?s:s.start,s.end,r.buffer),C(!0),t=b()}n=r.caret||n}}e._valueSet(t.join("")),null!=n&&P(e,n),!0===o&&(Y=!0,oe(e).trigger("input"))}function N(e,t){if(null!=(t=t||s(e)).placeholder)return t.placeholder;if(null!=t.fn)return E.placeholder.charAt(e%E.placeholder.length);if(!E.keepStatic&&null==D().validPositions[e]){for(var n=y(e),i=!0,o=0;o<n.length;o++)if(""!=n[o].match.def&&(null!==n[o].match.fn||null==n[o].alternation||1<n[o].locator[n[o].alternation].length)){i=!1;break}if(i)return E.placeholder.charAt(e%E.placeholder.length)}return t.def}function a(a,e,l,t){var n=null!=t?t.slice():a._valueGet().split(""),u="",c=0;if(C(),D().p=S(-1),e&&a._valueSet(""),!l){var i=d().slice(0,S(-1)).join(""),o=n.join("").match(new RegExp("^"+function(e){return oe.inputmask.escapeRegex(e)}(i),"g"));o&&0<o.length&&(n.splice(0,o.length*i.length),c=S(c))}oe.each(n,function(e,t){var n=oe.Event("keypress");n.which=t.charCodeAt(0),u+=t;var i=x(void 0,!0),o=D().validPositions[i],r=k(i+1,o?o.locator.slice():void 0,i);if(!function(){var e=!1,t=d().slice(c,S(c)).join("").indexOf(u);if(-1!=t&&!g(c)){e=!0;for(var n=d().slice(c,c+t),i=0;i<n.length;i++)if(" "!=n[i]){e=!1;break}}return e}()||l){var s=l?e:null==r.match.fn&&r.match.optionality&&i+1<D().p?i+1:D().p;R.call(a,n,!0,!1,l,s),c=s+1,u=""}else R.call(a,n,!0,!1,!0,i+1)}),e&&O(a,b(),oe(a).is(":focus")?S(x(0)):void 0,oe.Event("checkval"))}function n(e){if(!e.data("_inputmask")||e.hasClass("hasDatepicker"))return e[0]._valueGet();var t=[],n=D().validPositions;for(var i in n)n[i].match&&null!=n[i].match.fn&&t.push(n[i].input);var o=(K?t.reverse():t).join(""),r=(K?b().slice().reverse():b()).join("");return oe.isFunction(E.onUnMask)&&(o=E.onUnMask.call(e,r,o,E)||o),o}function l(e){!K||"number"!=typeof e||E.greedy&&""==E.placeholder||(e=b().length-e);return e}function P(e,t,n){var i,o=e.jquery&&0<e.length?e[0]:e;if("number"!=typeof t)return o.setSelectionRange?(t=o.selectionStart,n=o.selectionEnd):window.getSelection?(i=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!=o&&i.commonAncestorContainer!=o||(t=i.startOffset,n=i.endOffset):document.selection&&document.selection.createRange&&(n=(t=0-(i=document.selection.createRange()).duplicate().moveStart("character",-1e5))+i.text.length),{begin:l(t),end:l(n)};if(t=l(t),n="number"==typeof(n=l(n))?n:t,oe(o).is(":visible")){var r=oe(o).css("font-size").replace("px","")*n;if(o.scrollLeft=r>o.scrollWidth?r:0,ae||0!=E.insertMode||t!=n||n++,o.setSelectionRange)o.selectionStart=t,o.selectionEnd=n;else if(window.getSelection){if(i=document.createRange(),null==o.firstChild){var s=document.createTextNode("");o.appendChild(s)}i.setStart(o.firstChild,t<o._valueGet().length?t:o._valueGet().length),i.setEnd(o.firstChild,n<o._valueGet().length?n:o._valueGet().length),i.collapse(!0);var a=window.getSelection();a.removeAllRanges(),a.addRange(i)}else o.createTextRange&&((i=o.createTextRange()).collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i.select())}}function u(e){var t,n,i=b(),o=i.length,r=x(),s={},a=D().validPositions[r],l=null!=a?a.locator.slice():void 0;for(t=r+1;t<i.length;t++)l=(n=k(t,l,t-1)).locator.slice(),s[t]=oe.extend(!0,{},n);var u=a&&null!=a.alternation?a.locator[a.alternation]:void 0;for(t=o-1;r<t&&(((n=s[t]).match.optionality||n.match.optionalQuantifier||u&&(u!=s[t].locator[a.alternation]&&null!=n.match.fn||null==n.match.fn&&n.locator[a.alternation]&&p(n.locator[a.alternation].toString().split(","),u.split(","))&&""!=y(t)[0].def))&&i[t]==N(t,n.match));t--)o--;return e?{l:o,def:s[o]?s[o].match:void 0}:o}function c(e){for(var t=u(),n=e.length-1;t<n&&!g(n);n--);return e.splice(t,n+1-t),e}function I(e){if(oe.isFunction(E.isComplete))return E.isComplete.call(q,e,E);if("*"!=E.repeat){var t=!1,n=u(!0),i=T(n.l);if(x(),null==n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){t=!0;for(var o=0;o<=i;o++){var r=k(o).match;if(null!=r.fn&&null==D().validPositions[o]&&!0!==r.optionality&&!0!==r.optionalQuantifier||null==r.fn&&e[o]!=N(o,r)){t=!1;break}}}return t}}function L(r,e,t,n){if((E.numericInput||K)&&(e==oe.inputmask.keyCode.BACKSPACE?e=oe.inputmask.keyCode.DELETE:e==oe.inputmask.keyCode.DELETE&&(e=oe.inputmask.keyCode.BACKSPACE),K)){var i=t.end;t.end=t.begin,t.begin=i}if(e==oe.inputmask.keyCode.BACKSPACE&&(t.end-t.begin<1||0==E.insertMode)?t.begin=T(t.begin):e==oe.inputmask.keyCode.DELETE&&t.begin==t.end&&(t.end=g(t.end)?t.end+1:S(t.end)+1),m(t.begin,t.end,!1,n),!0!==n){!function(){if(E.keepStatic){C(!0);var e,t=[],n=oe.extend(!0,{},D().validPositions);for(e=x();0<=e;e--){var i=D().validPositions[e];if(i){if(null!=i.alternation&&i.locator[i.alternation]==k(e).locator[i.alternation])break;null!=i.match.fn&&t.push(i.input),delete D().validPositions[e]}}if(0<e)for(;0<t.length;){D().p=S(x());var o=oe.Event("keypress");o.which=t.pop().charCodeAt(0),R.call(r,o,!0,!1,!1,D().p)}else D().validPositions=oe.extend(!0,{},n)}}();var o=x(t.begin);o<t.begin?(-1==o&&C(),D().p=S(o)):D().p=t.begin}}function f(t){var n=this,e=oe(n),i=t.keyCode,o=P(n);i==oe.inputmask.keyCode.BACKSPACE||i==oe.inputmask.keyCode.DELETE||se&&127==i||t.ctrlKey&&88==i&&!re("cut")?(t.preventDefault(),88==i&&(W=b().join("")),L(n,i,o),O(n,b(),D().p,t,W!=b().join("")),n._valueGet()==d().join("")?e.trigger("cleared"):!0===I(b())&&e.trigger("complete"),E.showTooltip&&e.prop("title",D().mask)):i==oe.inputmask.keyCode.END||i==oe.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var e=S(x());E.insertMode||e!=v()||t.shiftKey||e--,P(n,t.shiftKey?o.begin:e,e)},0):i==oe.inputmask.keyCode.HOME&&!t.shiftKey||i==oe.inputmask.keyCode.PAGE_UP?P(n,0,t.shiftKey?o.begin:0):(E.undoOnEscape&&i==oe.inputmask.keyCode.ESCAPE||90==i&&t.ctrlKey)&&!0!==t.altKey?(a(n,!0,!1,W.split("")),e.click()):i!=oe.inputmask.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=E.insertMode||t.shiftKey||(i==oe.inputmask.keyCode.RIGHT?setTimeout(function(){var e=P(n);P(n,e.begin)},0):i==oe.inputmask.keyCode.LEFT&&setTimeout(function(){var e=P(n);P(n,K?e.begin+1:e.begin-1)},0)):(E.insertMode=!E.insertMode,P(n,E.insertMode||o.begin!=v()?o.begin:o.begin-1)),E.onKeyDown.call(this,t,b(),P(n).begin,E),V=-1!=oe.inArray(i,E.ignorables)}function R(e,t,n,i,o){var r=oe(this),s=e.which||e.charCode||e.keyCode;if(!(!0===t||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||V))return!0;if(s){46==s&&0==e.shiftKey&&","==E.radixPoint&&(s=44);var a,l=t?{begin:o,end:o}:P(this),u=String.fromCharCode(s),c=function(e,t){return K?1<e-t||e-t==1&&E.insertMode:1<t-e||t-e==1&&E.insertMode}(l.begin,l.end);c&&(D().undoPositions=oe.extend(!0,{},D().validPositions),L(this,oe.inputmask.keyCode.DELETE,l,!0),l.begin=D().p,E.insertMode||(E.insertMode=!E.insertMode,_(l.begin,i),E.insertMode=!E.insertMode),c=!E.multi),D().writeOutBuffer=!0;var d=K&&!c?l.end:l.begin,h=A(d,u,i);if(!1!==h){if(!0!==h&&(d=null!=h.pos?h.pos:d,u=null!=h.c?h.c:u),C(!0),null!=h.caret)a=h.caret;else{var f=D().validPositions;a=!E.keepStatic&&(null!=f[d+1]&&1<y(d+1,f[d].locator.slice(),d).length||null!=f[d].alternation)?d+1:S(d)}D().p=a}if(!1!==n){var p=this;if(setTimeout(function(){E.onKeyValidation.call(p,h,E)},0),D().writeOutBuffer&&!1!==h){var g=b();O(this,g,t?void 0:E.numericInput?T(a):a,e,!0!==t),!0!==t&&setTimeout(function(){!0===I(g)&&r.trigger("complete")},0)}else c&&(D().buffer=void 0,D().validPositions=D().undoPositions)}else c&&(D().buffer=void 0,D().validPositions=D().undoPositions);if(E.showTooltip&&r.prop("title",D().mask),t&&oe.isFunction(E.onBeforeWrite)){var m=E.onBeforeWrite.call(this,e,b(),a,E);if(m&&m.refreshFromBuffer){var v=m.refreshFromBuffer;w(!0===v?v:v.start,v.end,m.buffer),C(!0),m.caret&&(D().p=m.caret)}}e.preventDefault()}}function M(e){var t=oe(this),n=this._valueGet(!0),i=P(this);if("propertychange"==e.type&&this._valueGet().length<=v())return!0;if("paste"==e.type){var o=n.substr(0,i.begin),r=n.substr(i.end,n.length);o==d().slice(0,i.begin).join("")&&(o=""),r==d().slice(i.end).join("")&&(r=""),window.clipboardData&&window.clipboardData.getData?n=o+window.clipboardData.getData("Text")+r:e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(n=o+e.originalEvent.clipboardData.getData("text/plain")+r)}var s=n;if(oe.isFunction(E.onBeforePaste)){if(!1===(s=E.onBeforePaste.call(this,n,E)))return e.preventDefault(),!1;s=s||n}return a(this,!0,!1,K?s.split("").reverse():s.split("")),t.click(),!0===I(b())&&t.trigger("complete"),!1}function j(e){a(this,!0,!1),!0===I(b())&&oe(this).trigger("complete"),e.preventDefault()}function $(e){W=b().join(""),""!=z&&0==e.originalEvent.data.indexOf(z)||(H=P(this))}function F(e){var t=this,n=H||P(t);0==e.originalEvent.data.indexOf(z)&&(C(),n={begin:0,end:0});var i=e.originalEvent.data;P(t,n.begin,n.end);for(var o=0;o<i.length;o++){var r=oe.Event("keypress");r.which=i.charCodeAt(o),V=G=!1,R.call(t,r)}setTimeout(function(){var e=D().p;O(t,b(),E.numericInput?T(e):e)},0),z=e.originalEvent.data}function B(e){}var W,H,z,q,U,K=!1,G=!1,Y=!1,V=!1,Q=!0;if(null!=e)switch(e.action){case"isComplete":return q=oe(e.el),r=q.data("_inputmask").maskset,E=q.data("_inputmask").opts,I(e.buffer);case"unmaskedvalue":return q=e.$input,r=q.data("_inputmask").maskset,E=q.data("_inputmask").opts,K=e.$input.data("_inputmask").isRTL,n(e.$input);case"mask":W=b().join(""),function(e){if((q=oe(e)).data("_inputmask",{maskset:r,opts:E,isRTL:!1}),E.showTooltip&&q.prop("title",D().mask),"rtl"!=e.dir&&!E.rightAlign||q.css("text-align","right"),"rtl"==e.dir||E.numericInput){e.dir="ltr",q.removeAttr("dir");var t=q.data("_inputmask");t.isRTL=!0,q.data("_inputmask",t),K=!0}q.unbind(".inputmask"),(q.is(":input")&&function(e){var t="text"==e||"tel"==e||"password"==e;if(!t){var n=document.createElement("input");n.setAttribute("type",e),t="text"===n.type,n=null}return t}(q.attr("type"))||e.isContentEditable)&&(q.closest("form").bind("submit",function(e){W!=b().join("")&&q.change(),q[0]._valueGet&&q[0]._valueGet()==d().join("")&&q[0]._valueSet(""),E.removeMaskOnSubmit&&q.inputmask("remove")}).bind("reset",function(){setTimeout(function(){q.triggerHandler("setvalue.inputmask")},0)}),q.bind("mouseenter.inputmask",function(){!oe(this).is(":focus")&&E.showMaskOnHover&&this._valueGet()!=b().join("")&&O(this,b())}).bind("blur.inputmask",function(e){var t=oe(this);if(t.data("_inputmask")){var n=this._valueGet(),i=b().slice();Q=!0,W!=i.join("")&&setTimeout(function(){t.change(),W=i.join("")},0),""!=n&&(E.clearMaskOnLostFocus&&(n==d().join("")?i=[]:c(i)),!1===I(i)&&(t.trigger("incomplete"),E.clearIncomplete&&(C(),i=E.clearMaskOnLostFocus?[]:d().slice())),O(this,i,void 0,e))}}).bind("focus.inputmask",function(e){var t=(oe(this),this),n=t._valueGet();E.showMaskOnFocus&&(!E.showMaskOnHover||E.showMaskOnHover&&""==n)&&t._valueGet()!=b().join("")&&O(t,b(),S(x())),W=b().join("")}).bind("mouseleave.inputmask",function(){var e=oe(this);if(E.clearMaskOnLostFocus){var t=b().slice(),n=this._valueGet();e.is(":focus")||n==e.attr("placeholder")||""==n||(n==d().join("")?t=[]:c(t),O(this,t))}}).bind("click.inputmask",function(){if(oe(this).is(":focus")){var e=P(this);if(e.begin==e.end)if(E.radixFocus&&""!=E.radixPoint&&-1!=oe.inArray(E.radixPoint,b())&&(Q||b().join("")==d().join("")))P(this,oe.inArray(E.radixPoint,b())),Q=!1;else{var t=l(e.begin),n=S(x(t));P(this,t<n?g(t)?t:S(t):n)}}}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){P(e,0,S(x()))},0)}).bind(ue+".inputmask dragdrop.inputmask drop.inputmask",M).bind("cut.inputmask",function(e){Y=!0;var t=oe(this),n=P(this);L(this,oe.inputmask.keyCode.DELETE,n),O(this,b(),D().p,e,W!=b().join("")),this._valueGet()==d().join("")&&t.trigger("cleared"),E.showTooltip&&t.prop("title",D().mask)}).bind("complete.inputmask",E.oncomplete).bind("incomplete.inputmask",E.onincomplete).bind("cleared.inputmask",E.oncleared),q.bind("keydown.inputmask",f).bind("keypress.inputmask",R),le||q.bind("compositionstart.inputmask",$).bind("compositionupdate.inputmask",F).bind("compositionend.inputmask",B),"paste"==ue&&q.bind("input.inputmask",j)),q.bind("setvalue.inputmask",function(){var e=this._valueGet();this._valueSet(oe.isFunction(E.onBeforeMask)&&E.onBeforeMask.call(this,e,E)||e),a(this,!0,!1),W=b().join(""),(E.clearMaskOnLostFocus||E.clearIncomplete)&&this._valueGet()==d().join("")&&this._valueSet("")}),function(t){function e(){var e=oe(this),t=oe(this).data("_inputmask");return t?t.opts.autoUnmask?e.inputmask("unmaskedvalue"):i.call(this)!=d().join("")?i.call(this):"":i.call(this)}function n(e){var t=oe(this).data("_inputmask");o.call(this,e),t&&oe(this).triggerHandler("setvalue.inputmask")}var i,o,r;t._valueGet||(Object.getOwnPropertyDescriptor&&null==t.value?(i=function(){return this.textContent},o=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:e,set:n})):((r=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(t,"value"))&&r.configurable,document.__lookupGetter__&&t.__lookupGetter__("value")?(i=t.__lookupGetter__("value"),o=t.__lookupSetter__("value"),t.__defineGetter__("value",e),t.__defineSetter__("value",n)):(i=function(){return t.value},o=function(e){t.value=e},function(e){if(null==oe.valHooks[e]||1!=oe.valHooks[e].inputmaskpatch){var o=oe.valHooks[e]&&oe.valHooks[e].get?oe.valHooks[e].get:function(e){return e.value},r=oe.valHooks[e]&&oe.valHooks[e].set?oe.valHooks[e].set:function(e,t){return e.value=t,e};oe.valHooks[e]={get:function(e){var t=oe(e);if(t.data("_inputmask")){if(t.data("_inputmask").opts.autoUnmask)return t.inputmask("unmaskedvalue");var n=o(e),i=t.data("_inputmask").maskset._buffer;return n!=(i=i?i.join(""):"")?n:""}return o(e)},set:function(e,t){var n,i=oe(e),o=i.data("_inputmask");return n=r(e,t),o&&i.triggerHandler("setvalue.inputmask"),n},inputmaskpatch:!0}}}(t.type),function(e){oe(e).bind("mouseenter.inputmask",function(e){var t=oe(this),n=this._valueGet();""!=n&&n!=b().join("")&&t.triggerHandler("setvalue.inputmask")});var t=oe._data(e).events.mouseover;if(t){for(var n=t[t.length-1],i=t.length-1;0<i;i--)t[i]=t[i-1];t[0]=n}}(t))),t._valueGet=function(e){return K&&!0!==e?i.call(this).split("").reverse().join(""):i.call(this)},t._valueSet=function(e){o.call(this,K?e.split("").reverse().join(""):e)})}(e);var n=oe.isFunction(E.onBeforeMask)&&E.onBeforeMask.call(e,e._valueGet(),E)||e._valueGet();a(e,!0,!1,n.split(""));var i,o=b().slice();W=o.join("");try{i=document.activeElement}catch(e){}!1===I(o)&&E.clearIncomplete&&C(),E.clearMaskOnLostFocus&&(o.join("")==d().join("")?o=[]:c(o)),O(e,o),i===e&&P(e,S(x())),function(e){var t=oe._data(e).events,i=!1;oe.each(t,function(e,t){oe.each(t,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var n=t.handler;t.handler=function(e){if(!(this.disabled||this.readOnly&&!("keydown"==e.type&&e.ctrlKey&&67==e.keyCode||e.keyCode==oe.inputmask.keyCode.TAB))){switch(e.type){case"input":if(!0===Y||!0===i)return Y=!1,e.preventDefault();break;case"keydown":i=G=!1;break;case"keypress":if(!0===G)return e.preventDefault();G=!0;break;case"compositionstart":i=!0;break;case"compositionupdate":Y=!0;break;case"compositionend":i=!1}return n.apply(this,arguments)}e.preventDefault()}}})})}(e)}(e.el);break;case"format":(q=oe({})).data("_inputmask",{maskset:r,opts:E,isRTL:E.numericInput}),E.numericInput&&(K=!0);var i=(oe.isFunction(E.onBeforeMask)&&E.onBeforeMask.call(q,e.value,E)||e.value).split("");return a(q,!1,!1,K?i.reverse():i),oe.isFunction(E.onBeforeWrite)&&E.onBeforeWrite.call(this,void 0,b(),0,E),e.metadata?{value:K?b().slice().reverse().join(""):b().join(""),metadata:q.inputmask("getmetadata")}:K?b().slice().reverse().join(""):b().join("");case"isValid":(q=oe({})).data("_inputmask",{maskset:r,opts:E,isRTL:E.numericInput}),E.numericInput&&(K=!0);i=e.value.split("");a(q,!1,!0,K?i.reverse():i);for(var o=b(),X=u(),J=o.length-1;X<J&&!g(J);J--);return o.splice(X,J+1-X),I(o)&&e.value==o.join("");case"getemptymask":return q=oe(e.el),r=q.data("_inputmask").maskset,E=q.data("_inputmask").opts,d();case"remove":var Z,ee=e.el;q=oe(ee),r=q.data("_inputmask").maskset,E=q.data("_inputmask").opts,ee._valueSet(n(q)),q.unbind(".inputmask"),q.removeData("_inputmask"),Object.getOwnPropertyDescriptor&&(Z=Object.getOwnPropertyDescriptor(ee,"value")),Z&&Z.get?ee._valueGet&&Object.defineProperty(ee,"value",{get:ee._valueGet,set:ee._valueSet}):document.__lookupGetter__&&ee.__lookupGetter__("value")&&ee._valueGet&&(ee.__defineGetter__("value",ee._valueGet),ee.__defineSetter__("value",ee._valueSet));try{delete ee._valueGet,delete ee._valueSet}catch(e){ee._valueGet=void 0,ee._valueSet=void 0}break;case"getmetadata":if(q=oe(e.el),r=q.data("_inputmask").maskset,E=q.data("_inputmask").opts,oe.isArray(r.metadata)){for(var te,ne=x(),ie=ne;0<=ie;ie--)if(D().validPositions[ie]&&null!=D().validPositions[ie].alternation){te=D().validPositions[ie].alternation;break}return null!=te?r.metadata[D().validPositions[ne].locator[te]]:r.metadata[0]}return r.metadata}}if(void 0===oe.fn.inputmask){var e=navigator.userAgent,se=null!==e.match(new RegExp("iphone","i")),ae=(e.match(new RegExp("android.*safari.*","i")),null!==e.match(new RegExp("android.*chrome.*","i"))),le=null!==e.match(new RegExp("android.*firefox.*","i")),ue=(/Kindle/i.test(e)||/Silk/i.test(e)||/KFTT/i.test(e)||/KFOT/i.test(e)||/KFJWA/i.test(e)||/KFJWI/i.test(e)||/KFSOWI/i.test(e)||/KFTHWA/i.test(e)||/KFTHWI/i.test(e)||/KFAPWA/i.test(e)||/KFAPWI/i.test(e),re("paste")?"paste":re("input")?"input":"propertychange");oe.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:oe.noop,onincomplete:oe.noop,oncleared:oe.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:oe.noop,onBeforeMask:void 0,onBeforePaste:void 0,onBeforeWrite:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:oe.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z--]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z--]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,canClearPosition:oe.noop,postValidation:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},format:function(e,t,n){var i=oe.extend(!0,{},oe.inputmask.defaults,t);return s(i.alias,t,i),l({action:"format",value:e,metadata:n},a(i,t&&void 0!==t.definitions),i)},isValid:function(e,t){var n=oe.extend(!0,{},oe.inputmask.defaults,t);return s(n.alias,t,n),l({action:"isValid",value:e},a(n,t&&void 0!==t.definitions),n)}},oe.fn.inputmask=function(e,i){function o(e,t,n){var i=oe(e);for(var o in i.data("inputmask-alias")&&s(i.data("inputmask-alias"),oe.extend(!0,{},t),t),t){var r=i.data("inputmask-"+o.toLowerCase());null!=r&&(r="boolean"==typeof r?r:r.toString(),"mask"==o&&0==r.indexOf("[")?(t[o]=r.replace(/[\s[\]]/g,"").split("','"),t[o][0]=t[o][0].replace("'",""),t[o][t[o].length-1]=t[o][t[o].length-1].replace("'","")):t[o]=r,n&&(n[o]=t[o]))}return t}var t,r=oe.extend(!0,{},oe.inputmask.defaults,i);if("string"==typeof e)switch(e){case"mask":return s(r.alias,i,r),this.each(function(){return o(this,r),null==(t=a(r,i&&void 0!==i.definitions))?this:void l({action:"mask",el:this},t,r)});case"unmaskedvalue":var n=oe(this);return n.data("_inputmask")?l({action:"unmaskedvalue",$input:n}):n.val();case"remove":return this.each(function(){oe(this).data("_inputmask")&&l({action:"remove",el:this})});case"getemptymask":return this.data("_inputmask")?l({action:"getemptymask",el:this}):"";case"hasMaskedValue":return!!this.data("_inputmask")&&!this.data("_inputmask").opts.autoUnmask;case"isComplete":return!this.data("_inputmask")||l({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this});case"getmetadata":return this.data("_inputmask")?l({action:"getmetadata",el:this}):void 0;default:return s(r.alias,i,r),s(e,i,r)||(r.mask=e),this.each(function(){return o(this,r),null==(t=a(r,i&&void 0!==i.definitions))?this:void l({action:"mask",el:this},t,r)})}else{if("object"==typeof e)return s((r=oe.extend(!0,{},oe.inputmask.defaults,e)).alias,e,r),this.each(function(){return o(this,r),null==(t=a(r,e&&void 0!==e.definitions))?this:void l({action:"mask",el:this},t,r)});if(null==e)return this.each(function(){var e=oe(this).attr("data-inputmask");if(e&&""!=e)try{e=e.replace(new RegExp("'","g"),'"');var t=oe.parseJSON("{"+e+"}");oe.extend(!0,t,i),s((r=o(this,r=oe.extend(!0,{},oe.inputmask.defaults,t))).alias,t,r),r.alias=void 0,oe(this).inputmask("mask",r)}catch(e){}if(oe(this).attr("data-inputmask-mask")||oe(this).attr("data-inputmask-alias")){var n={};s((r=o(this,r=oe.extend(!0,{},oe.inputmask.defaults,{}),n)).alias,n,r),r.alias=void 0,oe(this).inputmask("mask",r)}})}}}return oe.fn.inputmask}),function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.inputmask"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("./jquery.inputmask")):e(jQuery)}(function(s){return s.extend(s.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),s.extend(s.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){var t=s.inputmask.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+t+"[01])")},val2:function(e){var t=s.inputmask.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+t+"(0[1-9]|1[012]))|(30"+t+"(0[13-9]|1[012]))|(31"+t+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,n){if(isNaN(e))return!1;var i=parseInt(e.concat(t.toString().slice(e.length))),o=parseInt(e.concat(n.toString().slice(e.length)));return!isNaN(i)&&(t<=i&&i<=n)||!isNaN(o)&&(t<=o&&o<=n)},determinebaseyear:function(e,t,n){var i=(new Date).getFullYear();if(i<e)return e;if(t<i){for(var o=t.toString().slice(0,2),r=t.toString().slice(2,4);t<o+n;)o--;var s=o+r;return s<e?e:s}return i},onKeyDown:function(e,t,n,i){var o=s(this);if(e.ctrlKey&&e.keyCode==s.inputmask.keyCode.RIGHT){var r=new Date;o.val(r.getDate().toString()+(r.getMonth()+1).toString()+r.getFullYear().toString()),o.triggerHandler("setvalue.inputmask")}},getFrontValue:function(e,t,n){for(var i=0,o=0,r=0;r<e.length&&"2"!=e.charAt(r);r++){var s=n.definitions[e.charAt(r)];s?(i+=o,o=s.cardinality):o++}return t.join("").substr(i,o)},definitions:{1:{validator:function(e,t,n,i,o){var r=o.regex.val1.test(e);return i||r||e.charAt(1)!=o.separator&&-1=="-./".indexOf(e.charAt(1))||!(r=o.regex.val1.test("0"+e.charAt(0)))?r:(t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var r=e;isNaN(t.buffer[n+1])||(r+=t.buffer[n+1]);var s=1==r.length?o.regex.val1pre.test(r):o.regex.val1.test(r);if(!i&&!s){if(s=o.regex.val1.test(e+"0"))return t.buffer[n]=e,t.buffer[++n]="0",{pos:n,c:"0"};if(s=o.regex.val1.test("0"+e))return t.buffer[n]="0",{pos:++n}}return s},cardinality:1}]},2:{validator:function(e,t,n,i,o){var r=o.getFrontValue(t.mask,t.buffer,o);-1!=r.indexOf(o.placeholder[0])&&(r="01"+o.separator);var s=o.regex.val2(o.separator).test(r+e);if(!i&&!s&&(e.charAt(1)==o.separator||-1!="-./".indexOf(e.charAt(1)))&&(s=o.regex.val2(o.separator).test(r+"0"+e.charAt(0))))return t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)};if(o.mask.indexOf("2")==o.mask.length-1&&s){if(t.buffer.join("").substr(4,4)+e!=o.leapday)return!0;var a=parseInt(t.buffer.join("").substr(0,4),10);return a%4==0&&(a%100!=0||a%400==0)}return s},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){isNaN(t.buffer[n+1])||(e+=t.buffer[n+1]);var r=o.getFrontValue(t.mask,t.buffer,o);-1!=r.indexOf(o.placeholder[0])&&(r="01"+o.separator);var s=1==e.length?o.regex.val2pre(o.separator).test(r+e):o.regex.val2(o.separator).test(r+e);return i||s||!(s=o.regex.val2(o.separator).test(r+"0"+e))?s:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},y:{validator:function(e,t,n,i,o){if(o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear)){if(t.buffer.join("").substr(0,6)!=o.leapday)return!0;var r=parseInt(e,10);return r%4==0&&(r%100!=0||r%400==0)}return!1},cardinality:4,prevalidator:[{validator:function(e,t,n,i,o){var r=o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear);if(!i&&!r){var s=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e+"0").toString().slice(0,1);if(r=o.isInYearRange(s+e,o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[n++]=s.charAt(0),{pos:n};if(s=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e+"0").toString().slice(0,2),r=o.isInYearRange(s+e,o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[n++]=s.charAt(0),t.buffer[n++]=s.charAt(1),{pos:n}}return r},cardinality:1},{validator:function(e,t,n,i,o){var r=o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear);if(!i&&!r){var s=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e).toString().slice(0,2);if(r=o.isInYearRange(e[0]+s[1]+e[1],o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[n++]=s.charAt(1),{pos:n};if(s=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e).toString().slice(0,2),o.isInYearRange(s+e,o.yearrange.minyear,o.yearrange.maxyear))if(t.buffer.join("").substr(0,6)!=o.leapday)r=!0;else{var a=parseInt(e,10);r=a%4==0&&(a%100!=0||a%400==0)}else r=!1;if(r)return t.buffer[n-1]=s.charAt(0),t.buffer[n++]=s.charAt(1),t.buffer[n++]=e.charAt(0),{refreshFromBuffer:{start:n-3,end:n},pos:n}}return r},cardinality:2},{validator:function(e,t,n,i,o){return o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){var t=s.inputmask.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+t+"[0-3])|(02"+t+"[0-2])")},val2:function(e){var t=s.inputmask.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+t+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+t+"30)|((0[13578]|1[02])"+t+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(e,t,n,i){var o=s(this);if(e.ctrlKey&&e.keyCode==s.inputmask.keyCode.RIGHT){var r=new Date;o.val((r.getMonth()+1).toString()+r.getDate().toString()+r.getFullYear().toString()),o.triggerHandler("setvalue.inputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(e,t,n,i){var o=s(this);if(e.ctrlKey&&e.keyCode==s.inputmask.keyCode.RIGHT){var r=new Date;o.val(r.getFullYear().toString()+(r.getMonth()+1).toString()+r.getDate().toString()),o.triggerHandler("setvalue.inputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,n,i,o){if("24"==o.hourFormat&&24==parseInt(e,10))return t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},c:t.buffer[n]="0"};var r=o.regex.hrs.test(e);if(!i&&!r&&(e.charAt(1)==o.timeseparator||-1!="-.:".indexOf(e.charAt(1)))&&(r=o.regex.hrs.test("0"+e.charAt(0))))return t.buffer[n-1]="0",t.buffer[n]=e.charAt(0),{refreshFromBuffer:{start:++n-2,end:n},pos:n,c:o.timeseparator};if(r&&"24"!==o.hourFormat&&o.regex.hrs24.test(e)){var s=parseInt(e,10);return t.buffer[n+5]=24==s?"a":"p",t.buffer[n+6]="m",(s-=12)<10?(t.buffer[n]=s.toString(),t.buffer[n-1]="0"):(t.buffer[n]=s.toString().charAt(1),t.buffer[n-1]=s.toString().charAt(0)),{refreshFromBuffer:{start:n-1,end:n+6},c:t.buffer[n]}}return r},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var r=o.regex.hrspre.test(e);return i||r||!(r=o.regex.hrs.test("0"+e))?r:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var r=o.regex.mspre.test(e);return i||r||!(r=o.regex.ms.test("0"+e))?r:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},t:{validator:function(e,t,n,i,o){return o.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),s.fn.inputmask}),function(e){var d=Array.prototype.slice;function t(){}function n(u){if(u){var c="undefined"==typeof console?t:function(e){console.error(e)};return u.bridget=function(e,t){!function(e){e.prototype.option||(e.prototype.option=function(e){u.isPlainObject(e)&&(this.options=u.extend(!0,this.options,e))})}(t),function(a,l){u.fn[a]=function(t){if("string"!=typeof t)return this.each(function(){var e=u.data(this,a);e?(e.option(t),e._init()):(e=new l(this,t),u.data(this,a,e))});for(var e=d.call(arguments,1),n=0,i=this.length;n<i;n++){var o=this[n],r=u.data(o,a);if(r)if(u.isFunction(r[t])&&"_"!==t.charAt(0)){var s=r[t].apply(r,e);if(void 0!==s)return s}else c("no such method '"+t+"' for "+a+" instance");else c("cannot call methods on "+a+" prior to initialization; attempted to call '"+t+"'")}return this}}(e,t)},u.bridget}}"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):"object"==typeof exports?n(require("jquery")):n(e.jQuery)}(window),function(n){var e=document.documentElement,t=function(){};function i(e){var t=n.event;return t.target=t.target||t.srcElement||e,t}e.addEventListener?t=function(e,t,n){e.addEventListener(t,n,!1)}:e.attachEvent&&(t=function(t,e,n){t[e+n]=n.handleEvent?function(){var e=i(t);n.handleEvent.call(n,e)}:function(){var e=i(t);n.call(t,e)},t.attachEvent("on"+e,t[e+n])});var o=function(){};e.removeEventListener?o=function(e,t,n){e.removeEventListener(t,n,!1)}:e.detachEvent&&(o=function(t,n,i){t.detachEvent("on"+n,t[n+i]);try{delete t[n+i]}catch(e){t[n+i]=void 0}});var r={bind:t,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:n.eventie=r}(window),function(){function e(){}var t=e.prototype,n=this,i=n.EventEmitter;function r(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function o(e){return function(){return this[e].apply(this,arguments)}}t.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t},t.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},t.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},t.addListener=function(e,t){var n,i=this.getListenersAsObject(e),o="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===r(i[n],t)&&i[n].push(o?t:{listener:t,once:!1});return this},t.on=o("addListener"),t.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},t.once=o("addOnceListener"),t.defineEvent=function(e){return this.getListeners(e),this},t.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},t.removeListener=function(e,t){var n,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&-1!==(n=r(o[i],t))&&o[i].splice(n,1);return this},t.off=o("removeListener"),t.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},t.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},t.manipulateListeners=function(e,t,n){var i,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},t.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"==n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},t.removeAllListeners=o("removeEvent"),t.emitEvent=function(e,t){var n,i,o,r=this.getListenersAsObject(e);for(o in r)if(r.hasOwnProperty(o))for(i=r[o].length;i--;)!0===(n=r[o][i]).once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},t.trigger=o("emitEvent"),t.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},t.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},t._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=i,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:n.EventEmitter=e}.call(this),function(e){var o="Webkit Moz ms Ms O".split(" "),r=document.documentElement.style;function t(e){if(e){if("string"==typeof r[e])return e;var t;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=o.length;n<i;n++)if(t=o[n]+e,"string"==typeof r[t])return t}}"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(x){function k(e){var t=parseFloat(e);return-1===e.indexOf("%")&&!isNaN(t)&&t}var A="undefined"==typeof console?function(){}:function(e){console.error(e)},S=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function e(_){var y,b,w,E=!1;function C(e,t){if(x.getComputedStyle||-1===t.indexOf("%"))return t;var n=e.style,i=n.left,o=e.runtimeStyle,r=o&&o.left;return r&&(o.left=e.currentStyle.left),n.left=t,t=n.pixelLeft,n.left=i,r&&(o.left=r),t}return function(e){if(function(){if(!E){E=!0;var n,t=x.getComputedStyle;if(n=t?function(e){return t(e,null)}:function(e){return e.currentStyle},y=function(e){var t=n(e);return t||A("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t},b=_("boxSizing")){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[b]="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=y(e);w=200===k(o.width),i.removeChild(e)}}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var t=y(e);if("none"===t.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=S.length;t<n;t++){e[S[t]]=0}return e}();var n={};n.width=e.offsetWidth,n.height=e.offsetHeight;for(var i=n.isBorderBox=!(!b||!t[b]||"border-box"!==t[b]),o=0,r=S.length;o<r;o++){var s=S[o],a=t[s];a=C(e,a);var l=parseFloat(a);n[s]=isNaN(l)?0:l}var u=n.paddingLeft+n.paddingRight,c=n.paddingTop+n.paddingBottom,d=n.marginLeft+n.marginRight,h=n.marginTop+n.marginBottom,f=n.borderLeftWidth+n.borderRightWidth,p=n.borderTopWidth+n.borderBottomWidth,g=i&&w,m=k(t.width);!1!==m&&(n.width=m+(g?0:u+f));var v=k(t.height);return!1!==v&&(n.height=v+(g?0:c+p)),n.innerWidth=n.width-(u+f),n.innerHeight=n.height-(c+p),n.outerWidth=n.width+d,n.outerHeight=n.height+h,n}}}"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("desandro-get-style-property")):x.getSize=e(x.getStyleProperty)}(window),function(t){var n=t.document,i=[];function o(e){"function"==typeof e&&(o.isReady?e():i.push(e))}function r(e){var t="readystatechange"===e.type&&"complete"!==n.readyState;o.isReady||t||s()}function s(){o.isReady=!0;for(var e=0,t=i.length;e<t;e++){(0,i[e])()}}function e(e){return"complete"===n.readyState?s():(e.bind(n,"DOMContentLoaded",r),e.bind(n,"readystatechange",r),e.bind(t,"load",r)),o}o.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],e):"object"==typeof exports?module.exports=e(require("eventie")):t.docReady=e(t.eventie)}(window),function(o){var e,n=function(){if(o.matches)return"matches";if(o.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],t=0,n=e.length;t<n;t++){var i=e[t]+"MatchesSelector";if(o[i])return i}}();function i(e,t){return e[n](t)}function r(e){e.parentNode||document.createDocumentFragment().appendChild(e)}if(n){var t=i(document.createElement("div"),"div");e=t?i:function(e,t){return r(e),i(e,t)}}else e=function(e,t){r(e);for(var n=e.parentNode.querySelectorAll(t),i=0,o=n.length;i<o;i++)if(n[i]===e)return!0;return!1};"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return e}):"object"==typeof exports?module.exports=e:window.matchesSelector=e}(Element.prototype),function(n,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(e,t){return i(n,e,t)}):"object"==typeof exports?module.exports=i(n,require("doc-ready"),require("desandro-matches-selector")):n.fizzyUIUtils=i(n,n.docReady,n.matchesSelector)}(window,function(h,e,u){var n,f={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},t=Object.prototype.toString;f.isArray=function(e){return"[object Array]"==t.call(e)},f.makeArray=function(e){var t=[];if(f.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var n=0,i=e.length;n<i;n++)t.push(e[n]);else t.push(e);return t},f.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},f.removeFrom=function(e,t){var n=f.indexOf(e,t);-1!=n&&e.splice(n,1)},f.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},f.setText=function(e,t){e[n=n||(void 0!==document.documentElement.textContent?"textContent":"innerText")]=t},f.getParent=function(e,t){for(;e!=document.body;)if(e=e.parentNode,u(e,t))return e},f.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},f.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},f.filterFindElements=function(e,t){for(var n=[],i=0,o=(e=f.makeArray(e)).length;i<o;i++){var r=e[i];if(f.isElement(r))if(t){u(r,t)&&n.push(r);for(var s=r.querySelectorAll(t),a=0,l=s.length;a<l;a++)n.push(s[a])}else n.push(r)}return n},f.debounceMethod=function(e,t,i){var o=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r];e&&clearTimeout(e);var t=arguments,n=this;this[r]=setTimeout(function(){o.apply(n,t),delete n[r]},i||100)}},f.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()};var p=h.console;return f.htmlInit=function(c,d){e(function(){for(var e=f.toDashed(d),t=document.querySelectorAll(".js-"+e),n="data-"+e+"-options",i=0,o=t.length;i<o;i++){var r,s=t[i],a=s.getAttribute(n);try{r=a&&JSON.parse(a)}catch(e){p&&p.error("Error parsing "+n+" on "+s.nodeName.toLowerCase()+(s.id?"#"+s.id:"")+": "+e);continue}var l=new c(s,r),u=h.jQuery;u&&u.data(s,d,l)}})},f}),function(o,r){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(e,t,n,i){return r(o,e,t,n,i)}):"object"==typeof exports?module.exports=r(o,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(o.Outlayer={},o.Outlayer.Item=r(o,o.EventEmitter,o.getSize,o.getStyleProperty,o.fizzyUIUtils))}(window,function(e,t,n,r,i){var o=e.getComputedStyle,a=o?function(e){return o(e,null)}:function(e){return e.currentStyle};var s=r("transition"),l=r("transform"),u=s&&l,c=!!r("perspective"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[s],h=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var e={},t=0,n=h.length;t<n;t++){var i=h[t],o=r(i);o&&o!==i&&(e[i]=o)}return e}();function p(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}i.extend(p.prototype,t.prototype),p.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},p.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},p.prototype.getSize=function(){this.size=n(this.element)},p.prototype.css=function(e){var t=this.element.style;for(var n in e){t[f[n]||n]=e[n]}},p.prototype.getPosition=function(){var e=a(this.element),t=this.layout.options,n=t.isOriginLeft,i=t.isOriginTop,o=parseInt(e[n?"left":"right"],10),r=parseInt(e[i?"top":"bottom"],10);o=isNaN(o)?0:o,r=isNaN(r)?0:r;var s=this.layout.size;o-=n?s.paddingLeft:s.paddingRight,r-=i?s.paddingTop:s.paddingBottom,this.position.x=o,this.position.y=r},p.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={},i=t.isOriginLeft?"paddingLeft":"paddingRight",o=t.isOriginLeft?"left":"right",r=t.isOriginLeft?"right":"left",s=this.position.x+e[i];s=t.percentPosition&&!t.isHorizontal?s/e.width*100+"%":s+"px",n[o]=s,n[r]="";var a=t.isOriginTop?"paddingTop":"paddingBottom",l=t.isOriginTop?"top":"bottom",u=t.isOriginTop?"bottom":"top",c=this.position.y+e[a];c=t.percentPosition&&t.isHorizontal?c/e.height*100+"%":c+"px",n[l]=c,n[u]="",this.css(n),this.emitEvent("layout",[this])};var g=c?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};p.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(e,10),r=parseInt(t,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(e,t),!s||this.isTransitioning){var a=e-n,l=t-i,u={},c=this.layout.options;a=c.isOriginLeft?a:-a,l=c.isOriginTop?l:-l,u.transform=g(a,l),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},p.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},p.prototype.moveTo=u?p.prototype._transitionTo:p.prototype.goTo,p.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},p.prototype._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},p.prototype._transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var m=l&&i.toDashed(l)+",opacity";p.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(d,this,!1))},p.prototype.transition=p.prototype[s?"_transition":"_nonTransition"],p.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},p.prototype.onotransitionend=function(e){this.ontransitionend(e)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};p.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=v[e.propertyName]||e.propertyName;if(delete t.ingProperties[n],function(e){for(var t in e)return!1;return!null}(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd)t.onEnd[n].call(this),delete t.onEnd[n];this.emitEvent("transitionEnd",[this])}},p.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},p.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var _={transitionProperty:"",transitionDuration:""};return p.prototype.removeTransitionStyles=function(){this.css(_)},p.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},p.prototype.remove=function(){if(s&&parseFloat(this.layout.options.transitionDuration)){var e=this;this.once("transitionEnd",function(){e.removeElem()}),this.hide()}else this.removeElem()},p.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},p.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},p.prototype.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},p.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},p.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},p.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},p}),function(r,s){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(e,t,n,i,o){return s(r,e,t,n,i,o)}):"object"==typeof exports?module.exports=s(r,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):r.Outlayer=s(r,r.eventie,r.EventEmitter,r.getSize,r.fizzyUIUtils,r.Outlayer.Item)}(window,function(e,t,n,o,s,i){function r(){}var a=e.console,l=e.jQuery,u=0,c={};function d(e,t){var n=s.getQueryElement(e);if(n){this.element=n,l&&(this.$element=l(this.element)),this.options=s.extend({},this.constructor.defaults),this.option(t);var i=++u;this.element.outlayerGUID=i,(c[i]=this)._create(),this.options.isInitLayout&&this.layout()}else a&&a.error("Bad element for "+this.constructor.namespace+": "+(n||e))}return d.namespace="outlayer",d.Item=i,d.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},s.extend(d.prototype,n.prototype),d.prototype.option=function(e){s.extend(this.options,e)},d.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),s.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},d.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},d.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,i=[],o=0,r=t.length;o<r;o++){var s=new n(t[o],this);i.push(s)}return i},d.prototype._filterFindItemElements=function(e){return s.filterFindElements(e,this.options.itemSelector)},d.prototype.getItemElements=function(){for(var e=[],t=0,n=this.items.length;t<n;t++)e.push(this.items[t].element);return e},d.prototype._init=d.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},d.prototype._resetLayout=function(){this.getSize()},d.prototype.getSize=function(){this.size=o(this.element)},d.prototype._getMeasurement=function(e,t){var n,i=this.options[e];i?("string"==typeof i?n=this.element.querySelector(i):s.isElement(i)&&(n=i),this[e]=n?o(n)[t]:i):this[e]=0},d.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},d.prototype._getItemsForLayout=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];o.isIgnored||t.push(o)}return t},d.prototype._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i],s=this._getItemLayoutPosition(r);s.item=r,s.isInstant=t||r.isLayoutInstant,n.push(s)}this._processLayoutQueue(n)}},d.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},d.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];this._positionItem(i.item,i.x,i.y,i.isInstant)}},d.prototype._positionItem=function(e,t,n,i){i?e.goTo(t,n):e.moveTo(t,n)},d.prototype._postLayout=function(){this.resizeContainer()},d.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},d.prototype._getContainerSize=r,d.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},d.prototype._emitCompleteOnItems=function(e,t){var n=this;function i(){n.emitEvent(e+"Complete",[t])}var o=t.length;if(t&&o)for(var r=0,s=0,a=t.length;s<a;s++){t[s].once(e,l)}else i();function l(){++r===o&&i()}},d.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},d.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},d.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;t<n;t++){var i=e[t];this.ignore(i)}}},d.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,n=e.length;t<n;t++){var i=e[t];s.removeFrom(this.stamps,i),this.unignore(i)}},d.prototype._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=s.makeArray(e)},d.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;e<t;e++){var n=this.stamps[e];this._manageStamp(n)}}},d.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},d.prototype._manageStamp=r,d.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,i=o(e);return{left:t.left-n.left-i.marginLeft,top:t.top-n.top-i.marginTop,right:n.right-t.right-i.marginRight,bottom:n.bottom-t.bottom-i.marginBottom}},d.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},d.prototype.bindResize=function(){this.isResizeBound||(t.bind(e,"resize",this),this.isResizeBound=!0)},d.prototype.unbindResize=function(){this.isResizeBound&&t.unbind(e,"resize",this),this.isResizeBound=!1},d.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(function(){e.resize(),delete e.resizeTimeout},100)},d.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.prototype.needsResizeLayout=function(){var e=o(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},d.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},d.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},d.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},d.prototype.reveal=function(e){this._emitCompleteOnItems("reveal",e);for(var t=e&&e.length,n=0;t&&n<t;n++){e[n].reveal()}},d.prototype.hide=function(e){this._emitCompleteOnItems("hide",e);for(var t=e&&e.length,n=0;t&&n<t;n++){e[n].hide()}},d.prototype.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},d.prototype.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},d.prototype.getItem=function(e){for(var t=0,n=this.items.length;t<n;t++){var i=this.items[t];if(i.element===e)return i}},d.prototype.getItems=function(e){for(var t=[],n=0,i=(e=s.makeArray(e)).length;n<i;n++){var o=e[n],r=this.getItem(o);r&&t.push(r)}return t},d.prototype.remove=function(e){var t=this.getItems(e);if(this._emitCompleteOnItems("remove",t),t&&t.length)for(var n=0,i=t.length;n<i;n++){var o=t[n];o.remove(),s.removeFrom(this.items,o)}},d.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;t<n;t++){this.items[t].destroy()}this.unbindResize();var i=this.element.outlayerGUID;delete c[i],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},d.data=function(e){var t=(e=s.getQueryElement(e))&&e.outlayerGUID;return t&&c[t]},d.create=function(e,t){function n(){d.apply(this,arguments)}return Object.create?n.prototype=Object.create(d.prototype):s.extend(n.prototype,d.prototype),(n.prototype.constructor=n).defaults=s.extend({},d.defaults),s.extend(n.defaults,t),n.prototype.settings={},n.namespace=e,n.data=d.data,(n.Item=function(){i.apply(this,arguments)}).prototype=new i,s.htmlInit(n,e),l&&l.bridget&&l.bridget(e,n),n},d.Item=i,d}),function(e,t){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):e.Masonry=t(e.Outlayer,e.getSize,e.fizzyUIUtils)}(window,function(e,u,c){var t=e.create("masonry");return t.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},t.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],t=e&&e.element;this.columnWidth=t&&u(t).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,o=i/n,r=n-i%n;o=Math[r&&r<1?"round":"floor"](o),this.cols=Math.max(o,1)},t.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,t=u(e);this.containerWidth=t&&t.innerWidth},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this._getColGroup(n),o=Math.min.apply(Math,i),r=c.indexOf(i,o),s={x:this.columnWidth*r,y:o},a=o+e.size.outerHeight,l=this.cols+1-i.length,u=0;u<l;u++)this.colYs[r+u]=a;return s},t.prototype._getColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;i<n;i++){var o=this.colYs.slice(i,i+e);t[i]=Math.max.apply(Math,o)}return t},t.prototype._manageStamp=function(e){var t=u(e),n=this._getElementOffset(e),i=this.options.isOriginLeft?n.left:n.right,o=i+t.outerWidth,r=Math.floor(i/this.columnWidth);r=Math.max(0,r);var s=Math.floor(o/this.columnWidth);s-=o%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var a=(this.options.isOriginTop?n.top:n.bottom)+t.outerHeight,l=r;l<=s;l++)this.colYs[l]=Math.max(a,this.colYs[l])},t.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},t.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},t.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},t}),function(u){if("undefined"!=typeof window){var c,h={transform:"transform",WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",msTransform:"-ms-transform",OTransform:"-o-transform"},f=[],l=function(){if("ontouchstart"in window)return["touchstart","touchmove","touchend","touchcancel"];return["mousedown","mousemove","mouseup","mouseleave"]}(),d=[],p={init:function(e){var t="photor__";return c=u.extend({control:t+"viewportControl",next:t+"viewportControlNext",prev:t+"viewportControlPrev",thumbs:t+"thumbs",thumbsLayer:t+"thumbsWrap",thumb:t+"thumbsWrapItem",thumbImg:t+"thumbsWrapItemImg",thumbFrame:t+"thumbsWrapFrame",viewport:t+"viewport",layer:t+"viewportLayer",slide:t+"viewportLayerSlide",slideImg:t+"viewportLayerSlideImg",_loading:"_loading",_error:"_error",_current:"_current",_dragging:"_dragging",_disabled:"_disabled",_alt:"_alt",_single:"_single",_animated:"_animated",_hidden:"_hidden",_html:"_html",_freeze:"_freeze",_auto:"_auto",_center:"_center",_portrait:"_portrait",_landscape:"_landscape",_draggable:"_draggable",single:!1,current:0,count:0,last:-1,duration:300,loop:!1,showThumbs:"thumbs",keyboard:!0,modifierPrefix:"_",ieClassPrefix:"_ie",slidesOnScreen:1,transform:function(){var e=!1,t=document.createElement("p");for(var n in h)if(h.hasOwnProperty(n)&&void 0!==t.style[n]){e={property:n};break}document.body.appendChild(t),e.property&&(t.style[e.property]="translate3d(1px,1px,1px)",e.has3d="none"!=window.getComputedStyle(t).getPropertyValue(h[e.property]));return document.body.removeChild(t),e}(),transition:function(e){var t=document.createElement("p").style,n=["ms","O","Moz","Webkit"];if(""==t[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var i=0,o=n.length;i<o;i++)if(""==t[n[i]+e])return n[i]+e}("transition"),ie:function(){var e=navigator.userAgent.toLowerCase();return-1<e.indexOf("msie")&&parseInt(e.split("msie")[1])}()},e),this.each(function(){var e,t=u(this),n=this.id||f.length,i={},o={url:"",thumb:"",caption:"",width:0,height:0,loaded:!1,classes:""},r=!1;if(!t.attr("data-photor-id")){if(i.params=u.extend({},c),i.root=t,i.control=t.find("."+i.params.control),i.next=t.find("."+i.params.next),i.prev=t.find("."+i.params.prev),i.thumbs=t.find("."+i.params.thumbs),i.thumbsLayer=t.find("."+i.params.thumbsLayer),i.viewport=t.find("."+i.params.viewport),i.layer=t.find("."+i.params.layer),i.slides=[],i.params.data&&i.params.data.length)for(var s=0,a=i.params.data.length;s<a;s++)i.slides.push(u.extend({},o,i.params.data[s]));else{var l=t.find("."+i.params.layer+" > *");l.length&&l.each(function(){"IMG"==this.nodeName?i.slides.push(u.extend({},o,{url:this.src,caption:this.alt,thumb:u(this).data("thumb"),classes:this.className})):(r=!0,i.slides.push(u.extend({},o,{html:this.outerHTML,loaded:!0})))})}r&&"thumbs"==i.params.showThumbs&&(i.params.showThumbs="dots"),1!=i.params.slidesOnScreen&&(i.params.showThumbs=null),e=p.getHTML(i.params,i.slides),i._layerDOM=i.layer[0].innerHTML,i._thumbsLayerDOM=i.thumbsLayer[0].innerHTML,i.layer.html(e.slides),i.thumbsLayer.html(e.thumbs),i.thumb=t.find("."+i.params.thumb),i.thumbImg=t.find("."+i.params.thumbImg),i.thumbFrame=t.find("."+i.params.thumbFrame),i.slide=t.find("."+i.params.slide),i.slideImg=t.find("."+i.params.slideImg),i.slide.each(function(e){u(this).css("left",100*e+"%")}),i.current=i.params.current,i.count=i.slides.length,i.last=i.count-1,i.thumbsDragging=!1,i.thumbsIndent=0,i.events=[],window.getComputedStyle?i.viewportWidth=parseFloat(window.getComputedStyle(i.viewport[0]).width):i.viewportWidth=i.viewport.outerWidth(),i.viewportHeight=i.viewport.outerHeight(),i.thumbsWidth=i.thumbs.outerWidth(),i.thumbsHeight=i.thumbs.outerHeight(),f[n]=i,t.attr("data-photor-id",n),i.params.showThumbs&&t.addClass(i.params.modifierPrefix+i.params.showThumbs),i.params.ie&&t.addClass(i.params.ieClassPrefix+i.params.ie),1==i.slides.length&&t.addClass(i.params._single),"thumbs"==i.params.showThumbs&&p.loadThumbs(n),(1<i.slides.length||i.params.single)&&p.handlers(n),p.go(n,i.current,0),m(n)}})},update:function(){for(var e in f)f.hasOwnProperty(e)&&t(e);function t(t){var e=f[t];window.getComputedStyle?e.viewportWidth=parseFloat(window.getComputedStyle(e.viewport[0]).width):e.viewportWidth=e.viewport.outerWidth(),e.viewportHeight=e.viewport.outerHeight(),e.thumbsWidth=e.thumbs.outerWidth(),e.thumbsHeight=e.thumbs.outerHeight(),e.thumbsLayerWidth=e.thumbsLayer.outerWidth(),e.slide.each(function(e){p.position(t,e)}),"thumbs"==e.params.showThumbs&&p.getThumbsSize(t),e.layer.css("transition-duration","0s").css(p.setIndent(t,-100*e.current))}},destroy:function(e){if(void 0!==e)n(e);else for(var t in f)f.hasOwnProperty(t)&&n(t);function n(e){for(var t=f[e],n=0,i=t.events.length;n<i;n++)o(t.events[n].element,t.events[n].event,t.events[n].handler,t.events[n].capture,1);t.layer[0].innerHTML=t._layerDOM,t.thumbsLayer[0].innerHTML=t._thumbsLayerDOM,t.layer.attr("style",""),t.root.removeAttr("data-photor-id")}},handlers:function(e){var t=f[e];!function(n){var r=f[n],e=r.thumbs,s={},t=r.viewport[0].getElementsByTagName("a"),i=r.viewport[0].getElementsByTagName("img");function o(){s.isSlide&&(s.isThumbs?function(){if(r.thumbsDragging&&s.isSlide){var e=s.shiftX<0?-1:1;s.t2=new Date,r.thumbsIndent=function(e,t){var n,i,o=Math.abs(10*s.shiftX/(s.t2-s.t1));if(n=t*parseInt(Math.pow(o,2))+e,i=r.thumbs.outerWidth()-r.thumbsLayer.outerWidth(),0<n)return 0;if(n<i)return i;return n}(r.thumbsIndent,e),r.thumbsLayer.css("transition-duration",".24s").css(p.setIndent(n,r.thumbsIndent,"px"))}}():r.params.transition&&function(){if(Math.abs(s.shiftX)>.05*r.viewportWidth){var e,t=s.shiftX/r.viewportWidth*r.params.slidesOnScreen;(e=s.shiftX<0?r.current-Math.floor(t):r.current-Math.ceil(t))<0&&(e=0),e+r.params.slidesOnScreen-1>r.last&&(e=r.last-r.params.slidesOnScreen+1),p.go(n,e)}else p.go(n,r.current)}()),s={},r.root.removeClass(r.params._dragging)}function a(e,t){for(var n=0,i=e.length;n<i;n++)r.events.push({element:e[n],event:t,handler:function(e){return e.preventDefault&&e.preventDefault(),!1}})}d.onStart=function(e){r.freeze||(s.x1=e.clientX||e.touches&&e.touches[0].clientX,s.y1=e.clientY||e.touches&&e.touches[0].clientY,s.t1=new Date,s.isPressed=!0,s.isThumbs=g(this,r.params.thumbs),s.thumbsStartX=r.thumbsIndent,r.layer.css("transition-duration","0s"),r.thumbsLayer.css("transition-duration","0s"))},d.onMove=function(e){if(s.isPressed&&!r.freeze){if(s.shiftX=(e.clientX||e.touches&&e.touches[0].clientX)-s.x1,s.shiftY=(e.clientY||e.touches&&e.touches[0].clientY)-s.y1,s.shiftXAbs=Math.abs(s.shiftX),s.shiftYAbs=Math.abs(s.shiftY),s.isMultitouch=s.isMultitouch||!!e.touches&&1<e.touches.length,s.isMultitouch)return void o();s.isSlide||s.isScroll||(5<=s.shiftYAbs&&s.shiftYAbs>s.shiftXAbs&&(s.isScroll=!0),5<=s.shiftXAbs&&s.shiftXAbs>s.shiftYAbs&&(r.root.addClass(r.params._dragging),s.isSlide=!0,s.startShift=function(e){var t,n=f[e];if(n.params.transform){var i=n.layer.css(h[n.params.transform.property]).match(/(-?[0-9\.]+)/g);t=6<i.length?i[13]:i[4]}else t=n.layer.css("left");return parseInt(t)}(n))),s.isSlide&&(s.isThumbs?r.thumbsDragging&&function(){var e=s.shiftX+s.thumbsStartX,t=-1*(r.thumbsLayerWidth-r.thumbsWidth);0<e&&(e/=3),e<t&&(e=t+(e-t)/3),r.thumbsIndent=e,r.thumbsLayer.css(p.setIndent(n,r.thumbsIndent,"px"))}():r.params.transition&&function(){var e,t=r.params.slidesOnScreen;(0==r.current&&0<s.shiftX||r.current+t-1==r.last&&s.shiftX<0)&&(s.shiftX=s.shiftX/3),e=s.shiftX+s.startShift,r.layer.css(p.setIndent(n,Math.round(e),"px"))}(),e.preventDefault&&e.preventDefault())}},d.onEnd=function(e){if(!s.isSlide&&!s.isScroll&&s.isPressed){if(g(e.target,r.params.prev)&&p.prev(n),g(e.target,r.params.next)&&p.next(n),g(e.target,r.params.thumbImg)||g(e.target,r.params.thumb)){var t=parseInt(e.target.getAttribute("data-rel"));t+r.params.slidesOnScreen-1>r.last&&(t=r.last-r.params.slidesOnScreen+1),p.go(n,t)}e.stopPropagation&&e.preventDefault&&(e.stopPropagation(),e.preventDefault())}o()},r.events.push({element:r.viewport[0],event:l[0],handler:d.onStart},{element:r.viewport[0],event:l[1],handler:d.onMove,capture:!0},{element:r.viewport[0],event:l[2],handler:d.onEnd},{element:r.viewport[0],event:l[3],handler:d.onEnd},{element:e[0],event:l[0],handler:d.onStart},{element:e[0],event:l[1],handler:d.onMove,capture:!0},{element:e[0],event:l[2],handler:d.onEnd},{element:e[0],event:l[3],handler:d.onEnd}),a(r.thumb,"click"),a(r.thumbImg,"dragstart"),a(t,"dragstart"),a(i,"dragstart")}(e),function(e){if(!d.resize){f[e].events.push({element:window,event:"resize",handler:p.update})}}(e),function(n){var e=f[n],t=["webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","transitionend"];d.transitionEnd=function(e){var t=e.propertyName;t.lastIndexOf("transform")!=t.length-"transform".length&&"left"!=t||m(n)};for(var i=0,o=t.length;i<o;i++)e.events.push({element:e.layer[0],event:t[i],handler:d.transitionEnd})}(e),t.params.keyboard&&function(o){var e=f[o];d.keydown=function(e){var t=e.which||e.keyCode,n=e.target.nodeName.toLowerCase(),i=!!e.target.attributes.contenteditable;if("input"!=n&&"textarea"!=n&&"select"!=n&&!i)switch(t){case 32:p.next(o);break;case 37:p.prev(o);break;case 39:p.next(o)}},e.events.push({element:window,event:"keydown",handler:d.keydown})}(e);for(var n=0,i=t.events.length;n<i;n++)o(t.events[n].element,t.events[n].event,t.events[n].handler,t.events[n].capture)},go:function(e,t,n){var i=f[e];i.freeze||(r(e,t),n=null==n?i.params.duration:n,i.root.addClass(i.params._animated),i.layer.css("transition-duration",n+"ms").css(p.setIndent(e,-t*(i.viewportWidth/i.params.slidesOnScreen),"px")),i.current=t,p.loadSlides(e,t),p.checkButtons(e),p.setCurrentThumb(e,t),i.slide.removeClass(i.params._current),i.slide.filter("."+i.params.modifierPrefix+t).addClass(i.params._current),i.params.transition||m(e))},next:function(e){var t=f[e];t.current+t.params.slidesOnScreen-1<t.last?p.go(e,t.current+1):p.go(e,t.params.loop?0:t.current)},prev:function(e){var t=f[e];0<t.current?p.go(e,t.current-1):p.go(e,t.params.loop?t.last:0)},loadSlides:function(e,t){for(var n=f[e],i=n.params.slidesOnScreen,o=t-i<0?0:t-i,r=t+2*i-1>n.last?n.last:t+2*i-1,s=o;s<=r;s++)n.slides[s]&&!n.slides[s].loaded&&p.loadSlide(e,s)},loadSlide:function(n,i){var o=f[n],r=o.root.find("."+o.params.slide+"."+o.params.modifierPrefix+i),s=r.find("."+o.params.slideImg),e=o.slides[i].caption;a(o.slides[i].url,function(e,t){e?(o.slides[i].loaded=!0,o.slides[i].width=this.width,o.slides[i].height=this.height,p.position(n,i),r.removeClass(o.params._loading),o.params.ie&&o.params.ie<9?s.attr("src",t):s.css("background-image","url("+t+")")):(r.removeClass(o.params._loading),r.addClass(o.params._error),u.error("Image wasn't loaded: "+t))}),e&&s.addClass(o.params._alt).attr("data-alt",e)},loadThumbs:function(n){var i=f[n],o=i.count,e=i.slides,r=0;i.galleryThumbs=[],i.galleryThumbsLoaded=!1;for(var t=0;t<o;t++)a(e[t].thumb,function(e,t){e?++r==o&&(i.galleryThumbsLoaded=!0,p.getThumbsSize(n)):u.error("Image wasn't loaded: "+t)})},getThumbsSize:function(e){var n=f[e];n.thumb.each(function(e){var t=u(this);n.galleryThumbs[e]={},n.galleryThumbs[e].width=t.outerWidth(),n.galleryThumbs[e].height=t.outerHeight(),n.galleryThumbs[e].top=t.position().top+parseInt(t.css("margin-top")),n.galleryThumbs[e].left=t.position().left+parseInt(t.css("margin-left"))}),n.thumbsLayerWidth=n.thumbsLayer.outerWidth(),p.setCurrentThumb(e,n.current,1)},setCurrentThumb:function(e,t,n){var i=f[e];if("thumbs"==i.params.showThumbs){var o,r=i.thumbFrame,s={},a=i.galleryThumbs&&i.galleryThumbs[t],l=i.thumbs.outerWidth(),u=i.thumbsLayer.outerWidth(),c=n?"0s":.8*i.params.duration/1e3+"s";if(i.thumbsDragging=l<u,i.galleryThumbsLoaded){if(s.width=a.width+"px",s.height=a.height+"px",i.params.transform){var d=h[i.params.transform.property];i.params.transform.has3d?s[d]="translate3d("+a.left+"px, "+a.top+"px, 0)":s[d]="translateX("+a.left+"px) translateY("+a.top+"px)"}else s.top=a.top+"px",s.left=a.left+"px";o=function(e){if(0<e||!i.thumbsDragging)return 0;var t=l-u;return e<t?t:e}(.5*(l-a.width)-a.left),i.thumbsIndent=o,r.css("transition-duration",c).css(s),i.thumbsLayer.css("transition-duration",c).css(p.setIndent(e,o,"px"))}}i.thumb.removeClass(i.params._current),i.thumb.filter("."+i.params.modifierPrefix+t).addClass(i.params._current)},position:function(e,t){var n=f[e],i=n.root.find("."+n.params.slide+"."+n.params.modifierPrefix+t),o=n.slides[t],r=n.viewportWidth/n.viewportHeight,s=o.width/o.height;n.viewportWidth>o.width&&n.viewportHeight>o.height?(n.slides[t].algorithm="center",i.removeClass(n.params._auto).addClass(n.params._center)):(n.slides[t].algorithm="auto",i.removeClass(n.params._center).addClass(n.params._auto)),r<=s?(n.slides[t].orientation="landscape",i.removeClass(n.params._portrait).addClass(n.params._landscape)):(n.slides[t].orientation="portrait",i.removeClass(n.params._landscape).addClass(n.params._portrait))},checkButtons:function(e){var t=f[e];0==t.current?t.prev.addClass(t.params._disabled):t.prev.removeClass(t.params._disabled),t.current+t.params.slidesOnScreen-1==t.last?t.next.addClass(t.params._disabled):t.next.removeClass(t.params._disabled)},setIndent:function(e,t,n){var i=f[e],o={};if(n=n||"%",i.params.transform){var r=h[i.params.transform.property];i.params.transform.has3d?o[r]="translate3d("+t+n+", 0, 0)":o[r]="translateX("+t+n+")"}else o.left=t+n;return o},freeze:function(e){var t=f[e];t.freeze=!0,t.root.addClass(t.params._freeze)},unfreeze:function(e){var t=f[e];t.freeze=!1,t.root.removeClass(t.params._freeze)},getHTML:function(e,t){for(var n="",i="",o=0,r=t.length;o<r;o++)n+='<span data-rel="'+o+'" class="'+e.thumb+" "+e.modifierPrefix+o+" "+t[o].classes+'">',"thumbs"==e.showThumbs&&t[o].url&&(n+='<img src="'+t[o].thumb+'" class="'+e.thumbImg+'" data-rel="'+o+'">'),n+="</span>",i+='<div class="'+e.slide+" "+e.modifierPrefix+o+" "+(t[o].html?e._html:e._loading)+'" data-id="'+o+'">',t[o].html?i+=t[o].html:e.ie&&e.ie<9?i+='<img src="" class="'+e.slideImg+" "+t[o].classes+'" />':i+='<div class="'+e.slideImg+" "+t[o].classes+'"></div>',i+="</div>";return"thumbs"==e.showThumbs&&(n+='<div class="'+e.thumbFrame+'"></div>'),{thumbs:n,slides:i}}};u.fn.photor=function(e){return p[e]?p[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void u.error("Unknown method: "+e):p.init.apply(this,arguments)},u.fn.photor.data=f}function o(e,t,n,i,o){i=!!i,e&&(o?e.removeEventListener?e.removeEventListener(t,n,i):u(e).off(t):e.addEventListener?e.addEventListener(t,n,i):u(e).on(t,n))}function g(e,t){return t=" "+t+" ",-1<(" "+e.className+" ").replace(/[\r\n\t\f]+/g," ").indexOf(t)}function m(e){var t=f[e];t.root.removeClass(t.params._animated),t.layer[0].style.transitionDuration=0,r(e,t.current),t.params.onShow&&t.params.onShow.call(t)}function r(e,t){for(var n=f[e],i=0,o=n.count;i<o;i++){var r=n.root.find("."+n.params.slide+"."+n.params.modifierPrefix+i),s=n.params.slidesOnScreen;i>=n.current-s&&i<=n.current+2*s-1||t-s<=i&&i<=t+2*s-1?r.removeClass(n.params._hidden):r.addClass(n.params._hidden)}}function a(e,t){var n=new Image;n.onload=function(){n.onload=null,t.call(this,!0,e)},n.onerror=function(){n.onerror=null,t.call(this,!1,e)},n.src=e}}(jQuery),fotoramaVersion="4.6.4",function(r,vt,_t,yt,s){"use strict";function bt(){}function wt(e,t,n){return Math.max(isNaN(t)?-1/0:t,Math.min(isNaN(n)?1/0:n,e))}function Et(e){var t={};return $n?t.transform="translate3d("+e+"px,0,0)":t.left=e,t}function Ct(e){return{"transition-duration":e+"ms"}}function n(e,t){return isNaN(e)?t:e}function xt(e,t){return n(+String(e).replace(t||"px",""))}function kt(e,t){return n(function(e){return/%$/.test(e)?xt(e,"%"):s}(e)/100*t,xt(e))}function At(e){return(!isNaN(xt(e))||!isNaN(xt(e,"%")))&&e}function St(e,t,n,i){return(e-(i||0))*(t+(n||0))}function a(e,t,n,i){var o,r=e.data();r&&(r.onEndFn=function(){o||(o=!0,clearTimeout(r.tT),n())},r.tProp=t,clearTimeout(r.tT),r.tT=setTimeout(function(){r.onEndFn()},1.5*i),function(e){var t=e.data();if(!t.tEnd){qt(e[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[u.prefixed("transition")],function(e){t.tProp&&e.propertyName.match(t.tProp)&&t.onEndFn()}),t.tEnd=!0}}(e))}function Tt(e,t){if(e.length){var n=e.data();$n?(e.css(Ct(0)),n.onEndFn=bt,clearTimeout(n.tT)):e.stop();var i=Ot(t,function(){return function(e){return $n?+function(e){return e.match(/ma/)&&e.match(/-?\d+(?!d)/g)[e.match(/3d/)?12:4]}(e.css("transform")):+e.css("left").replace("px","")}(e)});return e.css(Et(i)),i}}function Ot(){for(var e,t=0,n=arguments.length;t<n&&"number"!=typeof(e=t?arguments[t]():arguments[t]);t++);return e}function l(e,t){return Math.round(e+(t-e)/1.5)}function Nt(){return Nt.p=Nt.p||("https:"===_t.protocol?"https://":"http://")}function Pt(e,t){if("string"!=typeof e)return e;var n,i;if((e=function(e){var t=vt.createElement("a");return t.href=e,t}(e)).host.match(/youtube\.com/)&&e.search){if(n=e.search.split("v=")[1]){var o=n.indexOf("&");-1!==o&&(n=n.substring(0,o)),i="youtube"}}else e.host.match(/youtube\.com|youtu\.be/)?(n=e.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),i="youtube"):e.host.match(/vimeo\.com/)&&(i="vimeo",n=e.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&i||!t||(n=e.href,i="custom"),!!n&&{id:n,type:i,s:e.search.replace(/^\?/,""),p:Nt()}}function It(e,t,n,i){for(var o=0,r=e.length;o<r;o++){var s=e[o];if(s.i===n&&s.thumbsReady){var a={videoReady:!0};a[Un]=a[Gn]=a[Kn]=!1,i.splice(o,1,yt.extend({},s,a,t));break}}}function Dt(e){function u(e,t,n){var i=n.thumb&&n.img!==n.thumb,o=xt(n.width||e.attr("width")),r=xt(n.height||e.attr("height"));yt.extend(n,{width:o,height:r,thumbratio:zt(n.thumbratio||xt(n.thumbwidth||t&&t.attr("width")||i||o)/xt(n.thumbheight||t&&t.attr("height")||i||r))})}var n=[];return e.children().each(function(){var e=yt(this),t=Ht(yt.extend(e.data(),{id:e.attr("id")}));if(e.is("a, img"))!function(e,t,n){var i=e.children("img").eq(0),o=e.attr("href"),r=e.attr("src"),s=i.attr("src"),a=t.video,l=!!n&&Pt(o,!0===a);l?o=!1:l=a,u(e,i,yt.extend(t,{video:l,img:t.img||o||r||s,thumb:t.thumb||s||r||o}))}(e,t,!0);else{if(e.is(":empty"))return;u(e,null,yt.extend(t,{html:this,_html:e.html()}))}n.push(t)}),n}function Lt(e,t,n,i){return Lt.i||(Lt.i=1,Lt.ii=[!0]),void 0===Lt.ii[i=i||Lt.i]&&(Lt.ii[i]=!0),e()?t():Lt.ii[i]&&setTimeout(function(){Lt.ii[i]&&Lt(e,t,n,i)},n||100),Lt.i++}function Rt(e,t,n,i){var o=e.data(),r=o.measures;if(r&&(!o.l||o.l.W!==r.width||o.l.H!==r.height||o.l.r!==r.ratio||o.l.w!==t.w||o.l.h!==t.h||o.l.m!==n||o.l.p!==i)){var s=r.width,a=r.height,l=t.w/t.h,u=r.ratio>=l,c="scaledown"===n,d="contain"===n,h="cover"===n,f=function(e){return{x:At((e=(e+"").split(/\s+/))[0])||C,y:At(e[1])||C}}(i);u&&(c||d)||!u&&h?a=(s=wt(t.w,0,c?s:1/0))/r.ratio:(u&&h||!u&&(c||d))&&(s=(a=wt(t.h,0,c?a:1/0))*r.ratio),e.css({width:s,height:a,left:kt(f.x,t.w-s),top:kt(f.y,t.h-a)}),o.l={W:r.width,H:r.height,r:r.ratio,w:t.w,h:t.h,m:n,p:i}}return!0}function Mt(e,t,n){return t!==n&&(e<=t?"left":n<=e?"right":"left right")}function jt(e,t,n,i){if(!n)return!1;if(!isNaN(e))return e-(i?0:1);for(var o,r=0,s=t.length;r<s;r++){if(t[r].id===e){o=r;break}}return o}function $t(e,t){return'<div class="'+e+'">'+(t||"")+"</div>"}function Ft(e){for(var t=e.length;t;){var n=Math.floor(Math.random()*t--),i=e[t];e[t]=e[n],e[n]=i}return e}function Bt(e){return"[object Array]"==Object.prototype.toString.call(e)&&yt.map(e,function(e){return yt.extend({},e)})}function Wt(e,t,n){e.scrollLeft(t||0).scrollTop(n||0)}function Ht(e){if(e){var n={};return yt.each(e,function(e,t){n[e.toLowerCase()]=t}),n}}function zt(e){if(e){var t=+e;return isNaN(t)?+(t=e.split("/"))[0]/+t[1]||s:t}}function qt(e,t,n,i){t&&(e.addEventListener?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n))}function Ut(e){return{tabindex:-1*e+"",disabled:e}}function Kt(t,n){qt(t,"keyup",function(e){(function(e){return!!e.getAttribute("disabled")})(t)||13==e.keyCode&&n.call(t,e)})}function Gt(t,n){qt(t,"focus",t.onfocusin=function(e){n.call(t,e)},!0)}function Yt(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&e.stopPropagation&&e.stopPropagation()}function Vt(e){return e?">":"<"}function Qt(e,t){var n=e.data(),i=Math.round(t.pos),o=function(){n.sliding=!1,(t.onEnd||bt)()};void 0!==t.overPos&&t.overPos!==t.pos&&(i=t.overPos,o=function(){Qt(e,yt.extend({},t,{overPos:t.pos,time:Math.max(qn,t.time/2)}))});var r=yt.extend(Et(i),t.width&&{width:t.width});n.sliding=!0,$n?(e.css(yt.extend(Ct(t.time),r)),10<t.time?a(e,"transform",o,t.time):o()):e.stop().animate(r,t.time,E,o)}function v(e){var t=(e.touches||[])[0]||e;e._x=t.pageX,e._y=t.clientY,e._now=yt.now()}function Xt(e,s){function t(e){return o=yt(e.target),m.checked=d=h=p=!1,l||m.flow||e.touches&&1<e.touches.length||1<e.which||_&&_.type!==e.type&&b||(d=s.select&&o.is(s.select,g))?d:(c="touchstart"===e.type,h=o.is("a, a *",g),r=m.control,f=m.noMove||m.noSwipe||r?16:m.snap?0:4,v(e),u=_=e,y=e.type.replace(/down|start/,"move").replace(/Down/,"Move"),(s.onStart||bt).call(g,e,{control:r,$target:o}),l=m.flow=!0,void(c&&!m.go||Yt(e)))}function n(e){if(e.touches&&1<e.touches.length||Hn&&!e.isPrimary||y!==e.type||!l)return l&&a(),void(s.onTouchEnd||bt)();v(e);var t=Math.abs(e._x-u._x),n=Math.abs(e._y-u._y),i=t-n,o=(m.go||m.x||0<=i)&&!m.noSwipe,r=i<0;c&&!m.checked?(l=o)&&Yt(e):(Yt(e),(s.onMove||bt).call(g,e,{touch:c})),!p&&Math.sqrt(Math.pow(t,2)+Math.pow(n,2))>f&&(p=!0),m.checked=m.checked||o||r}function a(e){(s.onTouchEnd||bt)();var t=l;m.control=l=!1,t&&(m.flow=!1),!t||h&&!m.checked||(e&&Yt(e),b=!0,clearTimeout(w),w=setTimeout(function(){b=!1},1e3),(s.onEnd||bt).call(g,{moved:p,$target:o,control:r,touch:c,startEvent:u,aborted:!e||"MSPointerCancel"===e.type}))}function i(){m.flow&&setTimeout(function(){m.flow=!1},zn)}var l,u,o,r,c,d,h,f,p,g=e[0],m={};return Hn?(qt(g,"MSPointerDown",t),qt(vt,"MSPointerMove",n),qt(vt,"MSPointerCancel",a),qt(vt,"MSPointerUp",a)):(qt(g,"touchstart",t),qt(g,"touchmove",n),qt(g,"touchend",a),qt(vt,"touchstart",function(){m.flow||setTimeout(function(){m.flow=!0},10)}),qt(vt,"touchend",i),qt(vt,"touchcancel",i),Mn.on("scroll",i),e.on("mousedown",t),jn.on("mousemove",n).on("mouseup",a)),e.on("click","a",function(e){m.checked&&Yt(e)}),m}function Jt(b,w){function E(e,t){I=!0,n=C=e._x,o=e._now,A=[[o,n]],x=k=L.noMove||t?0:Tt(b,(w.getPos||bt)()),(w.onStart||bt).call(D,e)}var n,C,x,k,i,A,o,S,T,O,N,P,r,I,D=b[0],s=b.data(),L={};return L=yt.extend(Xt(w.$wrap,yt.extend({},w,{onStart:function(e,t){T=L.min,O=L.max,N=L.snap,P=e.altKey,I=r=!1,t.control||s.sliding||E(e)},onMove:function(e,t){L.noSwipe||(I||E(e),C=e._x,A.push([e._now,C]),i=Mt(k=x-(n-C),T,O),k<=T?k=l(k,T):O<=k&&(k=l(k,O)),L.noMove||(b.css(Et(k)),r||(r=!0,t.touch||Hn||b.addClass(R)),(w.onMove||bt).call(D,e,{pos:k,edge:i})))},onEnd:function(e){if(!L.noSwipe||!e.moved){I||E(e.startEvent,!0),e.touch||Hn||b.removeClass(R);for(var t,n,i,o,r,s,a,l,u,c=(S=yt.now())-zn,d=null,h=qn,f=w.friction,p=A.length-1;0<=p;p--){if(t=A[p][0],n=Math.abs(t-c),null===d||n<i)d=t,o=A[p][1];else if(d===c||i<n)break;i=n}a=wt(k,T,O);var g=o-C,m=0<=g,v=S-d,_=zn<v,y=!_&&k!==x&&a===k;N&&(a=wt(Math[y?m?"floor":"ceil":"round"](k/N)*N,T,O),T=O=a),y&&(N||a===k)&&(u=-g/v,h*=wt(Math.abs(u),w.timeLow,w.timeHigh),r=Math.round(k+u*h/f),N||(a=r),(!m&&O<r||m&&r<T)&&(s=m?T:O,N||(a=s),l=wt(a+.03*(l=r-s),s-50,s+50),h=Math.abs((k-l)/(u/f)))),h*=P?10:1,(w.onEnd||bt).call(D,yt.extend(e,{moved:e.moved||_&&N,pos:k,newPos:a,overPos:l,time:h}))}}})),L)}function Zt(e,l){var u,c,d,t=e[0],h={prevent:{}};return qt(t,g,function(e){var t=e.wheelDeltaY||-1*e.deltaY||0,n=e.wheelDeltaX||-1*e.deltaX||0,i=Math.abs(n)&&!Math.abs(t),o=Vt(n<0),r=c===o,s=yt.now(),a=s-d<zn;c=o,d=s,i&&h.ok&&(!h.prevent[o]||u)&&(Yt(e,!0),u&&r&&a||(l.shift&&(u=!0,clearTimeout(h.t),h.t=setTimeout(function(){u=!1},m)),(l.onEnd||bt)(e,l.shift?o:n)))}),h}function en(){yt.each(yt.Fotorama.instances,function(e,t){t.index=e})}var tn="fotorama",nn="fullscreen",on=tn+"__wrap",rn=on+"--video",sn=on+"--no-controls",an=on+"--only-active",ln=tn+"__stage",un=ln+"__frame",cn=tn+"__grab",dn=tn+"__arr",hn=dn+"--disabled",fn=tn+"__nav",pn=fn+"--dots",gn=fn+"--thumbs",mn=fn+"__frame",e=tn+"__fade",vn=e+"-front",_n=e+"-rear",yn="fotorama__shadows",bn=tn+"__active",wn=tn+"__select",En=tn+"--fullscreen",Cn=tn+"__error",xn=tn+"__loading",kn=tn+"__loaded",R=tn+"__grabbing",An=tn+"__img",Sn=tn+"__thumb",t=tn+"__video",Tn=t+"-play",On='" tabindex="0" role="button',i=yt&&yt.fn.jquery.split(".");if(!i||i[0]<1||1==i[0]&&i[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var u=function(e,d,r){function s(e,t){return typeof e===t}function a(e,t){for(var n in e){var i=e[n];if(!~(""+i).indexOf("-")&&c[i]!==r)return"pfx"!=t||i}return!1}function i(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+m.join(i+" ")+i).split(" ");return s(t,"string")||s(t,"undefined")?a(o,t):function(e,t,n){for(var i in e){var o=t[e[i]];if(o!==r)return!1===n?e[i]:s(o,"function")?o.bind(n||t):o}return!1}(o=(e+" "+v.join(i+" ")+i).split(" "),t,n)}var t,o,n,l={},h=d.documentElement,f="modernizr",u=d.createElement(f),c=u.style,p=" -webkit- -moz- -o- -ms- ".split(" "),g="Webkit Moz O ms",m=g.split(" "),v=g.toLowerCase().split(" "),_={},y=[],b=y.slice,w={}.hasOwnProperty;for(var E in o=s(w,"undefined")||s(w.call,"undefined")?function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")}:function(e,t){return w.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(i){var o=this;if("function"!=typeof o)throw new TypeError;var r=b.call(arguments,1),s=function(){if(this instanceof s){var e=function(){};e.prototype=o.prototype;var t=new e,n=o.apply(t,r.concat(b.call(arguments)));return Object(n)===n?n:t}return o.apply(i,r.concat(b.call(arguments)))};return s}),_.csstransforms3d=function(){return!!i("perspective")},_)o(_,E)&&(t=E.toLowerCase(),l[t]=_[E](),y.push((l[t]?"":"no-")+t));return l.addTest=function(e,t){if("object"==typeof e)for(var n in e)o(e,n)&&l.addTest(n,e[n]);else{if(e=e.toLowerCase(),l[e]!==r)return l;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(h.className+=" "+(t?"":"no-")+e),l[e]=t}return l},n="",c.cssText=n,u=null,l._version="2.6.2",l._prefixes=p,l._domPrefixes=v,l._cssomPrefixes=m,l.testProp=function(e){return a([e])},l.testAllProps=i,l.testStyles=function(e,t,n,i){var o,r,s,a,l=d.createElement("div"),u=d.body,c=u||d.createElement("body");if(parseInt(n,10))for(;n--;)(s=d.createElement("div")).id=i?i[n]:f+(n+1),l.appendChild(s);return o=["&#173;",'<style id="s',f,'">',e,"</style>"].join(""),l.id=f,(u?l:c).innerHTML+=o,c.appendChild(l),u||(c.style.background="",c.style.overflow="hidden",a=h.style.overflow,h.style.overflow="hidden",h.appendChild(c)),r=t(l,e),u?l.parentNode.removeChild(l):(c.parentNode.removeChild(c),h.style.overflow=a),!!r},l.prefixed=function(e,t,n){return t?i(e,t,n):i(e,"pfx")},l}(0,vt),Nn={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},o="webkit moz o ms khtml".split(" ");if(void 0!==vt.cancelFullScreen)Nn.ok=!0;else for(var c=0,d=o.length;c<d;c++)if(Nn.prefix=o[c],void 0!==vt[Nn.prefix+"CancelFullScreen"]){Nn.ok=!0;break}Nn.ok&&(Nn.event=Nn.prefix+"fullscreenchange",Nn.is=function(){switch(this.prefix){case"":return vt.fullScreen;case"webkit":return vt.webkitIsFullScreen;default:return vt[this.prefix+"FullScreen"]}},Nn.request=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},Nn.cancel=function(){return""===this.prefix?vt.cancelFullScreen():vt[this.prefix+"CancelFullScreen"]()});var Pn,In={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},Dn={top:"auto",left:"auto",className:""};Pn=function(){function g(e,t){var n,i=vt.createElement(e||"div");for(n in t)i[n]=t[n];return i}function m(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function i(e,t){var n,i,o=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<r.length;i++)if(n=r[i]+t,o[n]!==s)return n;return o[t]!==s?t:void 0}function v(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]===s&&(e[i]=n[i])}return e}function p(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function _(e,t){return"string"==typeof e?e:e[t%e.length]}function n(e){return void 0===this?new n(e):void(this.opts=t(e||{},n.defaults,o))}var y,r=["webkit","Moz","ms","O"],b={},w=function(){var e=g("style",{type:"text/css"});return m(vt.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),o={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};n.defaults={},t(n.prototype,{spin:function(e){this.stop();var t,n,i=this,o=i.opts,r=i.el=v(g(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),s=o.radius+o.length+o.width;if(e&&(e.insertBefore(r,e.firstChild||null),n=p(e),t=p(r),v(r,{left:("auto"==o.left?n.x-t.x+(e.offsetWidth>>1):parseInt(o.left,10)+s)+"px",top:("auto"==o.top?n.y-t.y+(e.offsetHeight>>1):parseInt(o.top,10)+s)+"px"})),r.setAttribute("role","progressbar"),i.lines(r,i.opts),!y){var a,l=0,u=(o.lines-1)*(1-o.direction)/2,c=o.fps,d=c/o.speed,h=(1-o.opacity)/(d*o.trail/100),f=d/o.lines;!function e(){l++;for(var t=0;t<o.lines;t++)a=Math.max(1-(l+(o.lines-t)*f)%d*h,o.opacity),i.opacity(r,t*o.direction+u,a,o);i.timeout=i.el&&setTimeout(e,~~(1e3/c))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=s),this},lines:function(e,n){function t(e,t){return v(g(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*o+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(var i,o=0,r=(n.lines-1)*(1-n.direction)/2;o<n.lines;o++)i=v(g(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:y&&(s=n.opacity,a=n.trail,l=r+o*n.direction,u=n.lines,void 0,void 0,void 0,void 0,void 0,c=["opacity",a,~~(100*s),l,u].join("-"),d=.01+l/u*100,h=Math.max(1-(1-s)/a*(100-d),s),f=y.substring(0,y.indexOf("Animation")).toLowerCase(),p=f&&"-"+f+"-"||"",b[c]||(w.insertRule("@"+p+"keyframes "+c+"{0%{opacity:"+h+"}"+d+"%{opacity:"+s+"}"+(.01+d)+"%{opacity:1}"+(d+a)%100+"%{opacity:"+s+"}100%{opacity:"+h+"}}",w.cssRules.length),b[c]=1),c+" "+1/n.speed+"s linear infinite")}),n.shadow&&m(i,v(t("#000","0 0 4px #000"),{top:"2px"})),m(e,m(i,t(_(n.color,o),"0 0 1px rgba(0,0,0,.1)")));var s,a,l,u,c,d,h,f,p;return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var e=v(g("group"),{behavior:"url(#default#VML)"});return!i(e,"transform")&&e.adj?function(){function u(e,t){return g("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}w.addRule(".spin-vml","behavior:url(#default#VML)"),n.prototype.lines=function(e,i){function o(){return v(u("group",{coordsize:s+" "+s,coordorigin:-r+" "+-r}),{width:s,height:s})}function t(e,t,n){m(l,m(v(o(),{rotation:360/i.lines*e+"deg",left:~~t}),m(v(u("roundrect",{arcsize:i.corners}),{width:r,height:i.width,left:i.radius,top:-i.width>>1,filter:n}),u("fill",{color:_(i.color,e),opacity:i.opacity}),u("stroke",{opacity:0}))))}var n,r=i.length+i.width,s=2*r,a=2*-(i.width+i.length)+"px",l=v(o(),{position:"absolute",top:a,left:a});if(i.shadow)for(n=1;n<=i.lines;n++)t(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(n=1;n<=i.lines;n++)t(n);return m(e,l)},n.prototype.opacity=function(e,t,n,i){var o=e.firstChild;i=i.shadow&&i.lines||0,o&&t+i<o.childNodes.length&&((o=(o=(o=o.childNodes[t+i])&&o.firstChild)&&o.firstChild)&&(o.opacity=n))}}():y=i(e,"animation"),n}();var Ln,Rn,_,y,b,w,Mn=yt(r),jn=yt(vt),h="quirks"===_t.hash.replace("#",""),f=u.csstransforms3d,$n=f&&!h,Fn=f||"CSS1Compat"===vt.compatMode,Bn=Nn.ok,p=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Wn=!$n||p,Hn=navigator.msPointerEnabled,g="onwheel"in vt.createElement("div")?"wheel":vt.onmousewheel!==s?"mousewheel":"DOMMouseScroll",zn=250,qn=300,m=1400,Un="$stageFrame",Kn="$navDotFrame",Gn="$navThumbFrame",E=function(r){var e="bez_"+yt.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof yt.easing[e]){var s=function(n,i){function r(e,t){return l[t]=3*n[t],a[t]=3*(i[t]-n[t])-l[t],s[t]=1-l[t]-a[t],e*(l[t]+e*(a[t]+e*s[t]))}var s=[null,null],a=[null,null],l=[null,null];return function(e){return r(function(e){for(var t,n=e,i=0;++i<14&&(t=r(n,0)-e,!(Math.abs(t)<.001));)n-=t/(o=n,l[0]+o*(2*a[0]+3*s[0]*o));var o;return n}(e),1)}};yt.easing[e]=function(e,t,n,i,o){return i*s([r[0],r[1]],[r[2],r[3]])(t/o)+n}}return e}([.1,0,.25,1]),C="50%",x={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,fit:"contain",position:C,thumbposition:C,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:64,thumbheight:64,thumbmargin:2,thumbborderwidth:2,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:qn,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},Yn={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};Lt.stop=function(e){Lt.ii[e]=!1},jQuery.Fotorama=function(n,w){function t(){yt.each(X,function(e,t){if(!t.i){t.i=Fe++;var n=Pt(t.video,!0);if(n){var i={};t.video=n,t.img||t.thumb?t.thumbsReady=!0:i=function(t,n,i){var e,o,r=t.video;return"youtube"===r.type?(e=(o=Nt()+"img.youtube.com/vi/"+r.id+"/default.jpg").replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?yt.ajax({url:Nt()+"vimeo.com/api/v2/video/"+r.id+".json",dataType:"jsonp",success:function(e){t.thumbsReady=!0,It(n,{img:e[0].thumbnail_large,thumb:e[0].thumbnail_small},t.i,i)}}):t.thumbsReady=!0,{img:e,thumb:o}}(t,X,Re),It(X,{img:i.img,thumb:i.thumb},t.i,Re)}}})}function r(e){return xe[e]||Re.fullScreen}function i(e){e!==i.f&&(e?(n.html("").addClass(tn+" "+je).append(ze).before(We).before(He),function(e){yt.Fotorama.instances.push(e),en()}(Re)):(ze.detach(),We.detach(),He.detach(),n.html(Be.urtext).removeClass(je),function(e){yt.Fotorama.instances.splice(e.index,1),en()}(Re)),function(e){var t="keydown."+tn,n=tn+Me,i="keydown."+n,o="resize."+n+" orientationchange."+n;e?(jn.on(i,function(e){var t,n;te&&27===e.keyCode?W(te,t=!0,!0):(Re.fullScreen||w.keyboard&&!Re.index)&&(27===e.keyCode?(t=!0,Re.cancelFullScreen()):e.shiftKey&&32===e.keyCode&&r("space")||37===e.keyCode&&r("left")||38===e.keyCode&&r("up")?n="<":32===e.keyCode&&r("space")||39===e.keyCode&&r("right")||40===e.keyCode&&r("down")?n=">":36===e.keyCode&&r("home")?n="<<":35===e.keyCode&&r("end")&&(n=">>")),(t||n)&&Yt(e),n&&Re.show({index:n,slow:e.altKey,user:!0})}),Re.index||jn.off(t).on(t,"textarea, input, select",function(e){Rn.hasClass(nn)||e.stopPropagation()}),Mn.on(o,Re.resize)):(jn.off(i),Mn.off(o))}(e),i.f=e)}function o(){var e=J<2&&!w.enableifsingleframe||te;ut.noMove=e||ve,ut.noSwipe=e||!w.swipe,we||Ue.toggleClass(cn,!w.click&&!ut.noMove&&!ut.noSwipe),Hn&&ze.toggleClass("fotorama__wrap--pan-y",!ut.noSwipe)}function s(e){!0===e&&(e=""),w.autoplay=Math.max(+e||5e3,1.5*be)}function E(e){return e<0?(J+e%J)%J:J<=e?e%J:e}function u(e){return wt(e,0,J-1)}function c(e){return de?E(e):u(e)}function d(e){return!!(0<e||de)&&e-1}function h(e){return!!(e<J-1||de)&&e+1}function l(e,r,s){if("number"==typeof e){e=new Array(e);var a=!0}return yt.each(e,function(e,t){if(a&&(t=e),"number"==typeof t){var n=X[E(t)];if(n){var i="$"+r+"Frame",o=n[i];s.call(this,e,t,n,o,i,o&&o.data())}}})}function C(e,t,n,i){ke&&("*"!==ke||i!==ce)||(e=At(w.width)||At(e)||500,t=At(w.height)||At(t)||333,Re.resize({width:e,ratio:w.ratio||n||e/t},0,i!==ce&&"*"))}function x(e,m,v,_,y,b){l(e,m,function(e,n,t,i,o,r){function s(e){var t=E(n);R(e,{index:t,src:p,frame:X[t]})}function a(){d.remove(),yt.Fotorama.cache[p]="error",t.html&&"stage"===m||!g||g===p?(!p||t.html||u?"stage"===m&&(i.trigger("f:load").removeClass(xn+" "+Cn).addClass(kn),s("load"),C()):(i.trigger("f:error").removeClass(xn).addClass(Cn),s("error")),r.state="error",!(1<J&&X[n]===t)||t.html||t.deleted||t.video||u||(t.deleted=!0,Re.splice(n,1))):(t[f]=p=g,x([n],m,v,_,y,!0))}function l(){var e=10;Lt(function(){return!Ie||!e--&&!Wn},function(){yt.Fotorama.measures[p]=h.measures=yt.Fotorama.measures[p]||{width:c.width,height:c.height,ratio:c.width/c.height},C(h.measures.width,h.measures.height,h.measures.ratio,n),d.off("load error").addClass(An+(u?" fotorama__img--full":"")).prependTo(i),Rt(d,(yt.isFunction(v)?v():v)||lt,_||t.fit||w.fit,y||t.position||w.position),yt.Fotorama.cache[p]=r.state="loaded",setTimeout(function(){i.trigger("f:load").removeClass(xn+" "+Cn).addClass(kn+" "+(u?"fotorama__loaded--full":"fotorama__loaded--img")),"stage"===m?s("load"):"auto"!==t.thumbratio&&(t.thumbratio||"auto"!==w.thumbratio)||(t.thumbratio=h.measures.ratio,V())},0)})}if(i){var u=Re.fullScreen&&t.full&&t.full!==t.img&&!r.$full&&"stage"===m;if(!r.$img||b||u){var c=new Image,d=yt(c),h=d.data();r[u?"$full":"$img"]=d;var f="stage"===m?u?"full":"img":"thumb",p=t[f],g=u?null:t["stage"===m?"thumb":"img"];if("navThumb"===m&&(i=r.$wrap),!p)return void a();yt.Fotorama.cache[p]?function e(){"error"===yt.Fotorama.cache[p]?a():"loaded"===yt.Fotorama.cache[p]?setTimeout(l,0):setTimeout(e,100)}():(yt.Fotorama.cache[p]="*",d.on("load",l).on("error",a)),r.state="",c.src=p}}})}function a(){st.detach(),ee&&ee.stop()}function f(){var e=ne[Un];e&&!e.data().state&&(function(e){st.append(ee.spin().el).appendTo(e)}(e),e.on("f:load f:error",function(){e.off("f:load f:error"),a()}))}function p(e){Kt(e,K),Gt(e,function(){setTimeout(function(){Wt(Xe)},0),N({time:be,guessIndex:yt(this).data().eq,minMax:dt})})}function g(e,a){l(e,a,function(e,t,n,i,o,r){if(!i){i=n[o]=ze[o].clone(),(r=i.data()).data=n;var s=i[0];"stage"===a?(n.html&&yt('<div class="fotorama__html"></div>').append(n._html?yt(n.html).removeAttr("id").html(n._html):n.html).appendTo(i),n.caption&&yt($t("fotorama__caption",$t("fotorama__caption__wrap",n.caption))).appendTo(i),n.video&&i.addClass("fotorama__stage__frame--video").append(ot.clone()),Gt(s,function(){setTimeout(function(){Wt(qe)},0),q({index:r.eq,user:!0})}),Ke=Ke.add(i)):"navDot"===a?(p(s),Ze=Ze.add(i)):"navThumb"===a&&(p(s),r.$wrap=i.children(":first"),et=et.add(i),n.video&&r.$wrap.append(ot.clone()))}})}function m(e,t,n,i){return e&&e.length&&Rt(e,t,n,i)}function v(e){l(e,"stage",function(e,t,n,i,o,r){if(i){var s=E(t),a=n.fit||w.fit,l=n.position||w.position;r.eq=s,pt[Un][s]=i.css(yt.extend({left:ve?0:St(t,lt.w,w.margin,oe)},ve&&Ct(0))),function(e){return!yt.contains(vt.documentElement,e)}(i[0])&&(i.appendTo(Ue),W(n.$video)),m(r.$img,lt,a,l),m(r.$full,lt,a,l)}})}function _(e,a){if("thumbs"===he&&!isNaN(e)){var l=-e,u=-e+lt.nw;et.each(function(){function e(){return{h:ye,w:t.w}}var t=yt(this).data(),n=t.eq,i=e(),o=X[n]||{},r=o.thumbfit||w.thumbfit,s=o.thumbposition||w.thumbposition;i.w=t.w,t.l+t.w<l||t.l>u||m(t.$img,i,r,s)||a&&x([n],"navThumb",e,r,s)})}}function y(e,t,n){if(!y[n]){var i="nav"===n&&fe,o=0;t.append(e.filter(function(){for(var e,t=yt(this),n=t.data(),i=0,o=X.length;i<o;i++)if(n.data===X[i]){e=!0,n.eq=i;break}return e||t.remove()&&!1}).sort(function(e,t){return yt(e).data().eq-yt(t).data().eq}).each(function(){if(i){var e=yt(this),t=e.data(),n=Math.round(ye*t.data.thumbratio)||_e;t.l=o,t.w=n,e.css({width:n}),o+=n+w.thumbmargin}})),y[n]=!0}}function b(e){return e-gt>lt.w/3}function k(e){return!(de||at+e&&at-J+e||te)}function A(){var e=k(0),t=k(1);Ge.toggleClass(hn,e).attr(Ut(e)),Ye.toggleClass(hn,t).attr(Ut(t))}function S(){ct.ok&&(ct.prevent={"<":k(0),">":k(1)})}function T(e){var t,n,i=e.data();return n=fe?(t=i.l,i.w):(t=e.position().left,e.width()),{c:t+n/2,min:-t+10*w.thumbmargin,max:-t+lt.w-n-10*w.thumbmargin}}function O(e){var t=ne[Le].data();Qt(tt,{time:1.2*e,pos:t.l,width:t.w-2*w.thumbborderwidth})}function N(e){var t=X[e.guessIndex][Le];if(t){var n=dt.min!==dt.max,i=e.minMax||n&&T(ne[Le]),o=n&&(e.keep&&N.l?N.l:wt((e.coo||lt.nw/2)-T(t).c,i.min,i.max)),r=n&&wt(o,dt.min,dt.max),s=1.1*e.time;Qt(Je,{time:s,pos:r||0,onEnd:function(){_(r,!0)}}),B(Xe,Mt(r,dt.min,dt.max)),N.l=o}}function P(e){for(var t=ft[e];t.length;)t.shift().removeClass(bn)}function I(e){var n=pt[e];yt.each(ie,function(e,t){delete n[E(t)]}),yt.each(n,function(e,t){delete n[e],t.detach()})}function D(e){oe=re=at;var t=ne[Un];t&&(P(Un),ft[Un].push(t.addClass(bn)),e||Re.show.onEnd(!0),Tt(Ue,0),I(Un),v(ie),ut.min=de?-1/0:-St(J-1,lt.w,w.margin,oe),ut.max=de?1/0:-St(0,lt.w,w.margin,oe),ut.snap=lt.w+w.margin,dt.min=Math.min(0,lt.nw-Je.width()),dt.max=0,Je.toggleClass(cn,!(dt.noMove=dt.min===dt.max)))}function L(n,e){n&&yt.each(e,function(e,t){t&&yt.extend(t,{width:n.width||t.width,height:n.height,minwidth:n.minwidth,maxwidth:n.maxwidth,minheight:n.minheight,maxheight:n.maxheight,ratio:zt(n.ratio)})})}function R(e,t){n.trigger(tn+":"+e,[Re,t])}function M(){clearTimeout(j.t),Ie=1,w.stopautoplayontouch?Re.stopAutoplay():Oe=!0}function j(){Ie&&(w.stopautoplayontouch||($(),F()),j.t=setTimeout(function(){Ie=0},qn+zn))}function $(){Oe=!(!te&&!Ne)}function F(){if(clearTimeout(F.t),Lt.stop(F.w),w.autoplay&&!Oe){Re.autoplay||(Re.autoplay=!0,R("startautoplay"));var n=at,e=ne[Un].data();F.w=Lt(function(){return e.state||n!==at},function(){F.t=setTimeout(function(){if(!Oe&&n===at){var e=ue,t=X[e][Un].data();F.w=Lt(function(){return t.state||e!==ue},function(){Oe||e!==ue||Re.show(de?Vt(!Ce):ue)})}},w.autoplay)})}else Re.autoplay&&(Re.autoplay=!1,R("stopautoplay"))}function e(){Re.fullScreen&&(Re.fullScreen=!1,Bn&&Nn.cancel($e),Rn.removeClass(nn),Ln.removeClass(nn),n.removeClass(En).insertAfter(He),lt=yt.extend({},Pe),W(te,!0,!0),U("x",!1),Re.resize(),x(ie,"stage"),Wt(Mn,Se,Ae),R("fullscreenexit"))}function B(e,t){Ee&&(e.removeClass("fotorama__shadows--left fotorama__shadows--right"),t&&!te&&e.addClass(t.replace(/^|\s/g," "+yn+"--")))}function W(e,t,n){t&&(ze.removeClass(rn),te=!1,o()),e&&e!==te&&(e.remove(),R("unloadvideo")),n&&($(),F())}function H(e){ze.toggleClass(sn,e)}function z(e){if(!ut.flow){var t=e?e.pageX:z.x,n=t&&!k(b(t))&&w.click;z.p!==n&&qe.toggleClass("fotorama__pointer",n)&&(z.p=n,z.x=t)}}function q(t){clearTimeout(q.t),w.clicktransition&&w.clicktransition!==w.transition?setTimeout(function(){var e=w.transition;Re.setOptions({transition:w.clicktransition}),we=e,q.t=setTimeout(function(){Re.show(t)},10)},0):Re.show(t)}function U(e,t){ut[e]=dt[e]=t}function K(e){q({index:yt(this).data().eq,slow:e.altKey,user:!0,coo:e._x-Xe.offset().left})}function G(e){q({index:Ve.index(this)?">":"<",slow:e.altKey,user:!0})}function Y(e){Gt(e,function(){setTimeout(function(){Wt(qe)},0),H(!1)})}function V(){if(X=Re.data=X||Bt(w.data)||Dt(n),J=Re.size=X.length,!Q.ok&&w.shuffle&&Ft(X),t(),at=u(at),J&&i(!0),function(){function e(e,t){n[e?"add":"remove"].push(t)}Re.options=w=Ht(w),ve="crossfade"===w.transition||"dissolve"===w.transition,de=w.loop&&(2<J||ve&&(!we||"slide"!==we)),be=+w.transitionduration||qn,Ce="rtl"===w.direction,xe=yt.extend({},w.keyboard&&Yn,w.keyboard);var n={add:[],remove:[]};1<J||w.enableifsingleframe?(he=w.nav,pe="top"===w.navposition,n.remove.push(wn),Ve.toggle(!!w.arrows)):(he=!1,Ve.hide()),a(),ee=new Pn(yt.extend(In,w.spinner,Dn,{direction:Ce?-1:1})),A(),S(),w.autoplay&&s(w.autoplay),_e=xt(w.thumbwidth)||64,ye=xt(w.thumbheight)||64,ct.ok=ht.ok=w.trackpad&&!Wn,o(),L(w,[lt]),(fe="thumbs"===he)?(g(J,"navThumb"),Z=et,Le=Gn,function(e,t){var n=e[0];n.styleSheet?n.styleSheet.cssText=t:e.html(t)}(We,yt.Fotorama.jst.style({w:_e,h:ye,b:w.thumbborderwidth,m:w.thumbmargin,s:Me,q:!Fn})),Xe.addClass(gn).removeClass(pn)):"dots"===he?(g(J,"navDot"),Z=Ze,Le=Kn,Xe.addClass(pn).removeClass(gn)):(he=!1,Xe.removeClass(gn+" "+pn)),he&&(pe?Qe.insertBefore(qe):Qe.insertAfter(qe),y.nav=!1,y(Z,Je,"nav")),ge=w.allowfullscreen,me=ge?(nt.prependTo(qe),Bn&&"native"===ge):(nt.detach(),!1),e(ve,"fotorama__wrap--fade"),e(!ve,"fotorama__wrap--slide"),e(!w.captions,"fotorama__wrap--no-captions"),e(Ce,"fotorama__wrap--rtl"),e("always"!==w.arrows,"fotorama__wrap--toggle-arrows"),e(!(Ee=w.shadows&&!Wn),"fotorama__wrap--no-shadows"),ze.addClass(n.add.join(" ")).removeClass(n.remove.join(" ")),yt.extend({},w)}(),!V.i){V.i=!0;var e=w.startindex;(e||w.hash&&_t.hash)&&(ce=jt(e||_t.hash.replace(/^#/,""),X,0===Re.index||e,e)),at=oe=re=se=ce=c(ce)||0}if(J){if(function e(){return!e.f===Ce?(e.f=Ce,at=J-1-at,Re.reverse(),!0):void 0}())return;te&&W(te,!0),ie=[],I(Un),V.ok=!0,Re.show({index:at,time:0}),Re.resize()}else Re.destroy()}function Q(){Q.ok||(Q.ok=!0,R("ready"))}Ln=yt("html"),Rn=yt("body");var X,J,Z,ee,te,ne,ie,oe,re,se,ae,le,ue,ce,de,he,fe,pe,ge,me,ve,_e,ye,be,we,Ee,Ce,xe,ke,Ae,Se,Te,Oe,Ne,Pe,Ie,De,Le,Re=this,Me=yt.now(),je=tn+Me,$e=n[0],Fe=1,Be=n.data(),We=yt("<style></style>"),He=yt($t("fotorama--hidden")),ze=yt($t(on)),qe=yt($t(ln)).appendTo(ze),Ue=(qe[0],yt($t("fotorama__stage__shaft")).appendTo(qe)),Ke=yt(),Ge=yt($t(dn+" fotorama__arr--prev"+On)),Ye=yt($t(dn+" fotorama__arr--next"+On)),Ve=Ge.add(Ye).appendTo(qe),Qe=yt($t("fotorama__nav-wrap")),Xe=yt($t(fn)).appendTo(Qe),Je=yt($t("fotorama__nav__shaft")).appendTo(Xe),Ze=yt(),et=yt(),tt=(Ue.data(),Je.data(),yt($t("fotorama__thumb-border")).appendTo(Je)),nt=yt($t("fotorama__fullscreen-icon"+On)),it=nt[0],ot=yt($t(Tn)),rt=yt($t("fotorama__video-close")).appendTo(qe)[0],st=yt($t("fotorama__spinner")),at=!1,lt={},ut={},ct={},dt={},ht={},ft={},pt={},gt=0,mt=[];ze[Un]=yt($t(un)),ze[Gn]=yt($t(mn+" fotorama__nav__frame--thumb"+On,$t(Sn))),ze[Kn]=yt($t(mn+" fotorama__nav__frame--dot"+On,$t("fotorama__dot"))),ft[Un]=[],ft[Gn]=[],ft[Kn]=[],pt[Un]={},ze.addClass($n?"fotorama__wrap--css3":"fotorama__wrap--css2").toggleClass(sn,!w.controlsonstart),Be.fotorama=this,Re.startAutoplay=function(e){return Re.autoplay||(Oe=Ne=!1,s(e||w.autoplay),F()),this},Re.stopAutoplay=function(){return Re.autoplay&&(Oe=Ne=!0,F()),this},Re.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?re+1:"<"===e?re-1:"<<"===e?0:">>"===e?J-1:e,e=void 0===(e=isNaN(e)?jt(e,X,!0):e)?at||0:e,Re.activeIndex=at=c(e),ae=d(at),le=h(at),ue=E(at+(Ce?-1:1)),ie=[at,ae,le],re=de?e:at;var n=Math.abs(se-re),i=Ot(t.time,function(){return Math.min(be*(1+(n-1)/12),2*be)}),o=t.overPos;t.slow&&(i*=10);var r=ne;Re.activeFrame=ne=X[at];var s=r===ne&&!t.user;W(te,ne.i!==X[E(oe)].i),g(ie,"stage"),v(Wn?[re]:[re,d(re),h(re)]),U("go",!0),s||R("show",{user:t.user,time:i}),Oe=!0;var a=Re.show.onEnd=function(e){if(!a.ok){if(a.ok=!0,e||D(!0),s||R("showend",{user:t.user}),!e&&we&&we!==w.transition)return Re.setOptions({transition:we}),void(we=!1);f(),x(ie,"stage"),U("go",!1),S(),z(),$(),F()}};ve?function t(e,n,i,o,r,s){var a=void 0!==s;if(a||(r.push(arguments),Array.prototype.push.call(arguments,r.length),!(1<r.length))){e=e||yt(e),n=n||yt(n);var l=e[0],u=n[0],c="crossfade"===o.method,d=function(){if(!d.done){d.done=!0;var e=(a||r.shift())&&r.shift();e&&t.apply(this,e),(o.onEnd||bt)(!!e)}},h=o.time/(s||1);i.removeClass(_n+" "+vn),e.stop().addClass(_n),n.stop().addClass(vn),c&&u&&e.fadeTo(0,0),e.fadeTo(c?h:0,1,c&&d),n.fadeTo(h,0,d),l&&c||u||d()}}(ne[Un],at!==se?X[se][Un]:null,Ke,{time:i,method:w.transition,onEnd:a},mt):Qt(Ue,{pos:-St(re,lt.w,w.margin,oe),overPos:o,time:i,onEnd:a});if(A(),he){P(Le),ft[Le].push(ne[Le].addClass(bn));var l=u(at+wt(re-se,-1,1));N({time:i,coo:l!==at&&t.coo,guessIndex:void 0!==t.coo?l:at,keep:s}),fe&&O(i)}return Te=void 0!==se&&se!==at,se=at,w.hash&&Te&&!Re.eq&&function(e){_t.replace(_t.protocol+"//"+_t.host+_t.pathname.replace(/^\/?/,"/")+_t.search+"#"+e)}(ne.id||at+1),this},Re.requestFullScreen=function(){return ge&&!Re.fullScreen&&(Ae=Mn.scrollTop(),Se=Mn.scrollLeft(),Wt(Mn),U("x",!0),Pe=yt.extend({},lt),n.addClass(En).appendTo(Rn.addClass(nn)),Ln.addClass(nn),W(te,!0,!0),Re.fullScreen=!0,me&&Nn.request($e),Re.resize(),x(ie,"stage"),f(),R("fullscreenenter")),this},Re.cancelFullScreen=function(){return me&&Nn.is()?Nn.cancel(vt):e(),this},Re.toggleFullScreen=function(){return Re[(Re.fullScreen?"cancel":"request")+"FullScreen"]()},qt(vt,Nn.event,function(){!X||Nn.is()||te||e()}),Re.resize=function(e){if(!X)return this;var t=arguments[1]||0,n=arguments[2];L(Re.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:Ht(e),[lt,n||Re.fullScreen||w]);var i=lt.width,o=lt.height,r=lt.ratio,s=Mn.height()-(he?Xe.height():0);return At(i)&&(ze.addClass(an).css({width:i,minWidth:lt.minwidth||0,maxWidth:lt.maxwidth||99999}),i=lt.W=lt.w=ze.width(),lt.nw=he&&kt(w.navwidth,i)||i,w.glimpse&&(lt.w-=Math.round(2*(kt(w.glimpse,i)||0))),Ue.css({width:lt.w,marginLeft:(lt.W-lt.w)/2}),(o=(o=kt(o,s))||r&&i/r)&&(i=Math.round(i),o=lt.h=Math.round(wt(o,kt(lt.minheight,s),kt(lt.maxheight,s))),qe.stop().animate({width:i,height:o},t,function(){ze.removeClass(an)}),D(),he&&(Xe.stop().animate({width:lt.nw},t),N({guessIndex:at,time:t,keep:!0}),fe&&y.nav&&O(t)),ke=n||!0,Q())),gt=qe.offset().left,this},Re.setOptions=function(e){return yt.extend(w,e),V(),this},Re.shuffle=function(){return X&&Ft(X)&&V(),this},Re.destroy=function(){return Re.cancelFullScreen(),Re.stopAutoplay(),X=Re.data=null,i(),ie=[],I(Un),V.ok=!1,this},Re.playVideo=function(){var e=ne,t=e.video,n=at;return"object"==typeof t&&e.videoReady&&(me&&Re.fullScreen&&Re.cancelFullScreen(),Lt(function(){return!Nn.is()||n!==at},function(){n===at&&(e.$video=e.$video||yt(yt.Fotorama.jst.video(t)),e.$video.appendTo(e[Un]),ze.addClass(rn),te=e.$video,o(),Ve.blur(),nt.blur(),R("loadvideo"))})),this},Re.stopVideo=function(){return W(te,!0,!0),this},qe.on("mousemove",z),ut=Jt(Ue,{onStart:M,onMove:function(e,t){B(qe,t.edge)},onTouchEnd:j,onEnd:function(e){B(qe);var t=(Hn&&!De||e.touch)&&w.arrows&&"always"!==w.arrows;if(e.moved||t&&e.pos!==e.newPos&&!e.control){var n=function(e,t,n,i){return-Math.round(e/(t+(n||0))-(i||0))}(e.newPos,lt.w,w.margin,oe);Re.show({index:n,time:ve?be:e.time,overPos:e.overPos,user:!0})}else e.aborted||e.control||function(e,t){var n=e.target;yt(n).hasClass(Tn)?Re.playVideo():n===it?Re.toggleFullScreen():te?n===rt&&W(te,!0,!0):t?H():w.click&&q({index:e.shiftKey||Vt(b(e._x)),slow:e.altKey,user:!0})}(e.startEvent,t)},timeLow:1,timeHigh:1,friction:2,select:"."+wn+", ."+wn+" *",$wrap:qe}),dt=Jt(Je,{onStart:M,onMove:function(e,t){B(Xe,t.edge)},onTouchEnd:j,onEnd:function(e){function t(){N.l=e.newPos,$(),F(),_(e.newPos,!0)}if(e.moved)e.pos!==e.newPos?(Oe=!0,Qt(Je,{time:e.time,pos:e.newPos,overPos:e.overPos,onEnd:t}),_(e.newPos),Ee&&B(Xe,Mt(e.newPos,dt.min,dt.max))):t();else{var n=e.$target.closest("."+mn,Je)[0];n&&K.call(n,e.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:Xe}),ct=Zt(qe,{shift:!0,onEnd:function(e,t){M(),j(),Re.show({index:t,slow:e.altKey})}}),ht=Zt(Xe,{onEnd:function(e,t){M(),j();var n=Tt(Je)+.25*t;Je.css(Et(wt(n,dt.min,dt.max))),Ee&&B(Xe,Mt(n,dt.min,dt.max)),ht.prevent={"<":n>=dt.max,">":n<=dt.min},clearTimeout(ht.t),ht.t=setTimeout(function(){_(N.l=n,!0)},zn),_(n)}}),ze.hover(function(){setTimeout(function(){Ie||H(!(De=!0))},0)},function(){De&&H(!(De=!1))}),function(e,i,o){o=o||{},e.each(function(){var t,e=yt(this),n=e.data();n.clickOn||(n.clickOn=!0,yt.extend(Xt(e,{onStart:function(e){t=e,(o.onStart||bt).call(this,e)},onMove:o.onMove||bt,onTouchEnd:o.onTouchEnd||bt,onEnd:function(e){e.moved||i.call(this,t)}}),{noMove:!0}))})}(Ve,function(e){Yt(e),G.call(this,e)},{onStart:function(){M(),ut.control=!0},onTouchEnd:j}),Ve.each(function(){Kt(this,function(e){G.call(this,e)}),Y(this)}),Kt(it,Re.toggleFullScreen),Y(it),yt.each("load push pop shift unshift reverse sort splice".split(" "),function(e,t){Re[t]=function(){return X=X||[],"load"!==t?Array.prototype[t].apply(X,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(X=Bt(arguments[0])),V(),Re}}),V()},yt.fn.fotorama=function(o){return this.each(function(){var e=this,t=yt(this),n=t.data(),i=n.fotorama;i?i.setOptions(o,!0):Lt(function(){return!function(e){return 0===e.offsetWidth&&0===e.offsetHeight}(e)},function(){n.urtext=t.html(),new yt.Fotorama(t,yt.extend({},x,r.fotoramaDefaults,o,n))})})},yt.Fotorama.instances=[],yt.Fotorama.cache={},yt.Fotorama.measures={},(yt=yt||{}).Fotorama=yt.Fotorama||{},yt.Fotorama.jst=yt.Fotorama.jst||{},yt.Fotorama.jst.style=function(e){var t;return""+".fotorama"+(null==(t=e.s)?"":t)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(t=e.m)?"":t)+"px;\nheight:"+(null==(t=e.h)?"":t)+"px}\n.fotorama"+(null==(t=e.s)?"":t)+" .fotorama__thumb-border{\nheight:"+(null==(t=e.h-e.b*(e.q?0:2))?"":t)+"px;\nborder-width:"+(null==(t=e.b)?"":t)+"px;\nmargin-top:"+(null==(t=e.m)?"":t)+"px}"},yt.Fotorama.jst.video=function(e){var t="",n=Array.prototype.join;return t+='<div class="fotorama__video"><iframe src="',function(){t+=n.call(arguments,"")}(("youtube"==e.type?e.p+"youtube.com/embed/"+e.id+"?autoplay=1":"vimeo"==e.type?e.p+"player.vimeo.com/video/"+e.id+"?autoplay=1&badge=0":e.id)+(e.s&&"custom"!=e.type?"&"+e.s:"")),t+='" frameborder="0" allowfullscreen></iframe></div>\n'},yt(function(){yt("."+tn+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){function e(e,t){this.items=e,this.settings=t||{diacritics:!0}}e.prototype.tokenize=function(e){if(!(e=a(String(e||"").toLowerCase()))||!e.length)return[];var t,n,i,o,r=[],s=e.split(/ +/);for(t=0,n=s.length;t<n;t++){if(i=l(s[t]),this.settings.diacritics)for(o in u)u.hasOwnProperty(o)&&(i=i.replace(new RegExp(o,"g"),u[o]));r.push({string:s[t],regex:new RegExp(i,"i")})}return r},e.prototype.iterator=function(e,t){(s(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var o,r,s;e=this.prepareSearch(e,t),r=e.tokens,o=e.options.fields,s=r.length;function a(e,t){var n,i;return e?-1===(i=(e=String(e||"")).search(t.regex))?0:(n=t.string.length/e.length,0===i&&(n+=.5),n):0}var l,u=(l=o.length)?1===l?function(e,t){return a(t[o[0]],e)}:function(e,t){for(var n=0,i=0;n<l;n++)i+=a(t[o[n]],e);return i/l}:function(){return 0};return s?1===s?function(e){return u(r[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;n<s;n++){if((t=u(r[n],e))<=0)return 0;i+=t}return i/s}:function(e){for(var t=0,n=0;t<s;t++)n+=u(r[t],e);return n/s}:function(){return 0}},e.prototype.getSortFunction=function(e,t){var n,i,o,r,s,a,l,u,c,d,h;if(h=!(e=(o=this).prepareSearch(e,t)).query&&t.sort_empty||t.sort,c=function(e,t){return"$score"===e?t.score:o.items[t.id][e]},s=[],h)for(n=0,i=h.length;n<i;n++)!e.query&&"$score"===h[n].field||s.push(h[n]);if(e.query){for(d=!0,n=0,i=s.length;n<i;n++)if("$score"===s[n].field){d=!1;break}d&&s.unshift({field:"$score",direction:"desc"})}else for(n=0,i=s.length;n<i;n++)if("$score"===s[n].field){s.splice(n,1);break}for(u=[],n=0,i=s.length;n<i;n++)u.push("desc"===s[n].direction?-1:1);return(a=s.length)?1===a?(r=s[0].field,l=u[0],function(e,t){return l*f(c(r,e),c(r,t))}):function(e,t){var n,i,o;for(n=0;n<a;n++)if(o=s[n].field,i=u[n]*f(c(o,e),c(o,t)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var n=(t=r({},t)).fields,i=t.sort,o=t.sort_empty;return n&&!s(n)&&(t.fields=[n]),i&&!s(i)&&(t.sort=[i]),o&&!s(o)&&(t.sort_empty=[o]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,n){var i,o,t,r;return o=this.prepareSearch(e,n),n=o.options,e=o.query,r=n.score||this.getScoreFunction(o),e.length?this.iterator(this.items,function(e,t){i=r(e),(!1===n.filter||0<i)&&o.items.push({score:i,id:t})}):this.iterator(this.items,function(e,t){o.items.push({score:1,id:t})}),(t=this.getSortFunction(o,n))&&o.items.sort(t),o.total=o.items.length,"number"==typeof n.limit&&(o.items=o.items.slice(0,n.limit)),o};var f=function(e,t){return"number"==typeof e&&"number"==typeof t?t<e?1:e<t?-1:0:(e=n(String(e||"")),(t=n(String(t||"")))<e?1:e<t?-1:0)},r=function(e,t){var n,i,o,r;for(n=1,i=arguments.length;n<i;n++)if(r=arguments[n])for(o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);return e},a=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},l=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u={a:"[a]",c:"[c]",d:"[d]",e:"[e]",i:"[i]",l:"[l]",n:"[n]",o:"[o]",r:"[r]",s:"[s]",t:"[t]",u:"[u]",y:"[y]",z:"[z]"},n=function(){var e,t,n,i,o="",r={};for(n in u)if(u.hasOwnProperty(n))for(o+=i=u[n].substring(2,u[n].length-1),e=0,t=i.length;e<t;e++)r[i.charAt(e)]=n;var s=new RegExp("["+o+"]","g");return function(e){return e.replace(s,function(e){return r[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={mixin:function(i){i.plugins={},i.prototype.initializePlugins=function(e){var t,n,i,o=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},r.isArray(e))for(t=0,n=e.length;t<n;t++)"string"==typeof e[t]?o.push(e[t]):(this.plugins.settings[e[t].name]=e[t].options,o.push(e[t].name));else if(e)for(i in e)e.hasOwnProperty(i)&&(this.plugins.settings[i]=e[i],o.push(i));for(;o.length;)this.require(o.shift())},i.prototype.loadPlugin=function(e){var t=this.plugins,n=i.plugins[e];if(!i.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');t.requested[e]=!0,t.loaded[e]=n.fn.apply(this,[this.plugins.settings[e]||{}]),t.names.push(e)},i.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},i.define=function(e,t){i.plugins[e]={name:e,fn:t}}}},r={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(E,l,e){"use strict";function C(e,t){if("string"!=typeof t||t.length){var l="string"==typeof t?new RegExp(t,"i"):t,u=function(e){var t=0;if(3===e.nodeType){var n=e.data.search(l);if(0<=n&&0<e.data.length){var i=e.data.match(l),o=document.createElement("span");o.className="highlight";var r=e.splitText(n),s=(r.splitText(i[0].length),r.cloneNode(!0));o.appendChild(s),r.parentNode.replaceChild(o,r),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var a=0;a<e.childNodes.length;++a)a+=u(e.childNodes[a]);return t};return e.each(function(){u(this)})}}function i(){}i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=i.prototype[t[n]]};function u(e){return void 0!==e}function x(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""}function a(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function c(e){return(e+"").replace(/\$/g,"$$$$")}function n(t,n,e){var i,o=t.trigger,r={};for(i in t.trigger=function(){var e=arguments[0];if(-1===n.indexOf(e))return o.apply(t,arguments);r[e]=arguments},e.apply(t,[]),t.trigger=o,r)r.hasOwnProperty(i)&&o.apply(t,r[i])}function h(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t}function m(c){function e(e,t){var n,i,o,r,s,a,l,u;t=t||{},(e=e||window.event||{}).metaKey||e.altKey||!t.force&&!1===c.data("grow")||(n=c.val(),e.type&&"keydown"===e.type.toLowerCase()&&(o=97<=(i=e.keyCode)&&i<=122||65<=i&&i<=90||48<=i&&i<=57||32===i,46===i||8===i?(u=h(c[0])).length?n=n.substring(0,u.start)+n.substring(u.start+u.length):8===i&&u.start?n=n.substring(0,u.start-1)+n.substring(u.start+1):46===i&&void 0!==u.start&&(n=n.substring(0,u.start)+n.substring(u.start+1)):o&&(a=e.shiftKey,l=String.fromCharCode(e.keyCode),n+=l=a?l.toUpperCase():l.toLowerCase())),r=c.attr("placeholder"),!n&&r&&(n=r),(s=function(e,t){if(!e)return 0;var n=E("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");!function(e,t,n){var i,o,r={};if(n)for(i=0,o=n.length;i<o;i++)r[n[i]]=e.css(n[i]);else r=e.css();t.css(r)}(t,n,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var i=n.width();return n.remove(),i}(n,c)+4)!==d&&(d=s,c.width(s),c.triggerHandler("resize")))}var d=null;c.on("keydown keyup update blur",e),e()}var v=/Mac/.test(navigator.userAgent),_=v?91:17,y=v?18:17,b=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,t={before:function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},after:function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}}},w=function(e,t){var n,i,o,r,s=this;(r=e[0]).selectize=s;var a=window.getComputedStyle&&window.getComputedStyle(r,null);if(o=(o=a?a.getPropertyValue("direction"):r.currentStyle&&r.currentStyle.direction)||e.parents("[dir]:first").attr("dir")||"",E.extend(s,{order:0,settings:t,$input:e,tabIndex:e.attr("tabindex")||"",tagType:"select"===r.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++w.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:e.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===t.loadThrottle?s.onSearchChange:function(n,i){var o;return function(){var e=this,t=arguments;window.clearTimeout(o),o=window.setTimeout(function(){n.apply(e,t)},i)}}(s.onSearchChange,t.loadThrottle)}),s.sifter=new l(this.options,{diacritics:t.diacritics}),s.settings.options){for(n=0,i=s.settings.options.length;n<i;n++)s.registerOption(s.settings.options[n]);delete s.settings.options}if(s.settings.optgroups){for(n=0,i=s.settings.optgroups.length;n<i;n++)s.registerOptionGroup(s.settings.optgroups[n]);delete s.settings.optgroups}s.settings.mode=s.settings.mode||(1===s.settings.maxItems?"single":"multi"),"boolean"!=typeof s.settings.hideSelected&&(s.settings.hideSelected="multi"===s.settings.mode),s.initializePlugins(s.settings.plugins),s.setupCallbacks(),s.setupTemplates(),s.setup()};return i.mixin(w),e.mixin(w),E.extend(w.prototype,{setup:function(){var e,t,n,i,o,r,s,a,l,u=this,c=u.settings,d=u.eventNS,h=E(window),f=E(document),p=u.$input;if(s=u.settings.mode,a=p.attr("class")||"",e=E("<div>").addClass(c.wrapperClass).addClass(a).addClass(s),t=E("<div>").addClass(c.inputClass).addClass("items").appendTo(e),n=E('<input type="text" autocomplete="off" />').appendTo(t).attr("tabindex",p.is(":disabled")?"-1":u.tabIndex),r=E(c.dropdownParent||e),i=E("<div>").addClass(c.dropdownClass).addClass(s).hide().appendTo(r),o=E("<div>").addClass(c.dropdownContentClass).appendTo(i),u.settings.copyClassesToDropdown&&i.addClass(a),e.css({width:p[0].style.width}),u.plugins.names.length&&(l="plugin-"+u.plugins.names.join(" plugin-"),e.addClass(l),i.addClass(l)),(null===c.maxItems||1<c.maxItems)&&1===u.tagType&&p.attr("multiple","multiple"),u.settings.placeholder&&n.attr("placeholder",c.placeholder),!u.settings.splitOn&&u.settings.delimiter){var g=u.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");u.settings.splitOn=new RegExp("\\s*"+g+"+\\s*")}p.attr("autocorrect")&&n.attr("autocorrect",p.attr("autocorrect")),p.attr("autocapitalize")&&n.attr("autocapitalize",p.attr("autocapitalize")),u.$wrapper=e,u.$control=t,u.$control_input=n,u.$dropdown=i,u.$dropdown_content=o,i.on("mouseenter","[data-selectable]",function(){return u.onOptionHover.apply(u,arguments)}),i.on("mousedown click","[data-selectable]",function(){return u.onOptionSelect.apply(u,arguments)}),function(n,e,t,i){n.on(e,t,function(e){for(var t=e.target;t&&t.parentNode!==n[0];)t=t.parentNode;return e.currentTarget=t,i.apply(this,[e])})}(t,"mousedown","*:not(input)",function(){return u.onItemSelect.apply(u,arguments)}),m(n),t.on({mousedown:function(){return u.onMouseDown.apply(u,arguments)},click:function(){return u.onClick.apply(u,arguments)}}),n.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return u.onKeyDown.apply(u,arguments)},keyup:function(){return u.onKeyUp.apply(u,arguments)},keypress:function(){return u.onKeyPress.apply(u,arguments)},resize:function(){u.positionDropdown.apply(u,[])},blur:function(){return u.onBlur.apply(u,arguments)},focus:function(){return u.ignoreBlur=!1,u.onFocus.apply(u,arguments)},paste:function(){return u.onPaste.apply(u,arguments)}}),f.on("keydown"+d,function(e){u.isCmdDown=e[v?"metaKey":"ctrlKey"],u.isCtrlDown=e[v?"altKey":"ctrlKey"],u.isShiftDown=e.shiftKey}),f.on("keyup"+d,function(e){e.keyCode===y&&(u.isCtrlDown=!1),16===e.keyCode&&(u.isShiftDown=!1),e.keyCode===_&&(u.isCmdDown=!1)}),f.on("mousedown"+d,function(e){if(u.isFocused){if(e.target===u.$dropdown[0]||e.target.parentNode===u.$dropdown[0])return!1;u.$control.has(e.target).length||e.target===u.$control[0]||u.blur(e.target)}}),h.on(["scroll"+d,"resize"+d].join(" "),function(){u.isOpen&&u.positionDropdown.apply(u,arguments)}),h.on("mousemove"+d,function(){u.ignoreHover=!1}),this.revertSettings={$children:p.children().detach(),tabindex:p.attr("tabindex")},p.attr("tabindex",-1).hide().after(u.$wrapper),E.isArray(c.items)&&(u.setValue(c.items),delete c.items),b&&p.on("invalid"+d,function(e){e.preventDefault(),u.isInvalid=!0,u.refreshState()}),u.updateOriginalInput(),u.refreshItems(),u.refreshState(),u.updatePlaceholder(),u.isSetup=!0,p.is(":disabled")&&u.disable(),u.on("change",this.onChange),p.data("selectize",u),p.addClass("selectized"),u.trigger("initialize"),!0===c.preload&&u.onSearchChange("")},setupTemplates:function(){var n=this.settings.labelField,i=this.settings.optgroupLabelField,e={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};this.settings.render=E.extend({},e,this.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(e){var t=this,n=e.isDefaultPrevented();E(e.target);if(t.isFocused){if(e.target!==t.$control_input[0])return"single"===t.settings.mode?t.isOpen?t.close():t.open():n||t.setActiveItem(null),!1}else n||window.setTimeout(function(){t.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var i=this;i.isFull()||i.isInputHidden||i.isLocked?e.preventDefault():i.settings.splitOn&&setTimeout(function(){for(var e=E.trim(i.$control_input.val()||"").split(i.settings.splitOn),t=0,n=e.length;t<n;t++)i.createItem(e[t])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){e.target,this.$control_input[0];var t=this;if(t.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case 8:case 46:return void t.deleteSelection(e)}!t.isFull()&&!t.isInputHidden||(v?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){if(this.isLocked)return e&&e.preventDefault();var t=this.$control_input.val()||"";this.lastValue!==t&&(this.lastValue=t,this.onSearchChange(t),this.refreshOptions(),this.trigger("type",t))},onSearchChange:function(t){var n=this,i=n.settings.load;i&&(n.loadedSearches.hasOwnProperty(t)||(n.loadedSearches[t]=!0,n.load(function(e){i.apply(n,[t,e])})))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var t,n,i=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(n=E(e.currentTarget)).hasClass("create")?i.createItem(null,function(){i.settings.closeAfterSelect&&i.close()}):void 0!==(t=n.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(t),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&i.setActiveOption(i.getOption(t)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){n(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(e,t){var n,i,o,r,s,a,l,u,c=this;if("single"!==c.settings.mode){if(!(e=E(e)).length)return E(c.$activeItems).removeClass("active"),c.$activeItems=[],void(c.isFocused&&c.showInput());if("mousedown"===(n=t&&t.type.toLowerCase())&&c.isShiftDown&&c.$activeItems.length){for(u=c.$control.children(".active:last"),r=Array.prototype.indexOf.apply(c.$control[0].childNodes,[u[0]]),(s=Array.prototype.indexOf.apply(c.$control[0].childNodes,[e[0]]))<r&&(l=r,r=s,s=l),i=r;i<=s;i++)a=c.$control[0].childNodes[i],-1===c.$activeItems.indexOf(a)&&(E(a).addClass("active"),c.$activeItems.push(a));t.preventDefault()}else"mousedown"===n&&c.isCtrlDown||"keydown"===n&&this.isShiftDown?e.hasClass("active")?(o=c.$activeItems.indexOf(e[0]),c.$activeItems.splice(o,1),e.removeClass("active")):c.$activeItems.push(e.addClass("active")[0]):(E(c.$activeItems).removeClass("active"),c.$activeItems=[e.addClass("active")[0]]);c.hideInput(),this.isFocused||c.focus()}},setActiveOption:function(e,t,n){var i,o,r,s,a,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,(e=E(e)).length&&(l.$activeOption=e.addClass("active"),!t&&u(t)||(i=l.$dropdown_content.height(),o=l.$activeOption.outerHeight(!0),t=l.$dropdown_content.scrollTop()||0,a=(s=r=l.$activeOption.offset().top-l.$dropdown_content.offset().top+t)-i+o,i+t<r+o?l.$dropdown_content.stop().animate({scrollTop:a},n?l.settings.scrollDuration:0):r<t&&l.$dropdown_content.stop().animate({scrollTop:s},n?l.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(e){var t,n,i,o=this.settings,r=this.getSearchOptions();if(o.score&&"function"!=typeof(i=this.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==this.lastQuery?(this.lastQuery=e,n=this.sifter.search(e,E.extend(r,{score:i})),this.currentResults=n):n=E.extend(!0,{},this.currentResults),o.hideSelected)for(t=n.items.length-1;0<=t;t--)-1!==this.items.indexOf(x(n.items[t].id))&&n.items.splice(t,1);return n},refreshOptions:function(e){var t,n,i,o,r,s,a,l,u,c,d,h,f,p,g,m;void 0===e&&(e=!0);var v=this,_=E.trim(v.$control_input.val()),y=v.search(_),b=v.$dropdown_content,w=v.$activeOption&&x(v.$activeOption.attr("data-value"));for(o=y.items.length,"number"==typeof v.settings.maxOptions&&(o=Math.min(o,v.settings.maxOptions)),r={},s=[],t=0;t<o;t++)for(a=v.options[y.items[t].id],l=v.render("option",a),u=a[v.settings.optgroupField]||"",n=0,i=(c=E.isArray(u)?u:[u])&&c.length;n<i;n++)u=c[n],v.optgroups.hasOwnProperty(u)||(u=""),r.hasOwnProperty(u)||(r[u]=[],s.push(u)),r[u].push(l);for(this.settings.lockOptgroupOrder&&s.sort(function(e,t){return(v.optgroups[e].$order||0)-(v.optgroups[t].$order||0)}),d=[],t=0,o=s.length;t<o;t++)u=s[t],v.optgroups.hasOwnProperty(u)&&r[u].length?(h=v.render("optgroup_header",v.optgroups[u])||"",h+=r[u].join(""),d.push(v.render("optgroup",E.extend({},v.optgroups[u],{html:h})))):d.push(r[u].join(""));if(b.html(d.join("")),v.settings.highlight&&y.query.length&&y.tokens.length)for(t=0,o=y.tokens.length;t<o;t++)C(b,y.tokens[t].regex);if(!v.settings.hideSelected)for(t=0,o=v.items.length;t<o;t++)v.getOption(v.items[t]).addClass("selected");(f=v.canCreate(_))&&(b.prepend(v.render("option_create",{input:_})),m=E(b[0].childNodes[0])),v.hasOptions=0<y.items.length||f,v.hasOptions?(0<y.items.length?((g=w&&v.getOption(w))&&g.length?p=g:"single"===v.settings.mode&&v.items.length&&(p=v.getOption(v.items[0])),p&&p.length||(p=m&&!v.settings.addPrecedence?v.getAdjacentOption(m,1):b.find("[data-selectable]:first"))):p=m,v.setActiveOption(p),e&&!v.isOpen&&v.open()):(v.setActiveOption(null),e&&v.isOpen&&v.close())},addOption:function(e){var t,n,i;if(E.isArray(e))for(t=0,n=e.length;t<n;t++)this.addOption(e[t]);else(i=this.registerOption(e))&&(this.userOptions[i]=!0,this.lastQuery=null,this.trigger("option_add",i,e))},registerOption:function(e){var t=x(e[this.settings.valueField]);return!(!t||this.options.hasOwnProperty(t))&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=x(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,t){var n,i,o,r,s,a,l,u=this;if(e=x(e),o=x(t[u.settings.valueField]),null!==e&&u.options.hasOwnProperty(e)){if("string"!=typeof o)throw new Error("Value must be set in option data");l=u.options[e].$order,o!==e&&(delete u.options[e],-1!==(r=u.items.indexOf(e))&&u.items.splice(r,1,o)),t.$order=t.$order||l,u.options[o]=t,s=u.renderCache.item,a=u.renderCache.option,s&&(delete s[e],delete s[o]),a&&(delete a[e],delete a[o]),-1!==u.items.indexOf(o)&&(n=u.getItem(e),i=E(u.render("item",t)),n.hasClass("active")&&i.addClass("active"),n.replaceWith(i)),u.lastQuery=null,u.isOpen&&u.refreshOptions(!1)}},removeOption:function(e,t){e=x(e);var n=this.renderCache.item,i=this.renderCache.option;n&&delete n[e],i&&delete i[e],delete this.userOptions[e],delete this.options[e],this.lastQuery=null,this.trigger("option_remove",e),this.removeItem(e,t)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,t){var n=this.$dropdown.find("[data-selectable]"),i=n.index(e)+t;return 0<=i&&i<n.length?n.eq(i):E()},getElementWithValue:function(e,t){if(null!=(e=x(e)))for(var n=0,i=t.length;n<i;n++)if(t[n].getAttribute("data-value")===e)return E(t[n]);return E()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(e,t){for(var n=E.isArray(e)?e:[e],i=0,o=n.length;i<o;i++)this.isPending=i<o-1,this.addItem(n[i],t)},addItem:function(a,l){n(this,l?[]:["change"],function(){var e,t,n,i,o,r=this,s=r.settings.mode;a=x(a),-1===r.items.indexOf(a)?r.options.hasOwnProperty(a)&&("single"===s&&r.clear(l),"multi"===s&&r.isFull()||(e=E(r.render("item",r.options[a])),o=r.isFull(),r.items.splice(r.caretPos,0,a),r.insertAtCaret(e),r.isPending&&(o||!r.isFull())||r.refreshState(),r.isSetup&&(n=r.$dropdown_content.find("[data-selectable]"),r.isPending||(t=r.getOption(a),i=r.getAdjacentOption(t,1).attr("data-value"),r.refreshOptions(r.isFocused&&"single"!==s),i&&r.setActiveOption(r.getOption(i))),!n.length||r.isFull()?r.close():r.positionDropdown(),r.updatePlaceholder(),r.trigger("item_add",a,e),r.updateOriginalInput({silent:l})))):"single"===s&&r.close()})},removeItem:function(e,t){var n,i,o,r=this;n="object"==typeof e?e:r.getItem(e),e=x(n.attr("data-value")),-1!==(i=r.items.indexOf(e))&&(n.remove(),n.hasClass("active")&&(o=r.$activeItems.indexOf(n[0]),r.$activeItems.splice(o,1)),r.items.splice(i,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(e)&&r.removeOption(e,t),i<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:t}),r.positionDropdown(),r.trigger("item_remove",e,n))},createItem:function(e,n){var i=this,o=i.caretPos;e=e||E.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return r(),!1;i.lock();var t="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},s=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}(function(e){if(i.unlock(),!e||"object"!=typeof e)return r();var t=x(e[i.settings.valueField]);if("string"!=typeof t)return r();i.setTextboxValue(""),i.addOption(e),i.setCaret(o),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),r(e)}),a=t.apply(this,[e,s]);return void 0!==a&&s(a),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&(this.isInvalid=!1),this.$control_input.prop("required",void 0)),this.refreshClasses()},refreshClasses:function(){var e=this,t=e.isFull(),n=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",n).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!E.isEmptyObject(e.options)).toggleClass("has-items",0<e.items.length),e.$control_input.data("grow",!t&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,o,r=this;if(e=e||{},1===r.tagType){for(i=[],t=0,n=r.items.length;t<n;t++)o=r.options[r.items[t]][r.settings.labelField]||"",i.push('<option value="'+a(r.items[t])+'" selected="selected">'+a(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(e.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length);0===t?this.$control.prepend(e):E(this.$control[0].childNodes[t]).before(e),this.setCaret(t+1)},deleteSelection:function(e){var t,n,i,o,r,s,a,l,u,c=this;if(i=e&&8===e.keyCode?-1:1,o=h(c.$control_input[0]),c.$activeOption&&!c.settings.hideSelected&&(a=c.getAdjacentOption(c.$activeOption,-1).attr("data-value")),r=[],c.$activeItems.length){for(u=c.$control.children(".active:"+(0<i?"last":"first")),s=c.$control.children(":not(input)").index(u),0<i&&s++,t=0,n=c.$activeItems.length;t<n;t++)r.push(E(c.$activeItems[t]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(c.isFocused||"single"===c.settings.mode)&&c.items.length&&(i<0&&0===o.start&&0===o.length?r.push(c.items[c.caretPos-1]):0<i&&o.start===c.$control_input.val().length&&r.push(c.items[c.caretPos]));if(!r.length||"function"==typeof c.settings.onDelete&&!1===c.settings.onDelete.apply(c,[r]))return!1;for(void 0!==s&&c.setCaret(s);r.length;)c.removeItem(r.pop());return c.showInput(),c.positionDropdown(),c.refreshOptions(!0),a&&(l=c.getOption(a)).length&&c.setActiveOption(l),!0},advanceSelection:function(e,t){var n,i,o,r,s,a=this;0!==e&&(a.rtl&&(e*=-1),n=0<e?"last":"first",i=h(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(r=a.$control_input.val().length,(e<0?0!==i.start||0!==i.length:i.start!==r)||r||a.advanceCaret(e,t)):(s=a.$control.children(".active:"+n)).length&&(o=a.$control.children(":not(input)").index(s),a.setActiveItem(null),a.setCaret(0<e?o+1:o)))},advanceCaret:function(e,t){var n,i;0!==e&&(n=0<e?"next":"prev",this.isShiftDown?(i=this.$control_input[n]()).length&&(this.hideInput(),this.setActiveItem(i),t&&t.preventDefault()):this.setCaret(this.caretPos+e))},setCaret:function(e){var t,n,i,o;if(e="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,e)),!this.isPending)for(t=0,n=(i=this.$control.children(":not(input)")).length;t<n;t++)o=E(i[t]).detach(),t<e?this.$control_input.before(o):this.$control.append(o);this.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var e=this,t=e.eventNS,n=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),E(window).off(t),E(document).off(t),E(document.body).off(t),delete e.$input[0].selectize},render:function(e,t){var n,i,o="",r=!1,s=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==e&&"item"!==e||(r=!!(n=x(t[this.settings.valueField]))),r&&(u(this.renderCache[e])||(this.renderCache[e]={}),this.renderCache[e].hasOwnProperty(n))?this.renderCache[e][n]:(o=this.settings.render[e].apply(this,[t,a]),"option"!==e&&"option_create"!==e||(o=o.replace(s,"<$1 data-selectable")),"optgroup"===e&&(i=t[this.settings.optgroupValueField]||"",o=o.replace(s,'<$1 data-group="'+c(a(i))+'"')),"option"!==e&&"item"!==e||(o=o.replace(s,'<$1 data-value="'+c(a(n||""))+'"')),r&&(this.renderCache[e][n]=o),o)},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return e.length&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),w.count=0,w.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},E.fn.selectize=function(o){var r=E.fn.selectize.defaults,d=E.extend({},r,o),h=d.dataAttr,f=d.labelField,p=d.valueField,g=d.optgroupField,m=d.optgroupLabelField,v=d.optgroupValueField;return this.each(function(){if(!this.selectize){var e=E(this),t=this.tagName.toLowerCase(),n=e.attr("placeholder")||e.attr("data-placeholder");n||d.allowEmptyOption||(n=e.children('option[value=""]').text());var i={placeholder:n,options:[],optgroups:[],items:[]};"select"===t?function(e,s){function a(e){var t=h&&e.attr(h);return"string"==typeof t&&t.length?JSON.parse(t):null}function l(e,t){e=E(e);var n=x(e.attr("value"));if(n||d.allowEmptyOption)if(c.hasOwnProperty(n)){if(t){var i=c[n][g];i?E.isArray(i)?i.push(t):c[n][g]=[i,t]:c[n][g]=t}}else{var o=a(e)||{};o[f]=o[f]||e.text(),o[p]=o[p]||n,o[g]=o[g]||t,c[n]=o,u.push(o),e.is(":selected")&&s.items.push(n)}}function t(e){var t,n,i,o,r;for((i=(e=E(e)).attr("label"))&&((o=a(e)||{})[m]=i,o[v]=i,s.optgroups.push(o)),t=0,n=(r=E("option",e)).length;t<n;t++)l(r[t],i)}var n,i,o,r,u=s.options,c={};for(s.maxItems=e.attr("multiple")?null:1,n=0,i=(r=e.children()).length;n<i;n++)"optgroup"===(o=r[n].tagName.toLowerCase())?t(r[n]):"option"===o&&l(r[n])}(e,i):function(e,t){var n,i,o,r,s=e.attr(h);if(s)for(t.options=JSON.parse(s),n=0,i=t.options.length;n<i;n++)t.items.push(t.options[n][p]);else{var a=E.trim(e.val()||"");if(!d.allowEmptyOption&&!a.length)return;for(n=0,i=(o=a.split(d.delimiter)).length;n<i;n++)(r={})[f]=o[n],r[p]=o[n],t.options.push(r);t.items=o}}(e,i),new w(e,E.extend(!0,{},r,i,o))}})},E.fn.selectize.defaults=w.defaults,E.fn.selectize.support={validity:b},w.define("drag_drop",function(e){if(!E.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var t,n,i,o=this;o.lock=(t=o.lock,function(){var e=o.$control.data("sortable");return e&&e.disable(),t.apply(o,arguments)}),o.unlock=(n=o.unlock,function(){var e=o.$control.data("sortable");return e&&e.enable(),n.apply(o,arguments)}),o.setup=(i=o.setup,function(){i.apply(this,arguments);var n=o.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:o.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=o.$activeItems?o.$activeItems.slice():null,t=[];n.children("[data-value]").each(function(){t.push(E(this).attr("data-value"))}),o.setValue(t),o.setActiveItem(e)}})})}}),w.define("dropdown_header",function(e){var t,n=this;e=E.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},e),n.setup=(t=n.setup,function(){t.apply(n,arguments),n.$dropdown_header=E(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)})}),w.define("optgroup_columns",function(a){var r,l=this;a=E.extend({equalizeWidth:!0,equalizeHeight:!0},a),this.getAdjacentOption=function(e,t){var n=e.closest("[data-group]").find("[data-selectable]"),i=n.index(e)+t;return 0<=i&&i<n.length?n.eq(i):E()},this.onKeyDown=(r=l.onKeyDown,function(e){var t,n,i,o;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?r.apply(this,arguments):(l.ignoreHover=!0,t=(o=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((n=(i=(o=37===e.keyCode?o.prev("[data-group]"):o.next("[data-group]")).find("[data-selectable]")).eq(Math.min(i.length-1,t))).length&&this.setActiveOption(n)))});function e(){var e,t,n,i,o,r,s;if((t=(s=E("[data-group]",l.$dropdown_content)).length)&&l.$dropdown_content.width()){if(a.equalizeHeight){for(e=n=0;e<t;e++)n=Math.max(n,s.eq(e).height());s.css({height:n})}a.equalizeWidth&&(r=l.$dropdown_content.innerWidth()-u(),i=Math.round(r/t),s.css({width:i}),1<t&&(o=r-i*(t-1),s.eq(t-1).css({width:o})))}}var u=function(){var e,t=u.width,n=document;return void 0===t&&((e=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=u.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t};(a.equalizeHeight||a.equalizeWidth)&&(t.after(this,"positionDropdown",e),t.after(this,"refreshOptions",e))}),w.define("remove_button",function(e){if("single"!==this.settings.mode){e=E.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n,i=this,o='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+a(e.title)+'">'+e.label+"</a>";this.setup=(n=i.setup,function(){if(e.append){var t=i.settings.render.item;i.settings.render.item=function(e){return function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)}(t.apply(this,arguments),o)}}n.apply(this,arguments),this.$control.on("click","."+e.className,function(e){if(e.preventDefault(),!i.isLocked){var t=E(e.currentTarget).parent();i.setActiveItem(t),i.deleteSelection()&&i.setCaret(i.items.length)}})})}}),w.define("restore_on_backspace",function(i){var o,e=this;i.text=i.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(o=e.onKeyDown,function(e){var t,n;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(t=this.caretPos-1)&&t<this.items.length?(n=this.options[this.items[t]],this.deleteSelection(e)&&(this.setTextboxValue(i.text.apply(this,[n])),this.refreshOptions(!0)),void e.preventDefault()):o.apply(this,arguments)})}),w}),window.Modernizr=function(e,d,r){function t(e){p.cssText=e}function s(e,t){return typeof e===t}function a(e,t){for(var n in e){var i=e[n];if(!~(""+i).indexOf("-")&&p[i]!==r)return"pfx"!=t||i}return!1}function i(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+v.join(i+" ")+i).split(" ");return s(t,"string")||s(t,"undefined")?a(o,t):function(e,t,n){for(var i in e){var o=t[e[i]];if(o!==r)return!1===n?e[i]:s(o,"function")?o.bind(n||t):o}return!1}(o=(e+" "+_.join(i+" ")+i).split(" "),t,n)}function o(e,t,n,i){var o,r,s,a,l=d.createElement("div"),u=d.body,c=u||d.createElement("body");if(parseInt(n,10))for(;n--;)(s=d.createElement("div")).id=i?i[n]:f+(n+1),l.appendChild(s);return o=["&#173;",'<style id="s',f,'">',e,"</style>"].join(""),l.id=f,(u?l:c).innerHTML+=o,c.appendChild(l),u||(c.style.background="",c.style.overflow="hidden",a=h.style.overflow,h.style.overflow="hidden",h.appendChild(c)),r=t(l,e),u?l.parentNode.removeChild(l):(c.parentNode.removeChild(c),h.style.overflow=a),!!r}var n,l,u={},h=d.documentElement,f="modernizr",c=d.createElement(f),p=c.style,g=" -webkit- -moz- -o- -ms- ".split(" "),m="Webkit Moz O ms",v=m.split(" "),_=m.toLowerCase().split(" "),y={},b=[],w=b.slice,E={}.hasOwnProperty;for(var C in l=s(E,"undefined")||s(E.call,"undefined")?function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")}:function(e,t){return E.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(i){var o=this;if("function"!=typeof o)throw new TypeError;var r=w.call(arguments,1),s=function(){if(this instanceof s){function e(){}e.prototype=o.prototype;var t=new e,n=o.apply(t,r.concat(w.call(arguments)));return Object(n)===n?n:t}return o.apply(i,r.concat(w.call(arguments)))};return s}),y.csstransforms=function(){return!!i("transform")},y.csstransforms3d=function(){var n=!!i("perspective");return n&&"webkitPerspective"in h.style&&o("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,t){n=9===e.offsetLeft&&3===e.offsetHeight}),n},y.csstransitions=function(){return i("transition")},y)l(y,C)&&(n=C.toLowerCase(),u[n]=y[C](),b.push((u[n]?"":"no-")+n));return u.addTest=function(e,t){if("object"==typeof e)for(var n in e)l(e,n)&&u.addTest(n,e[n]);else{if(e=e.toLowerCase(),u[e]!==r)return u;t="function"==typeof t?t():t,h.className+=" "+(t?"":"no-")+e,u[e]=t}return u},t(""),c=null,u._version="2.6.2",u._prefixes=g,u._domPrefixes=_,u._cssomPrefixes=v,u.testProp=function(e){return a([e])},u.testAllProps=i,u.testStyles=o,u.prefixed=function(e,t,n){return t?i(e,t,n):i(e,"pfx")},h.className=h.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+b.join(" "),u}(0,this.document),function(e){"function"==typeof define&&define.amd?define(["jquery","modernizr"],e):"object"==typeof exports?module.exports=e(require("jquery"),window.Modernizr):window.Shuffle=e(window.jQuery,window.Modernizr)}(function(d,e,s){"use strict";if("object"!=typeof e)throw new Error("Shuffle.js requires Modernizr.\nhttp://vestride.github.io/Shuffle/#dependencies");var t,n=e.prefixed("transition"),i=e.prefixed("transitionDelay"),o=e.prefixed("transitionDuration"),l={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],r=e.prefixed("transform"),a=(t=r)?t.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-"):"",u=e.csstransforms&&e.csstransitions,c=e.csstransforms3d,h=!!window.getComputedStyle,f="shuffle";function p(e,t,n){for(var i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e)==={})return}function g(e,t,n){return setTimeout(d.proxy(e,t),n)}function m(e){return Math.max.apply(Math,e)}function v(e){return d.isNumeric(e)?e:0}function _(e,t){this.x=v(e),this.y=v(t)}var y=window.getComputedStyle||function(){};_.equals=function(e,t){return e.x===t.x&&e.y===t.y};var b=function(){if(!h)return!1;var e=document.body||document.documentElement,t=document.createElement("div");t.style.cssText="width:10px;padding:2px;-webkit-box-sizing:border-box;box-sizing:border-box;",e.appendChild(t);var n="10px"===y(t,null).width;return e.removeChild(t),n}(),w=0,E=d(window),C=function(e,t){t=t||{},d.extend(this,C.options,t,C.settings),this.$el=d(e),this.element=e,this.unique="shuffle_"+w++,this._fire(C.EventType.LOADING),this._init(),g(function(){this.initialized=!0,this._fire(C.EventType.DONE)},this,16)};return C.EventType={LOADING:"loading",DONE:"done",LAYOUT:"layout",REMOVED:"removed"},C.ClassName={BASE:f,SHUFFLE_ITEM:"shuffle-item",FILTERED:"filtered",CONCEALED:"concealed"},C.options={group:"all",speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,columnThreshold:h?.01:.1,initialSort:null,throttle:function(n,i,o){var r,s,a,l=null,u=0;function c(){u=!1===o.leading?0:d.now(),l=null,a=n.apply(r,s),r=s=null}return o=o||{},function(){var e=d.now();u||!1!==o.leading||(u=e);var t=i-(e-u);return r=this,s=arguments,t<=0||i<t?(clearTimeout(l),l=null,u=e,a=n.apply(r,s),r=s=null):l||!1===o.trailing||(l=setTimeout(c,t)),a}},throttleTime:300,sequentialFadeDelay:150,supported:u},C.settings={useSizer:!1,itemCss:{position:"absolute",top:0,left:0,visibility:"visible"},revealAppendedDelay:300,lastSort:{},lastFilter:"all",enabled:!0,destroyed:!1,initialized:!1,_animations:[],_transitions:[],_isMovementCanceled:!1,styleQueue:[]},C.Point=_,C._getItemTransformString=function(e,t){return c?"translate3d("+e.x+"px, "+e.y+"px, 0) scale3d("+t+", "+t+", 1)":"translate("+e.x+"px, "+e.y+"px) scale("+t+")"},C._getNumberStyle=function(e,t,n){if(h){n=n||y(e,null);var i=C._getFloat(n[t]);return b||"width"!==t?b||"height"!==t||(i+=C._getFloat(n.paddingTop)+C._getFloat(n.paddingBottom)+C._getFloat(n.borderTopWidth)+C._getFloat(n.borderBottomWidth)):i+=C._getFloat(n.paddingLeft)+C._getFloat(n.paddingRight)+C._getFloat(n.borderLeftWidth)+C._getFloat(n.borderRightWidth),i}return C._getFloat(d(e).css(t))},C._getFloat=function(e){return v(parseFloat(e))},C._getOuterWidth=function(e,t){var n=y(e,null),i=C._getNumberStyle(e,"width",n);t&&(i+=C._getNumberStyle(e,"marginLeft",n)+C._getNumberStyle(e,"marginRight",n));return i},C._getOuterHeight=function(e,t){var n=y(e,null),i=C._getNumberStyle(e,"height",n);t&&(i+=C._getNumberStyle(e,"marginTop",n)+C._getNumberStyle(e,"marginBottom",n));return i},C._skipTransition=function(e,t,n){var i=e.style[o];e.style[o]="0ms",t.call(n);e.offsetWidth;e.style[o]=i},C.prototype._init=function(){this.$items=this._getItems(),this.sizer=this._getElementOption(this.sizer),this.sizer&&(this.useSizer=!0),this.$el.addClass(C.ClassName.BASE),this._initItems(),E.on("resize.shuffle."+this.unique,this._getResizeFunction());var e=this.$el.css(["position","overflow"]),t=C._getOuterWidth(this.element);this._validateStyles(e),this._setColumns(t),this.shuffle(this.group,this.initialSort),this.supported&&g(function(){this._setTransitions(),this.element.style[n]="height "+this.speed+"ms "+this.easing},this)},C.prototype._getResizeFunction=function(){var e=d.proxy(this._onResize,this);return this.throttle?this.throttle(e,this.throttleTime):e},C.prototype._getElementOption=function(e){return"string"==typeof e?this.$el.find(e)[0]||null:e&&e.nodeType&&1===e.nodeType?e:e&&e.jquery?e[0]:null},C.prototype._validateStyles=function(e){"static"===e.position&&(this.element.style.position="relative"),"hidden"!==e.overflow&&(this.element.style.overflow="hidden")},C.prototype._filter=function(e,t){e=e||this.lastFilter,t=t||this.$items;var n=this._getFilteredSets(e,t);return this._toggleFilterClasses(n.filtered,n.concealed),"string"==typeof(this.lastFilter=e)&&(this.group=e),n.filtered},C.prototype._getFilteredSets=function(n,e){var i=d(),o=d();return"all"===n?i=e:p(e,function(e){var t=d(e);this._doesPassFilter(n,t)?i=i.add(t):o=o.add(t)},this),{filtered:i,concealed:o}},C.prototype._doesPassFilter=function(e,t){if(d.isFunction(e))return e.call(t[0],t,this);var n=t.data("groups"),i=this.delimeter&&!d.isArray(n)?n.split(this.delimeter):n;return-1<d.inArray(e,i)},C.prototype._toggleFilterClasses=function(e,t){e.removeClass(C.ClassName.CONCEALED).addClass(C.ClassName.FILTERED),t.removeClass(C.ClassName.FILTERED).addClass(C.ClassName.CONCEALED)},C.prototype._initItems=function(e){(e=e||this.$items).addClass([C.ClassName.SHUFFLE_ITEM,C.ClassName.FILTERED].join(" ")),e.css(this.itemCss).data("point",new _).data("scale",1)},C.prototype._updateItemCount=function(){this.visibleItems=this._getFilteredItems().length},C.prototype._setTransition=function(e){e.style[n]=a+" "+this.speed+"ms "+this.easing+", opacity "+this.speed+"ms "+this.easing},C.prototype._setTransitions=function(e){p(e=e||this.$items,function(e){this._setTransition(e)},this)},C.prototype._setSequentialDelay=function(e){this.supported&&p(e,function(e,t){e.style[i]="0ms,"+(t+1)*this.sequentialFadeDelay+"ms"},this)},C.prototype._getItems=function(){return this.$el.children(this.itemSelector)},C.prototype._getFilteredItems=function(){return this.$items.filter("."+C.ClassName.FILTERED)},C.prototype._getConcealedItems=function(){return this.$items.filter("."+C.ClassName.CONCEALED)},C.prototype._getColumnSize=function(e,t){var n;return 0===(n=d.isFunction(this.columnWidth)?this.columnWidth(e):this.useSizer?C._getOuterWidth(this.sizer):this.columnWidth?this.columnWidth:0<this.$items.length?C._getOuterWidth(this.$items[0],!0):e)&&(n=e),n+t},C.prototype._getGutterSize=function(e){return d.isFunction(this.gutterWidth)?this.gutterWidth(e):this.useSizer?C._getNumberStyle(this.sizer,"marginLeft"):this.gutterWidth},C.prototype._setColumns=function(e){var t=e||C._getOuterWidth(this.element),n=this._getGutterSize(t),i=this._getColumnSize(t,n),o=(t+n)/i;Math.abs(Math.round(o)-o)<this.columnThreshold&&(o=Math.round(o)),this.cols=Math.max(Math.floor(o),1),this.containerWidth=t,this.colWidth=i},C.prototype._setContainerSize=function(){this.$el.css("height",this._getContainerSize())},C.prototype._getContainerSize=function(){return m(this.positions)},C.prototype._fire=function(e,t){this.$el.trigger(e+"."+f,t&&t.length?t:[this])},C.prototype._resetCols=function(){var e=this.cols;for(this.positions=[];e--;)this.positions.push(0)},C.prototype._layout=function(e,t){p(e,function(e){this._layoutItem(e,!!t)},this),this._processStyleQueue(),this._setContainerSize()},C.prototype._layoutItem=function(e,t){var n=d(e),i=n.data(),o=i.point,r=i.scale,s={width:C._getOuterWidth(e,!0),height:C._getOuterHeight(e,!0)},a=this._getItemPosition(s);_.equals(o,a)&&1===r||(i.point=a,i.scale=1,this.styleQueue.push({$item:n,point:a,scale:1,opacity:t?0:1,skipTransition:t||0===this.speed,callfront:function(){t||n.css("visibility","visible")},callback:function(){t&&n.css("visibility","hidden")}}))},C.prototype._getItemPosition=function(e){for(var t=this._getColumnSpan(e.width,this.colWidth,this.cols),n=this._getColumnSet(t,this.cols),i=this._getShortColumn(n,this.buffer),o=new _(Math.round(this.colWidth*i),Math.round(n[i])),r=n[i]+e.height,s=this.cols+1-n.length,a=0;a<s;a++)this.positions[i+a]=r;return o},C.prototype._getColumnSpan=function(e,t,n){var i=e/t;return Math.abs(Math.round(i)-i)<this.columnThreshold&&(i=Math.round(i)),Math.min(Math.ceil(i),n)},C.prototype._getColumnSet=function(e,t){if(1===e)return this.positions;for(var n=t+1-e,i=[],o=0;o<n;o++)i[o]=m(this.positions.slice(o,o+e));return i},C.prototype._getShortColumn=function(e,t){for(var n=function(e){return Math.min.apply(Math,e)}(e),i=0,o=e.length;i<o;i++)if(e[i]>=n-t&&e[i]<=n+t)return i;return 0},C.prototype._shrink=function(e){p(e||this._getConcealedItems(),function(e){var t=d(e),n=t.data();.001!==n.scale&&(n.scale=.001,this.styleQueue.push({$item:t,point:n.point,scale:.001,opacity:0,callback:function(){t.css("visibility","hidden")}}))},this)},C.prototype._onResize=function(){this.enabled&&!this.destroyed&&C._getOuterWidth(this.element)!==this.containerWidth&&this.update()},C.prototype._getStylesForTransition=function(e){var t={opacity:e.opacity};return this.supported?t[r]=C._getItemTransformString(e.point,e.scale):(t.left=e.point.x,t.top=e.point.y),t},C.prototype._transition=function(e){var t=this._getStylesForTransition(e);this._startItemAnimation(e.$item,t,e.callfront||d.noop,e.callback||d.noop)},C.prototype._startItemAnimation=function(e,t,n,i){var o=this;function r(e){e.target===e.currentTarget&&(d(e.target).off(l,r),o._removeTransitionReference(s),i())}var s={$element:e,handler:r};if(n(),!this.initialized)return e.css(t),void i();if(this.supported)e.css(t),e.on(l,r),this._transitions.push(s);else{var a=e.stop(!0).animate(t,this.speed,"swing",i);this._animations.push(a.promise())}},C.prototype._processStyleQueue=function(e){this.isTransitioning&&this._cancelMovement();var t=d();p(this.styleQueue,function(e){e.skipTransition?this._styleImmediately(e):(t=t.add(e.$item),this._transition(e))},this),0<t.length&&this.initialized&&0<this.speed?(this.isTransitioning=!0,this.supported?this._whenCollectionDone(t,l,this._movementFinished):this._whenAnimationsDone(this._movementFinished)):e||g(this._layoutEnd,this),this.styleQueue.length=0},C.prototype._cancelMovement=function(){this.supported?p(this._transitions,function(e){e.$element.off(l,e.handler)}):(this._isMovementCanceled=!0,this.$items.stop(!0),this._isMovementCanceled=!1),this._transitions.length=0,this.isTransitioning=!1},C.prototype._removeTransitionReference=function(e){var t=d.inArray(e,this._transitions);-1<t&&this._transitions.splice(t,1)},C.prototype._styleImmediately=function(e){C._skipTransition(e.$item[0],function(){e.$item.css(this._getStylesForTransition(e))},this)},C.prototype._movementFinished=function(){this.isTransitioning=!1,this._layoutEnd()},C.prototype._layoutEnd=function(){this._fire(C.EventType.LAYOUT)},C.prototype._addItems=function(e,t,n){this._initItems(e),this._setTransitions(e),this.$items=this._getItems(),this._shrink(e),p(this.styleQueue,function(e){e.skipTransition=!0}),this._processStyleQueue(!0),t?this._addItemsToEnd(e,n):this.shuffle(this.lastFilter)},C.prototype._addItemsToEnd=function(e,t){var n=this._filter(null,e).get();this._updateItemCount(),this._layout(n,!0),t&&this.supported&&this._setSequentialDelay(n),this._revealAppended(n)},C.prototype._revealAppended=function(e){g(function(){p(e,function(e){var t=d(e);this._transition({$item:t,opacity:1,point:t.data("point"),scale:1})},this),this._whenCollectionDone(d(e),l,function(){d(e).css(i,"0ms"),this._movementFinished()})},this,this.revealAppendedDelay)},C.prototype._whenCollectionDone=function(e,t,n){var i=0,o=e.length,r=this;function s(e){e.target===e.currentTarget&&(d(e.target).off(t,s),++i===o&&(r._removeTransitionReference(a),n.call(r)))}var a={$element:e,handler:s};e.on(t,s),this._transitions.push(a)},C.prototype._whenAnimationsDone=function(e){d.when.apply(null,this._animations).always(d.proxy(function(){this._animations.length=0,this._isMovementCanceled||e.call(this)},this))},C.prototype.shuffle=function(e,t){this.enabled&&(e=e||"all",this._filter(e),this._updateItemCount(),this._shrink(),this.sort(t))},C.prototype.sort=function(e){if(this.enabled){this._resetCols();var t=e||this.lastSort,n=this._getFilteredItems().sorted(t);this._layout(n),this.lastSort=t}},C.prototype.update=function(e){this.enabled&&(e||this._setColumns(),this.sort())},C.prototype.layout=function(){this.update(!0)},C.prototype.appended=function(e,t,n){this._addItems(e,!0===t,!1!==n)},C.prototype.disable=function(){this.enabled=!1},C.prototype.enable=function(e){!(this.enabled=!0)!==e&&this.update()},C.prototype.remove=function(e){e.length&&e.jquery&&(this._toggleFilterClasses(d(),e),this._shrink(e),this.sort(),this.$el.one(C.EventType.LAYOUT+"."+f,d.proxy(function(){e.remove(),this.$items=this._getItems(),this._updateItemCount(),this._fire(C.EventType.REMOVED,[e,this]),e=null},this)))},C.prototype.destroy=function(){E.off("."+this.unique),this.$el.removeClass(f).removeAttr("style").removeData(f),this.$items.removeAttr("style").removeData("point").removeData("scale").removeClass([C.ClassName.CONCEALED,C.ClassName.FILTERED,C.ClassName.SHUFFLE_ITEM].join(" ")),this.$items=null,this.$el=null,this.sizer=null,this.element=null,this._transitions=null,this.destroyed=!0},d.fn.shuffle=function(n){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=d(this),t=e.data(f);t?"string"==typeof n&&t[n]&&t[n].apply(t,i):(t=new C(this,n),e.data(f,t))})},d.fn.sorted=function(e){var o=d.extend({},d.fn.sorted.defaults,e),t=this.get(),r=!1;return t.length?o.randomize?function(e){var t,n,i=e.length;if(!i)return e;for(;--i;)t=e[n=Math.floor(Math.random()*(i+1))],e[n]=e[i],e[i]=t;return e}(t):(d.isFunction(o.by)&&t.sort(function(e,t){if(r)return 0;var n=o.by(d(e)),i=o.by(d(t));return n===s&&i===s?(r=!0,0):n<i||"sortFirst"===n||"sortLast"===i?-1:i<n||"sortLast"===n||"sortFirst"===i?1:0}),r?this.get():(o.reverse&&t.reverse(),t)):[]},d.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},C}),function(o,e){"use strict";if(o){var t=r,n=["left","top","right","bottom","width","height"],g={v:{x:"Y",pos:n[1],oppos:n[3],crossPos:n[0],crossOpPos:n[2],size:n[5],crossSize:n[4],client:"clientHeight",crossClient:"clientWidth",crossScroll:"scrollWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},h:{x:"X",pos:n[0],oppos:n[2],crossPos:n[1],crossOpPos:n[3],size:n[4],crossSize:n[5],client:"clientWidth",crossClient:"clientHeight",crossScroll:"scrollHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}},s=function(e,t){var n=0;for(void 0!==e.length&&e!==o||(e=[e]);e[n];)t.call(this,e[n],n),n++},r=function(e){var t,n;this instanceof(n=(e=e||{}).$||n||o.jQuery)?e.root=t=this:t=n(e.root||e.scroller);var i=new r.fn.constructor(t,e,n);return i.autoUpdate&&i.autoUpdate(),i};r.fn={constructor:function(e,t,n){var i=function(e){var o=c(e);o.direction=o.direction||"v";var r=e.event||function(e,t,n,i){o.$(e)[i||"on"](t,n)};return o.event=function(e,t,n,i){s(e,function(e){r(e,t,n,i)})},o}(t);i.$=n,s.call(this,e,function(e,t){var n=c(i);i.root&&i.scroller?(n.scroller=i.$(i.scroller,e),n.scroller.length||(n.scroller=e)):n.scroller=e,n.root=e,this[t]=function(e){if(u(e.root,e.direction))throw new Error("Second baron initialization");var t=new a.prototype.constructor(e);return l(t,e.event,"on"),u(t.root,e.direction,"on"),t.update(),t}(n),this.length=t+1}),this.params=i},dispose:function(){var t=this.params;this[0]&&s(this,function(e){e.dispose(t)}),this.params=null},update:function(){for(var e=0;this[e];)this[e].update.apply(this[e],arguments),e++},baron:function(t){return t.root=[],t.scroller=this.params.scroller,s.call(this,this,function(e){t.root.push(e.root)}),t.direction="v"==this.params.direction?"h":"v",t._chain=!0,r(t)}};var a={};a.prototype={_debounce:function(t,n){var i,o,r=this,s=function(){if(r._disposed)return clearTimeout(i),void(i=r=null);var e=m()-o;e<n&&0<=e?i=setTimeout(s,n-e):(i=null,t())};return function(){o=m(),i=i||setTimeout(s,n)}},constructor:function(r){var s,n,t,i,a,o,l,u,c,d,h;function e(e,t){return s(e,t)[0]}function f(){return i[this.origin.client]-this.barTopLimit-this.bar[this.origin.offset]}function p(){return!1}return d=c=m(),s=this.$=r.$,this.event=r.event,this.events={},this.root=r.root,this.scroller=e(r.scroller),this.bar=e(r.bar,this.root),i=this.track=e(r.track,this.root),!this.track&&this.bar&&(i=this.bar.parentNode),this.clipper=this.scroller.parentNode,this.direction=r.direction,this.origin=g[this.direction],this.barOnCls=r.barOnCls||"_baron",this.scrollingCls=r.scrollingCls,this.barTopLimit=0,u=1e3*r.pause||0,this.cursor=function(e){return e["client"+this.origin.x]||(((e.originalEvent||e).touches||{})[0]||{})["page"+this.origin.x]},this.pos=function(e){var t="page"+this.origin.x+"Offset",n=this.scroller[t]?t:this.origin.scroll;return void 0!==e&&(this.scroller[n]=e),this.scroller[n]},this.rpos=function(e){var t=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client];return(e?this.pos(e*t):this.pos())/(t||1)},this.barOn=function(e){this.barOnCls&&(e||this.scroller[this.origin.client]>=this.scroller[this.origin.scrollSize]?s(this.root).hasClass(this.barOnCls)&&s(this.root).removeClass(this.barOnCls):s(this.root).hasClass(this.barOnCls)||s(this.root).addClass(this.barOnCls))},this._pos0=function(e){t=this.cursor(e)-n},this.drag=function(e){this.scroller[this.origin.scroll]=function(e){return(e-this.barTopLimit)/f.call(this)}.call(this,this.cursor(e)-t)*(this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client])},this.selection=function(e){this.event(document,"selectpos selectstart",p,e?"off":"on")},this.resize=function(){var o=this,e=0;function t(){var e,t,n,i;o.barOn(),t=o.scroller[o.origin.crossClient],e=(n=o.scroller[o.origin.crossOffset])-t,n&&(r.freeze&&!o.clipper.style[o.origin.crossSize]&&s(o.clipper).css(o.origin.crossSize)!=(i=o.clipper[o.origin.crossClient]-e+"px")&&s(o.clipper).css(o.origin.crossSize,i),s(o.clipper).css(o.origin.crossSize)!=(i=o.clipper[o.origin.crossClient]+e+"px")&&s(o.scroller).css(o.origin.crossSize,i)),Array.prototype.unshift.call(arguments,"resize"),v.apply(o,arguments),d=m()}m()-d<u&&(clearTimeout(a),e=u),e?a=setTimeout(t,e):t()},this.updatePositions=function(){var e,t=this;t.bar&&(e=(i[t.origin.client]-t.barTopLimit)*t.scroller[t.origin.client]/t.scroller[t.origin.scrollSize],parseInt(h,10)!=parseInt(e,10)&&(function(e){var t=this.barMinSize||20;0<e&&e<t&&(e=t),this.bar&&s(this.bar).css(this.origin.size,parseInt(e,10)+"px")}.call(t,e),h=e),n=function(e){return e*f.call(this)+this.barTopLimit}.call(t,t.rpos()),function(e){if(this.bar){var t=s(this.bar).css(this.origin.pos),n=+e+"px";n&&n!=t&&s(this.bar).css(this.origin.pos,n)}}.call(t,n)),Array.prototype.unshift.call(arguments,"scroll"),v.apply(t,arguments),c=m()},this.scroll=function(){var e=0,t=this;m()-c<u&&(clearTimeout(o),e=u),m()-c<u&&(clearTimeout(o),e=u),e?o=setTimeout(function(){t.updatePositions()},e):t.updatePositions(),t.scrollingCls&&(l||this.$(this.scroller).addClass(this.scrollingCls),clearTimeout(l),l=setTimeout(function(){t.$(t.scroller).removeClass(t.scrollingCls),l=void 0},300))},this},update:function(e){return v.call(this,"upd",e),this.resize(1),this.updatePositions(),this},dispose:function(e){l(this,this.event,"off"),u(this.root,e.direction,"off"),this.$(this.scroller).css(this.origin.crossSize,""),this.barOn(!0),v.call(this,"dispose"),this._disposed=!0},on:function(e,t,n){for(var i=e.split(" "),o=0;o<i.length;o++)"init"==i[o]?t.call(this,n):(this.events[i[o]]=this.events[i[o]]||[],this.events[i[o]].push(function(e){t.call(this,e||n)}))}},r.fn.constructor.prototype=r.fn,a.prototype.constructor.prototype=a.prototype,r.noConflict=function(){return o.baron=t,r},r.version="0.7.10",e&&e.fn&&(e.fn.baron=r),o.baron=r,o.module&&module.exports&&(module.exports=r.noConflict())}function m(){return(new Date).getTime()}function l(t,n,i){t._eventHandlers=t._eventHandlers||[{element:t.scroller,handler:function(e){t.scroll(e)},type:"scroll"},{element:t.root,handler:function(){t.update()},type:"transitionend animationend"},{element:t.scroller,handler:function(){t.update()},type:"keyup"},{element:t.bar,handler:function(e){e.preventDefault(),t.selection(),t.drag.now=1},type:"touchstart mousedown"},{element:document,handler:function(){t.selection(1),t.drag.now=0},type:"mouseup blur touchend"},{element:document,handler:function(e){2!=e.button&&t._pos0(e)},type:"touchstart mousedown"},{element:document,handler:function(e){t.drag.now&&t.drag(e)},type:"mousemove touchmove"},{element:o,handler:function(){t.update()},type:"resize"},{element:t.root,handler:function(){t.update()},type:"sizeChange"}],s(t._eventHandlers,function(e){e.element&&n(e.element,e.type,e.handler,i)})}function u(e,t,n){var i="data-baron-"+t;if("on"==n)e.setAttribute(i,"inited");else{if("off"!=n)return e.getAttribute(i);e.removeAttribute(i)}}function c(e){var t={};for(var n in e=e||{})e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function v(e){if(this.events&&this.events[e])for(var t=0;t<this.events[e].length;t++){var n=Array.prototype.slice.call(arguments,1);this.events[e][t].apply(this,n)}}}(window,window.$),function(){function n(e){var r,s,a={outside:"",inside:"",before:"",after:"",past:"",future:"",radius:0,minView:0},l=[],u=[],c=[],t=this.scroller,d=this.event,h=this.$,f=this;function p(e,t,n){var i=1==n?"pos":"oppos";s<(a.minView||0)&&(t=void 0),this.$(r[e]).css(this.origin.pos,"").css(this.origin.oppos,"").removeClass(a.outside),void 0!==t&&(t+="px",this.$(r[e]).css(this.origin[i],t).addClass(a.outside))}function g(e){try{i=document.createEvent("WheelEvent"),i.initWebKitWheelEvent(e.originalEvent.wheelDeltaX,e.originalEvent.wheelDeltaY),t.dispatchEvent(i),e.preventDefault()}catch(e){}}function n(e){var t;for(var n in e)a[n]=e[n];if(r=this.$(a.elements,this.scroller)){s=this.scroller[this.origin.client];for(var i=0;i<r.length;i++)(t={})[this.origin.size]=r[i][this.origin.offset],r[i].parentNode!==this.scroller&&this.$(r[i].parentNode).css(t),(t={})[this.origin.crossSize]=r[i].parentNode[this.origin.crossClient],this.$(r[i]).css(t),s-=r[i][this.origin.offset],c[i]=r[i].parentNode[this.origin.offsetPos],l[i]=l[i-1]||0,u[i]=u[i-1]||Math.min(c[i],0),r[i-1]&&(l[i]+=r[i-1][this.origin.offset],u[i]+=r[i-1][this.origin.offset]),0==i&&0==c[i]||(this.event(r[i],"mousewheel",g,"off"),this.event(r[i],"mousewheel",g));a.limiter&&r[0]&&(this.track&&this.track!=this.scroller?((t={})[this.origin.pos]=r[0].parentNode[this.origin.offset],this.$(this.track).css(t)):this.barTopLimit=r[0].parentNode[this.origin.offset],this.scroll()),!1===a.limiter&&(this.barTopLimit=0)}var o={element:r,handler:function(){for(var e,t=h(this)[0].parentNode.offsetTop,n=0;n<r.length;n++)r[n]===this&&(e=n);var i=t-l[e];a.scroll?a.scroll({x1:f.scroller.scrollTop,x2:i}):f.scroller.scrollTop=i},type:"click"};a.clickable&&(this._eventHandlers.push(o),d(o.element,o.type,o.handler,"on"))}this.on("init",n,e);var m=[],v=[];this.on("init scroll",function(){var e,t,n;if(r){for(var i,o=0;o<r.length;o++)e=0,t=c[o]-this.pos()<u[o]+a.radius?(e=1,l[o]):c[o]-this.pos()>u[o]+s-a.radius?(e=2,this.scroller[this.origin.client]-r[o][this.origin.offset]-l[o]-s):void(e=3),n=!1,(c[o]-this.pos()<u[o]||c[o]-this.pos()>u[o]+s)&&(n=!0),e==m[o]&&n==v[o]||(p.call(this,o,t,e),m[o]=e,v[o]=n,i=!0);if(i)for(o=0;o<r.length;o++)1==m[o]&&a.past&&this.$(r[o]).addClass(a.past).removeClass(a.future),2==m[o]&&a.future&&this.$(r[o]).addClass(a.future).removeClass(a.past),3==m[o]?((a.future||a.past)&&this.$(r[o]).removeClass(a.past).removeClass(a.future),a.inside&&this.$(r[o]).addClass(a.inside)):a.inside&&this.$(r[o]).removeClass(a.inside),m[o]!=m[o+1]&&1==m[o]&&a.before?this.$(r[o]).addClass(a.before).removeClass(a.after):m[o]!=m[o-1]&&2==m[o]&&a.after?this.$(r[o]).addClass(a.after).removeClass(a.before):this.$(r[o]).removeClass(a.before).removeClass(a.after),a.grad&&(v[o]?this.$(r[o]).addClass(a.grad):this.$(r[o]).removeClass(a.grad))}}),this.on("resize upd",function(e){n.call(this,e&&e.fix)})}baron.fn.fix=function(e){for(var t=0;this[t];)n.call(this[t],e),t++;return this}}(window),function(e){function n(){var e,t=this;function n(){t.root[t.origin.offset]?i():function(){if(e)return;e=setInterval(function(){t.root[t.origin.offset]&&(i(),t.update())},300)}()}function i(){clearInterval(e),e=null}var o=t._debounce(function(){t.update()},300);this._observer=new r(function(){n(),t.update(),o()}),this.on("init",function(){t._observer.observe(t.root,{childList:!0,subtree:!0,characterData:!0}),n()}),this.on("dispose",function(){t._observer.disconnect(),i(),delete t._observer})}var r=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver||null;baron.fn.autoUpdate=function(e){if(!r)return this;for(var t=0;this[t];)n.call(this[t],e),t++;return this}}(window),function(){function n(t){var e,r,n,s=this;r=t.screen||.9,t.forward&&(n={element:this.$(t.forward,this.clipper),handler:function(){var e=s.pos()-t.delta||30;s.pos(e)},type:"click"},this._eventHandlers.push(n),this.event(n.element,n.type,n.handler,"on")),t.backward&&(n={element:this.$(t.backward,this.clipper),handler:function(){var e=s.pos()+t.delta||30;s.pos(e)},type:"click"},this._eventHandlers.push(n),this.event(n.element,n.type,n.handler,"on")),t.track&&(e=!0===t.track?this.track:this.$(t.track,this.clipper)[0])&&(n={element:e,handler:function(e){var t=e["offset"+s.origin.x],n=s.bar[s.origin.offsetPos],i=0;t<n?i=-1:t>n+s.bar[s.origin.offset]&&(i=1);var o=s.pos()+i*r*s.scroller[s.origin.client];s.pos(o)},type:"mousedown"},this._eventHandlers.push(n),this.event(n.element,n.type,n.handler,"on"))}baron.fn.controls=function(e){for(var t=0;this[t];)n.call(this[t],e),t++;return this}}(window),function(){function n(a){var t,l,u,n,c=this.$(a.block),d=a.size||this.origin.size,h=a.limit||80,f=a.onExpand,p=a.elements||[],g=a.inProgress||"",m=this,v=0,_=0,y=0,b=a.waiting||500;function w(){return m.scroller[m.origin.scroll]+m.scroller[m.origin.offset]}function E(){return m.scroller[m.origin.scrollSize]}function C(e){(n=e)?(i(),t=setInterval(i,200)):clearInterval(t)}function i(){var e,t,n={},i=w(),o=E(),r=1==v;if((t=0)<v&&(t=40),e=function(e,t){var n=5e-4*e;return Math.floor(t-n*(e+550))}(y,t),o-y<=i&&-1<v?r&&(y+=e):y=0,y<0&&(y=0),n[d]=y+"px",m.scroller[m.origin.client]<=E()){m.$(c).css(n);for(var s=0;s<p.length;s++)m.$(p[s].self).css(p[s].property,Math.min(y/h*100,100)+"%")}g&&y&&m.$(m.root).addClass(g),0==y&&a.onCollapse&&a.onCollapse(),v=0,l=setTimeout(function(){v=-1},b),f&&h<y&&!u&&(f(),u=!0),0==y?_++:_=0,1<_&&(C(!1),u=!1,g&&m.$(m.root).removeClass(g))}this.on("init",function(){C(!0)}),this.on("dispose",function(){C(!1)}),this.event(this.scroller,"mousewheel DOMMouseScroll",function(e){(e.wheelDelta<0||e.originalEvent&&e.originalEvent.wheelDelta<0||0<e.detail)&&(v=1,clearTimeout(l),!n&&w()>=E()&&C(!0))})}baron.fn.pull=function(e){for(var t=0;this[t];)n.call(this[t],e),t++;return this}}(window);var COMPILED=!0,goog=goog||{};goog.global=this,goog.DEBUG=!0,goog.LOCALE="en",goog.provide=function(e){if(!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e];for(var t=e;(t=t.substring(0,t.lastIndexOf(".")))&&!goog.getObjectByName(t);)goog.implicitNamespaces_[t]=!0}goog.exportPath_(e)},goog.setTestOnly=function(e){if(COMPILED&&!goog.DEBUG)throw e=e||"",Error(": "+e)},COMPILED||(goog.isProvided_=function(e){return!goog.implicitNamespaces_[e]&&!!goog.getObjectByName(e)},goog.implicitNamespaces_={}),goog.exportPath_=function(e,t,n){e=e.split("."),n=n||goog.global,e[0]in n||!n.execScript||n.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)!e.length&&goog.isDef(t)?n[i]=t:n=n[i]?n[i]:n[i]={}},goog.getObjectByName=function(e,t){for(var n,i=e.split("."),o=t||goog.global;n=i.shift();){if(!goog.isDefAndNotNull(o[n]))return null;o=o[n]}return o},goog.globalize=function(e,t){var n,i=t||goog.global;for(n in e)i[n]=e[n]},goog.addDependency=function(e,t,n){if(!COMPILED){e=e.replace(/\\/g,"/");for(var i,o=goog.dependencies_,r=0;i=t[r];r++)(o.nameToPath[i]=e)in o.pathToNames||(o.pathToNames[e]={}),o.pathToNames[e][i]=!0;for(i=0;t=n[i];i++)e in o.requires||(o.requires[e]={}),o.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.require=function(e){if(!COMPILED&&!goog.isProvided_(e)){if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.included_[t]=!0,void goog.writeScripts_()}throw e="goog.require could not find: "+e,goog.global.console&&goog.global.console.error(e),Error(e)}},goog.basePath="",goog.nullFunction=function(){},goog.identityFunction=function(e){return e},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return void 0!==e&&"write"in e},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("script"),t=e.length-1;0<=t;--t){var n=e[t].src,i=-1==(i=n.lastIndexOf("?"))?n.length:i;if("base.js"==n.substr(i-7,7)){goog.basePath=n.substr(0,i-7);break}}},goog.importScript_=function(e){var t=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[e]&&t(e)&&(goog.dependencies_.written[e]=!0)},goog.writeScriptTag_=function(e){return!!goog.inHtmlDocument_()&&(goog.global.document.write('<script type="text/javascript" src="'+e+'"><\/script>'),!0)},goog.writeScripts_=function(){function n(e){if(!(e in r.written)){if(!(e in r.visited)&&(r.visited[e]=!0,e in r.requires))for(var t in r.requires[e])if(!goog.isProvided_(t)){if(!(t in r.nameToPath))throw Error("Undefined nameToPath for "+t);n(r.nameToPath[t])}e in o||(o[e]=!0,i.push(e))}}var e,i=[],o={},r=goog.dependencies_;for(e in goog.included_)r.written[e]||n(e);for(e=0;e<i.length;e++){if(!i[e])throw Error("Undefined script input");goog.importScript_(goog.basePath+i[e])}},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isDef=function(e){return void 0!==e},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){if("object"!=(n=goog.typeOf(e))&&"array"!=n)return e;if(e.clone)return e.clone();var t,n="array"==n?[]:{};for(t in e)n[t]=goog.cloneObject(e[t]);return n},goog.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(t,n,e){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,i),t.apply(n,e)}}return function(){return t.apply(n,arguments)}},goog.bind=function(e,t,n){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);return e.unshift.apply(e,n),t.apply(this,e)}},goog.mixin=function(e,t){for(var n in t)e[n]=t[n]},goog.now=Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),void 0!==goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,n=t.createElement("script");n.type="text/javascript",n.defer=!1,n.appendChild(t.createTextNode(e)),t.body.appendChild(n),t.body.removeChild(n)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){function i(e){return goog.cssNameMapping_[e]||e}var n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(i(e[n]));return t.join("-")};n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?i:n:function(e){return e};return t?e+"-"+n(t):n(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){var n,i=t||{};for(n in i){var o=(""+i[n]).replace(/\$/g,"$$$$");e=e.replace(RegExp("\\{\\$"+n+"\\}","gi"),o)}return e},goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,n)},goog.exportProperty=function(e,t,n){e[t]=n},goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e},goog.base=function(e,t,n){var i=arguments.callee.caller;if(i.superClass_)return i.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1));for(var o=Array.prototype.slice.call(arguments,2),r=!1,s=e.constructor;s;s=s.superClass_&&s.superClass_.constructor)if(s.prototype[t]===i)r=!0;else if(r)return s.prototype[t].apply(e,o);if(e[t]===i)return e.constructor.prototype[t].apply(e,o);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)};var crow={util:{}};crow.util.MonkeyPatches={},Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,i=this.length>>>0;for((n=(n=Number(t)||0)<0?Math.ceil(n):Math.floor(n))<0&&(n+=i);n<i;n++)if(n in this&&this[n]===e)return n;return-1}),Array.prototype.shuffle||(Array.prototype.shuffle=function(){for(var e,t,n=this.concat(),i=n.length;i;e=parseInt(Math.random()*i),t=n[--i],n[i]=n[e],n[e]=t);return n}),crow.Logger={},function(){var i={error:1,warn:2,info:3,debug:4,off:-1/0},t=goog.global.console?console:{},o=i.warn;crow.Logger=function(e){this.klass=e},crow.Logger.prototype.getLogLevel=function(){return void 0!==this.klass.LOG_LEVEL?this.klass.LOG_LEVEL:o},crow.Logger.prototype.error=function(){var e=Array.prototype.slice.call(arguments,0);e[0]="Crow Error: "+e[0],t&&t.error&&1<=this.getLogLevel()&&t.error.apply(t,e)},crow.Logger.prototype.warn=function(){var e=Array.prototype.slice.call(arguments,0);e[0]="Crow Warning: "+e[0],t&&t.warn&&2<=this.getLogLevel()&&t.warn.apply(t,e)},crow.Logger.prototype.info=function(){var e=Array.prototype.slice.call(arguments,0);e[0]="Crow Info: "+e[0],t&&t.info&&3<=this.getLogLevel()&&t.info.apply(t,e)},crow.Logger.prototype.debug=function(){var e=Array.prototype.slice.call(arguments,0);e[0]="Crow Debug: "+e[0],t&&t.debug&&4<=this.getLogLevel()&&t.debug.apply(t,e)},crow.Logger.prototype.setLevel=function(e){return crow.Logger.setLevel(e,this.klass)},crow.Logger.setLevel=function(e,t){var n=i[e.toLowerCase()];if("number"!=typeof n)throw Error("Invalid log level: "+e);t?t.LOG_LEVEL=n:o=n},crow.Logger.setAppender=function(e){t=e}}(),crow.util.Assert={},crow.assert=function(e,t){if(!e)throw Error(t)},crow.assert.InvalidArgumentType=function(e){return"Invalid argument type, expected "+e},crow.assert.IncorrectArgumentCount=function(e,t){return"Incorrect argument count, got "+e+" but expected "+t},crow.assert.IndexOutBounds=function(e){return"Index out of bounds (<0 or >length), was "+e},crow.assert.AbstractMethod=function(e){return"Method "+e+" is abstract; must be overridden"},crow.assert.IllegalMethodCall=function(e,t){return"Method `"+e+"` cannot be called here: "+t},crow.structs={},crow.structs.BucketPriorityQueue=function(e){this.arr=[],this.length=0,this.key_comparator=e||crow.structs.BucketPriorityQueue.DEFAULT_KEY_COMPARATOR},crow.structs.BucketPriorityQueue.DEFAULT_KEY_COMPARATOR=function(e,t){return e<t?-1:t<e?1:0},crow.structs.BucketPriorityQueue.REVERSE_KEY_COMPARATOR=function(e,t){return t<e?-1:e<t?1:0},crow.structs.BucketPriorityQueue.prototype.enqueue=function(e,t){this.findBucket(e,!0).push(t),this.length++},crow.structs.BucketPriorityQueue.prototype.dequeue=function(){var e;if(this.length){var t=this.arr[0];e=t.shift(),t.length||this.arr.shift(),this.length--}return e},crow.structs.BucketPriorityQueue.prototype.contains=function(e,t){if(t)throw Error("not implemented yet");for(var n=0;n<this.arr.length;n++)for(var i=this.arr[n],o=0;o<i.length;o++)if(i[o]==e)return!0;return!1},crow.structs.BucketPriorityQueue.prototype.getPriority=function(e){for(var t=0;t<this.arr.length;t++)for(var n=this.arr[t],i=0;i<n.length;i++)if(n[i]==e)return n.key;return null},crow.structs.BucketPriorityQueue.prototype.remove=function(e,t){if(t)throw Error("not implemented yet");for(var n=0;n<this.arr.length;n++)for(var i=this.arr[n],o=0;o<i.length;o++){var r=i[o];if(r==e)return i.splice(o,1),i.length||this.arr.splice(n,1),this.length--,r}},crow.structs.BucketPriorityQueue.prototype.peek=function(){if(this.length)return this.arr[0][0]},crow.structs.BucketPriorityQueue.prototype.peekKey=function(){if(this.length)return this.arr[0].key},crow.structs.BucketPriorityQueue.prototype.each=function(e){for(var t=0;t<this.arr.length;t++){var n=this.arr[t];if(n)for(var i=0;i<n.length;i++)e(n[i],t)}},crow.structs.BucketPriorityQueue.prototype.findBucket=function(e,t){for(var n,i,o,r=this.key_comparator,s=0,a=this.arr.length-1;s<=a;){i=s+Math.floor((a-s)/2);var l=this.arr[i];if((o=r(l.key,e))<0)s=i+1;else{if(!(0<o)){n=l;break}a=i-1}}if(!n&&t){for((n=[]).key=e,s=!1;i<this.arr.length&&!s;i++)0<r(this.arr[i].key,e)&&(this.arr.splice(i,0,n),s=!0);s||this.arr.push(n)}return n},crow.Algorithm=function(){},crow.Algorithm.wrapperNodeGetterTemplate=function(n){return function(e){if(e instanceof n)return e;var t=this.wrapperNode.get(e);return t||(((t=new n(e)).algorithm=this).wrapperNode.set(e,t),t)}},crow.Algorithm.prototype._invalidatePoint=function(e,t){for(var n=t.x,i=t.y,o=0;o<e.nodes.length;o++){var r=e.nodes[o];if(r.x==n&&r.y==i){e.nodes=e.nodes.slice(0,1),e.end=null,e.found=!1;break}}},crow.Algorithm.prototype._invalidateRegion=function(e,t){for(var n=t.x,i=t.y,o=n+t.dx,r=i+t.dy,s=0;s<e.nodes.length;s++){var a=(l=e.nodes[s]).x,l=l.y;if(n<=a&&i<=l&&a<o&&l<r){e.nodes=e.nodes.slice(0,1),e.end=null,e.found=!1;break}}},crow.Algorithm.prototype.continueCalculating=function(e,t){var n=e.nodes[e.nodes.length-1];n=n||e.start;var i={};return t&&(i.limit=t),e.actor&&(i.actor=e.actor),n=this.findPath(n,e.goal,i),e.nodes=e.nodes.concat(n.nodes.slice(1)),e.found=n.found,e.found},crow.Algorithm.NodeMap=function(t){var n={};this.get=function(e){return void 0!==(e=n[e.id])?e:t},this.set=function(e,t){n[e.id]=t}},crow.Algorithm.PriorityQueue=function(){throw Error("A PriorityQueue class is required, but none found!")},crow.Algorithm.initializeDataStructures=function(){crow.Algorithm.PriorityQueue=crow.structs.BucketPriorityQueue,crow.Algorithm.initializeDataStructures=function(){}},goog.disposable={},goog.disposable.IDisposable=function(){},goog.Disposable=function(){goog.Disposable.ENABLE_MONITORING&&(this.creationStack=Error().stack,goog.Disposable.instances_[goog.getUid(this)]=this)},goog.Disposable.ENABLE_MONITORING=!1,goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(e)&&t.push(goog.Disposable.instances_[Number(e)]);return t},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.ENABLE_MONITORING)){var e=goog.getUid(this);if(!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.dependentDisposables_||(this.dependentDisposables_=[]),this.dependentDisposables_.push(e)},goog.Disposable.prototype.addOnDisposeCallback=function(e,t){this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.bind(e,t))},goog.Disposable.prototype.disposeInternal=function(){if(this.dependentDisposables_&&goog.disposeAll.apply(null,this.dependentDisposables_),this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},goog.disposeAll=function(e){for(var t=0,n=arguments.length;t<n;++t){var i=arguments[t];goog.isArrayLike(i)?goog.disposeAll.apply(null,i):goog.dispose(i)}},goog.debug={},goog.debug.Error=function(e){Error.captureStackTrace?Error.captureStackTrace(this,goog.debug.Error):this.stack=Error().stack||"",e&&(this.message=String(e))},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.string={},goog.string.Unicode={NBSP:""},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.endsWith=function(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)==n},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.subs=function(e,t){for(var n=1;n<arguments.length;n++){var i=String(arguments[n]).replace(/\$/g,"$$$$");e=e.replace(/\%s/,i)}return e},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmpty=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptySafe=function(e){return goog.string.isEmpty(goog.string.makeSafe(e))},goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&e<="~"||""<=e&&e<=""},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){var n=String(e).toLowerCase(),i=String(t).toLowerCase();return n<i?-1:n==i?0:1},goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,goog.string.numerateCompare=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(goog.string.numerateCompareRegExp_),i=t.toLowerCase().match(goog.string.numerateCompareRegExp_),o=Math.min(n.length,i.length),r=0;r<o;r++){var s=n[r],a=i[r];if(s!=a)return n=parseInt(s,10),!isNaN(n)&&(i=parseInt(a,10),!isNaN(i)&&n-i)?n-i:s<a?-1:1}return n.length!=i.length?n.length-i.length:e<t?-1:1},goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){return t?e.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;"):(goog.string.allRe_.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(goog.string.amperRe_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.ltRe_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.gtRe_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.quotRe_,"&quot;"))),e)},goog.string.amperRe_=/&/g,goog.string.ltRe_=/</g,goog.string.gtRe_=/>/g,goog.string.quotRe_=/\"/g,goog.string.allRe_=/[&<>\"]/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesUsingDom_=function(e){var o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},r=document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var n=o[e];if(n)return n;if("#"==t.charAt(0)){var i=Number("0"+t.substr(1));isNaN(i)||(n=String.fromCharCode(i))}return n||(r.innerHTML=e+" ",n=r.firstChild.nodeValue.slice(0,-1)),o[e]=n})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var n=Number("0"+t.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.stripQuotes=function(e,t){for(var n=t.length,i=0;i<n;i++){var o=1==n?t:t.charAt(i);if(e.charAt(0)==o&&e.charAt(e.length-1)==o)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,n){return n&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),n&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,n,i){if(n&&(e=goog.string.unescapeEntities(e)),i&&e.length>t){t<i&&(i=t);var o=e.length-i;e=e.substring(0,t-i)+"..."+e.substring(o)}else e.length>t&&(i=Math.floor(t/2),o=e.length-i,e=e.substring(0,i+t%2)+"..."+e.substring(o));return n&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){if((e=String(e)).quote)return e.quote();for(var t=['"'],n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);t[n+1]=goog.string.specialEscapeChars_[i]||(31<o&&o<127?i:goog.string.escapeChar(i))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=goog.string.escapeChar(e.charAt(n));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e,n=e.charCodeAt(0);return 31<n&&n<127?t=e:(n<256?(t="\\x",(n<16||256<n)&&(t+="0")):(t="\\u",n<4096&&(t+="0")),t+=n.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.toMap=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=!0;return t},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,n){var i=e;return 0<=t&&t<e.length&&0<n&&(i=e.substr(0,t)+e.substr(t+n,e.length-t-n)),i},goog.string.remove=function(e,t){var n=RegExp(goog.string.regExpEscape(t),"");return e.replace(n,"")},goog.string.removeAll=function(e,t){var n=RegExp(goog.string.regExpEscape(t),"g");return e.replace(n,"")},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,n){return-1==(n=(e=goog.isDef(n)?e.toFixed(n):String(e)).indexOf("."))&&(n=e.length),goog.string.repeat("0",Math.max(0,t-n))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var n=0,i=goog.string.trim(String(e)).split("."),o=goog.string.trim(String(t)).split("."),r=Math.max(i.length,o.length),s=0;0==n&&s<r;s++){var a=i[s]||"",l=o[s]||"",u=RegExp("(\\d*)(\\D*)","g"),c=RegExp("(\\d*)(\\D*)","g");do{var d=u.exec(a)||["","",""],h=c.exec(l)||["","",""];if(0==d[0].length&&0==h[0].length)break;n=0==d[1].length?0:parseInt(d[1],10);var f=0==h[1].length?0:parseInt(h[1],10);n=goog.string.compareElements_(n,f)||goog.string.compareElements_(0==d[2].length,0==h[2].length)||goog.string.compareElements_(d[2],h[2])}while(0==n)}return n},goog.string.compareElements_=function(e,t){return e<t?-1:t<e?1:0},goog.string.HASHCODE_MAX_=4294967296,goog.string.hashCode=function(e){for(var t=0,n=0;n<e.length;++n)t=31*t+e.charCodeAt(n),t%=goog.string.HASHCODE_MAX_;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmpty(e)?NaN:t},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var n=goog.isString(t)?goog.string.regExpEscape(t):"\\s";return e.replace(RegExp("(^"+(n?"|["+n+"]+":"")+")([a-z])","g"),function(e,t,n){return t+n.toUpperCase()})},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.doAssertFailure_=function(e,t,n,i){var o="Assertion failed";if(n){o=o+": "+n;var r=i}else e&&(o+=": "+e,r=t);throw new goog.asserts.AssertionError(""+o,r||[])},goog.asserts.assert=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},goog.asserts.assertNumber=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,n,i){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("instanceof check failed.",null,n,Array.prototype.slice.call(arguments,3)),e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=!0,goog.array.peek=function(e){return e[e.length-1]},goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.indexOf?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:n<0?Math.max(0,e.length+n):n,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.lastIndexOf?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,t,null==n?e.length-1:n)}:function(e,t,n){if((n=null==n?e.length-1:n)<0&&(n=Math.max(0,e.length+n)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,n):-1;for(;0<=n;n--)if(n in e&&e[n]===t)return n;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.forEach?function(e,t,n){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=goog.isString(e)?e.split(""):e,r=0;r<i;r++)r in o&&t.call(n,o[r],r,e)},goog.array.forEachRight=function(e,t,n){var i=e.length,o=goog.isString(e)?e.split(""):e;for(i=i-1;0<=i;--i)i in o&&t.call(n,o[i],i,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.filter?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.filter.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=[],r=0,s=goog.isString(e)?e.split(""):e,a=0;a<i;a++)if(a in s){var l=s[a];t.call(n,l,a,e)&&(o[r++]=l)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.map?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.map.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=Array(i),r=goog.isString(e)?e.split(""):e,s=0;s<i;s++)s in r&&(o[s]=t.call(n,r[s],s,e));return o},goog.array.reduce=function(n,i,e,o){if(n.reduce)return o?n.reduce(goog.bind(i,o),e):n.reduce(i,e);var r=e;return goog.array.forEach(n,function(e,t){r=i.call(o,r,e,t,n)}),r},goog.array.reduceRight=function(n,i,e,o){if(n.reduceRight)return o?n.reduceRight(goog.bind(i,o),e):n.reduceRight(i,e);var r=e;return goog.array.forEachRight(n,function(e,t){r=i.call(o,r,e,t,n)}),r},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.some?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.some.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=goog.isString(e)?e.split(""):e,r=0;r<i;r++)if(r in o&&t.call(n,o[r],r,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.every?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.every.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=goog.isString(e)?e.split(""):e,r=0;r<i;r++)if(r in o&&!t.call(n,o[r],r,e))return!1;return!0},goog.array.find=function(e,t,n){return(t=goog.array.findIndex(e,t,n))<0?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,n){for(var i=e.length,o=goog.isString(e)?e.split(""):e,r=0;r<i;r++)if(r in o&&t.call(n,o[r],r,e))return r;return-1},goog.array.findRight=function(e,t,n){return(t=goog.array.findIndexRight(e,t,n))<0?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,n){var i=e.length,o=goog.isString(e)?e.split(""):e;for(i=i-1;0<=i;i--)if(i in o&&t.call(n,o[i],i,e))return i;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,n){goog.array.splice(e,n,0,t)},goog.array.insertArrayAt=function(e,t,n){goog.partial(goog.array.splice,e,n,0).apply(null,t)},goog.array.insertBefore=function(e,t,n){var i;2==arguments.length||(i=goog.array.indexOf(e,n))<0?e.push(t):goog.array.insertAt(e,t,i)},goog.array.remove=function(e,t){var n,i=goog.array.indexOf(e,t);return(n=0<=i)&&goog.array.removeAt(e,i),n},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==goog.array.ARRAY_PROTOTYPE_.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,n){return 0<=(t=goog.array.findIndex(e,t,n))&&(goog.array.removeAt(e,t),!0)},goog.array.concat=function(e){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var n=1;n<arguments.length;n++){var i,o=arguments[n];if(goog.isArray(o)||(i=goog.isArrayLike(o))&&o.hasOwnProperty("callee"))e.push.apply(e,o);else if(i)for(var r=e.length,s=o.length,a=0;a<s;a++)e[r+a]=o[a];else e.push(o)}},goog.array.splice=function(e,t,n,i){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,n){return goog.asserts.assert(null!=e.length),arguments.length<=2?goog.array.ARRAY_PROTOTYPE_.slice.call(e,t):goog.array.ARRAY_PROTOTYPE_.slice.call(e,t,n)},goog.array.removeDuplicates=function(e,t){for(var n=t||e,i={},o=0,r=0;r<e.length;){var s=e[r++],a=goog.isObject(s)?"o"+goog.getUid(s):(typeof s).charAt(0)+s;Object.prototype.hasOwnProperty.call(i,a)||(i[a]=!0,n[o++]=s)}n.length=o},goog.array.binarySearch=function(e,t,n){return goog.array.binarySearch_(e,n||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,n){return goog.array.binarySearch_(e,t,!0,void 0,n)},goog.array.binarySearch_=function(e,t,n,i,o){for(var r,s=0,a=e.length;s<a;){var l,u=s+a>>1;0<(l=n?t.call(o,e[u],u,e):t(i,e[u]))?s=1+u:(a=u,r=!l)}return r?s:~s},goog.array.sort=function(e,t){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.sort.call(e,t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var n=0;n<e.length;n++)e[n]={index:n,value:e[n]};var i=t||goog.array.defaultCompare;for(goog.array.sort(e,function(e,t){return i(e.value,t.value)||e.index-t.index}),n=0;n<e.length;n++)e[n]=e[n].value},goog.array.sortObjectsByKey=function(e,n,t){var i=t||goog.array.defaultCompare;goog.array.sort(e,function(e,t){return i(e[n],t[n])})},goog.array.isSorted=function(e,t,n){t=t||goog.array.defaultCompare;for(var i=1;i<e.length;i++){var o=t(e[i-1],e[i]);if(0<o||0==o&&n)return!1}return!0},goog.array.equals=function(e,t,n){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;for(var i=e.length,o=(n=n||goog.array.defaultCompareEquality,0);o<i;o++)if(!n(e[o],t[o]))return!1;return!0},goog.array.compare=function(e,t,n){return goog.array.equals(e,t,n)},goog.array.compare3=function(e,t,n){n=n||goog.array.defaultCompare;for(var i=Math.min(e.length,t.length),o=0;o<i;o++){var r=n(e[o],t[o]);if(0!=r)return r}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return t<e?1:e<t?-1:0},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,n){return(n=goog.array.binarySearch(e,t,n))<0&&(goog.array.insertAt(e,t,-(n+1)),!0)},goog.array.binaryRemove=function(e,t,n){return 0<=(t=goog.array.binarySearch(e,t,n))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t){for(var n={},i=0;i<e.length;i++){var o=e[i],r=t(o,i,e);goog.isDef(r)&&(n[r]||(n[r]=[])).push(o)}return n},goog.array.repeat=function(e,t){for(var n=[],i=0;i<t;i++)n[i]=e;return n},goog.array.flatten=function(e){for(var t=[],n=0;n<arguments.length;n++){var i=arguments[n];goog.isArray(i)?t.push.apply(t,goog.array.flatten.apply(null,i)):t.push(i)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?goog.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-t,t)):t<0&&goog.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-t))),e},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],n=0;;n++){for(var i=[],o=0;o<arguments.length;o++){var r=arguments[o];if(n>=r.length)return t;i.push(r[n])}t.push(i)}},goog.array.shuffle=function(e,t){for(var n=t||Math.random,i=e.length-1;0<i;i--){var o=Math.floor(n()*(i+1)),r=e[i];e[i]=e[o],e[o]=r}},goog.debug.entryPointRegistry={},goog.debug.EntryPointMonitor=function(){},goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var t=goog.debug.entryPointRegistry.monitors_,n=0;n<t.length;n++)e(goog.bind(t[n].wrap,t[n]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=goog.bind(e.wrap,e),n=0;n<goog.debug.entryPointRegistry.refList_.length;n++)goog.debug.entryPointRegistry.refList_[n](t);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped.");e=goog.bind(e.unwrap,e);for(var n=0;n<goog.debug.entryPointRegistry.refList_.length;n++)goog.debug.entryPointRegistry.refList_[n](e);t.length--},goog.debug.errorHandlerWeakDep={protectEntryPoint:function(e){return e}},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.global.navigator?goog.global.navigator.userAgent:null},goog.userAgent.getNavigator=function(){return goog.global.navigator},goog.userAgent.init_=function(){var e;if(goog.userAgent.detectedOpera_=!1,goog.userAgent.detectedIe_=!1,goog.userAgent.detectedWebkit_=!1,goog.userAgent.detectedMobile_=!1,goog.userAgent.detectedGecko_=!1,!goog.userAgent.BROWSER_KNOWN_&&(e=goog.userAgent.getUserAgentString())){var t=goog.userAgent.getNavigator();goog.userAgent.detectedOpera_=0==e.indexOf("Opera"),goog.userAgent.detectedIe_=!goog.userAgent.detectedOpera_&&-1!=e.indexOf("MSIE"),goog.userAgent.detectedWebkit_=!goog.userAgent.detectedOpera_&&-1!=e.indexOf("WebKit"),goog.userAgent.detectedMobile_=goog.userAgent.detectedWebkit_&&-1!=e.indexOf("Mobile"),goog.userAgent.detectedGecko_=!goog.userAgent.detectedOpera_&&!goog.userAgent.detectedWebkit_&&"Gecko"==t.product}},goog.userAgent.BROWSER_KNOWN_||goog.userAgent.init_(),goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.userAgent.detectedOpera_,goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.userAgent.detectedIe_,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.userAgent.detectedGecko_,goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.userAgent.detectedWebkit_,goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.detectedMobile_,goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11,goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac"),goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win"),goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux"),goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator().appVersion||"","X11")},goog.userAgent.PLATFORM_KNOWN_||goog.userAgent.initPlatform_(),goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_,goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_,goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_,goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_,goog.userAgent.determineVersion_=function(){var e,t="";return goog.userAgent.OPERA&&goog.global.opera?t="function"==typeof(t=goog.global.opera.version)?t():t:(goog.userAgent.GECKO?e=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?e=/MSIE\s+([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(goog.userAgent.getUserAgentString()))?t[1]:"")),goog.userAgent.IE&&(e=goog.userAgent.getDocumentMode_())>parseFloat(t)?String(e):t},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionCache_={},goog.userAgent.isVersion=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionCache_[e]||(goog.userAgent.isVersionCache_[e]=0<=goog.string.compareVersions(goog.userAgent.VERSION,e))},goog.userAgent.isDocumentModeCache_={},goog.userAgent.isDocumentMode=function(e){return goog.userAgent.isDocumentModeCache_[e]||(goog.userAgent.isDocumentModeCache_[e]=goog.userAgent.IE&&!!document.documentMode&&document.documentMode>=e)},goog.events={},goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersion("8"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersion("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersion("8")||goog.userAgent.OPERA&&goog.userAgent.isVersion("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersion("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersion("8")||goog.userAgent.IE&&!goog.userAgent.isVersion("9")},goog.events.Event=function(e,t){this.type=e,this.currentTarget=this.target=t},goog.events.Event.prototype.disposeInternal=function(){},goog.events.Event.prototype.dispose=function(){},goog.events.Event.prototype.propagationStopped_=!1,goog.events.Event.prototype.defaultPrevented=!1,goog.events.Event.prototype.returnValue_=!0,goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.events.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",CONTEXTMENU:"contextmenu",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",TRANSITIONEND:goog.userAgent.WEBKIT?"webkitTransitionEnd":goog.userAgent.OPERA?"oTransitionEnd":"transitionend"},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.events.BrowserEvent=function(e,t){e&&this.init(e,t)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.IEButtonMap=[1,4,2],goog.events.BrowserEvent.prototype.target=null,goog.events.BrowserEvent.prototype.relatedTarget=null,goog.events.BrowserEvent.prototype.offsetX=0,goog.events.BrowserEvent.prototype.offsetY=0,goog.events.BrowserEvent.prototype.clientX=0,goog.events.BrowserEvent.prototype.clientY=0,goog.events.BrowserEvent.prototype.screenX=0,goog.events.BrowserEvent.prototype.screenY=0,goog.events.BrowserEvent.prototype.button=0,goog.events.BrowserEvent.prototype.keyCode=0,goog.events.BrowserEvent.prototype.charCode=0,goog.events.BrowserEvent.prototype.ctrlKey=!1,goog.events.BrowserEvent.prototype.altKey=!1,goog.events.BrowserEvent.prototype.shiftKey=!1,goog.events.BrowserEvent.prototype.metaKey=!1,goog.events.BrowserEvent.prototype.platformModifierKey=!1,goog.events.BrowserEvent.prototype.event_=null,goog.events.BrowserEvent.prototype.init=function(e,t){var n=this.type=e.type;goog.events.Event.call(this,n),this.target=e.target||e.srcElement,this.currentTarget=t;var i=e.relatedTarget;i?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(i,"nodeName")||(i=null)):n==goog.events.EventType.MOUSEOVER?i=e.fromElement:n==goog.events.EventType.MOUSEOUT&&(i=e.toElement),this.relatedTarget=i,this.offsetX=goog.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,(this.event_=e).defaultPrevented&&this.preventDefault(),delete this.propagationStopped_},goog.events.BrowserEvent.prototype.isButton=function(e){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[e])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.BrowserEvent.prototype.disposeInternal=function(){},goog.events.EventWrapper=function(){},goog.events.EventWrapper.prototype.listen=function(){},goog.events.EventWrapper.prototype.unlisten=function(){},goog.events.Listener=function(){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack)},goog.events.Listener.counter_=0,goog.events.Listener.ENABLE_MONITORING=!1,goog.events.Listener.prototype.key=0,goog.events.Listener.prototype.removed=!1,goog.events.Listener.prototype.callOnce=!1,goog.events.Listener.prototype.init=function(e,t,n,i,o,r){if(goog.isFunction(e))this.isFunctionListener_=!0;else{if(!(e&&e.handleEvent&&goog.isFunction(e.handleEvent)))throw Error("Invalid listener argument");this.isFunctionListener_=!1}this.listener=e,this.proxy=t,this.src=n,this.type=i,this.capture=!!o,this.handler=r,this.callOnce=!1,this.key=++goog.events.Listener.counter_,this.removed=!1},goog.events.Listener.prototype.handleEvent=function(e){return this.isFunctionListener_?this.listener.call(this.handler||this.src,e):this.listener.handleEvent.call(this.listener,e)},goog.object={},goog.object.forEach=function(e,t,n){for(var i in e)t.call(n,e[i],i,e)},goog.object.filter=function(e,t,n){var i,o={};for(i in e)t.call(n,e[i],i,e)&&(o[i]=e[i]);return o},goog.object.map=function(e,t,n){var i,o={};for(i in e)o[i]=t.call(n,e[i],i,e);return o},goog.object.some=function(e,t,n){for(var i in e)if(t.call(n,e[i],i,e))return!0;return!1},goog.object.every=function(e,t,n){for(var i in e)if(!t.call(n,e[i],i,e))return!1;return!0},goog.object.getCount=function(e){var t,n=0;for(t in e)n++;return n},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,n=[],i=0;for(t in e)n[i++]=e[t];return n},goog.object.getKeys=function(e){var t,n=[],i=0;for(t in e)n[i++]=t;return n},goog.object.getValueByKeys=function(e,t){for(var n=(i=goog.isArrayLike(t))?t:arguments,i=i?0:1;i<n.length&&(e=e[n[i]],goog.isDef(e));i++);return e},goog.object.containsKey=function(e,t){return t in e},goog.object.containsValue=function(e,t){for(var n in e)if(e[n]==t)return!0;return!1},goog.object.findKey=function(e,t,n){for(var i in e)if(t.call(n,e[i],i,e))return i},goog.object.findValue=function(e,t,n){return(t=goog.object.findKey(e,t,n))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var n;return(n=t in e)&&delete e[t],n},goog.object.add=function(e,t,n){if(t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,n)},goog.object.get=function(e,t,n){return t in e?e[t]:n},goog.object.set=function(e,t,n){e[t]=n},goog.object.setIfUndefined=function(e,t,n){return t in e?e[t]:e[t]=n},goog.object.clone=function(e){var t,n={};for(t in e)n[t]=e[t];return n},goog.object.unsafeClone=function(e){if("object"!=(n=goog.typeOf(e))&&"array"!=n)return e;if(e.clone)return e.clone();var t,n="array"==n?[]:{};for(t in e)n[t]=goog.object.unsafeClone(e[t]);return n},goog.object.transpose=function(e){var t,n={};for(t in e)n[e[t]]=t;return n},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var n,i,o=1;o<arguments.length;o++){for(n in i=arguments[o])e[n]=i[n];for(var r=0;r<goog.object.PROTOTYPE_FIELDS_.length;r++)n=goog.object.PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(e))return goog.object.create.apply(null,e);if(t%2)throw Error("Uneven number of arguments");for(var n={},i=0;i<t;i+=2)n[arguments[i]]=arguments[i+1];return n},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(e))return goog.object.createSet.apply(null,e);for(var n={},i=0;i<t;i++)n[arguments[i]]=!0;return n},goog.events.listeners_={},goog.events.listenerTree_={},goog.events.sources_={},goog.events.onString_="on",goog.events.onStringMap_={},goog.events.keySeparator_="_",goog.events.listen=function(e,t,n,i,o){if(t){if(goog.isArray(t)){for(var r=0;r<t.length;r++)goog.events.listen(e,t[r],n,i,o);return null}i=!!i;t in(a=goog.events.listenerTree_)||(a[t]={count_:0,remaining_:0}),i in(a=a[t])||(a[i]={count_:0,remaining_:0},a.count_++);var s,a=a[i],l=goog.getUid(e);if(a.remaining_++,a[l]){for(s=a[l],r=0;r<s.length;r++)if((a=s[r]).listener==n&&a.handler==o){if(a.removed)break;return s[r].key}}else s=a[l]=[],a.count_++;return(r=goog.events.getProxy()).src=e,(a=new goog.events.Listener).init(n,r,e,t,i,o),n=a.key,r.key=n,s.push(a),goog.events.listeners_[n]=a,goog.events.sources_[l]||(goog.events.sources_[l]=[]),goog.events.sources_[l].push(a),e.addEventListener?e!=goog.global&&e.customEvent_||e.addEventListener(t,r,i):e.attachEvent(goog.events.getOnString_(t),r),n}throw Error("Invalid event type")},goog.events.getProxy=function(){var t=goog.events.handleBrowserEvent_,n=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(e){return t.call(n.src,n.key,e)}:function(e){if(!(e=t.call(n.src,n.key,e)))return e};return n},goog.events.listenOnce=function(e,t,n,i,o){if(goog.isArray(t)){for(var r=0;r<t.length;r++)goog.events.listenOnce(e,t[r],n,i,o);return null}return e=goog.events.listen(e,t,n,i,o),goog.events.listeners_[e].callOnce=!0,e},goog.events.listenWithWrapper=function(e,t,n,i,o){t.listen(e,n,i,o)},goog.events.unlisten=function(e,t,n,i,o){if(goog.isArray(t)){for(var r=0;r<t.length;r++)goog.events.unlisten(e,t[r],n,i,o);return null}if(i=!!i,!(e=goog.events.getListeners_(e,t,i)))return!1;for(r=0;r<e.length;r++)if(e[r].listener==n&&e[r].capture==i&&e[r].handler==o)return goog.events.unlistenByKey(e[r].key);return!1},goog.events.unlistenByKey=function(e){if(!goog.events.listeners_[e])return!1;var t=goog.events.listeners_[e];if(t.removed)return!1;var n=t.src,i=t.type,o=t.proxy,r=t.capture;return n.removeEventListener?n!=goog.global&&n.customEvent_||n.removeEventListener(i,o,r):n.detachEvent&&n.detachEvent(goog.events.getOnString_(i),o),n=goog.getUid(n),goog.events.sources_[n]&&(o=goog.events.sources_[n],goog.array.remove(o,t),0==o.length&&delete goog.events.sources_[n]),t.removed=!0,(t=goog.events.listenerTree_[i][r][n])&&(t.needsCleanup_=!0,goog.events.cleanUp_(i,r,n,t)),delete goog.events.listeners_[e],!0},goog.events.unlistenWithWrapper=function(e,t,n,i,o){t.unlisten(e,n,i,o)},goog.events.cleanUp_=function(e,t,n,i){if(!i.locked_&&i.needsCleanup_){for(var o=0,r=0;o<i.length;o++)i[o].removed?i[o].proxy.src=null:(o!=r&&(i[r]=i[o]),r++);i.length=r,i.needsCleanup_=!1,0==r&&(delete goog.events.listenerTree_[e][t][n],goog.events.listenerTree_[e][t].count_--,0==goog.events.listenerTree_[e][t].count_&&(delete goog.events.listenerTree_[e][t],goog.events.listenerTree_[e].count_--),0==goog.events.listenerTree_[e].count_&&delete goog.events.listenerTree_[e])}},goog.events.removeAll=function(e,i,o){var r=0,s=null==i,a=null==o;o=!!o;if(null==e)goog.object.forEach(goog.events.sources_,function(e){for(var t=e.length-1;0<=t;t--){var n=e[t];!s&&i!=n.type||!a&&o!=n.capture||(goog.events.unlistenByKey(n.key),r++)}});else if(e=goog.getUid(e),goog.events.sources_[e])for(var t=(e=goog.events.sources_[e]).length-1;0<=t;t--){var n=e[t];!s&&i!=n.type||!a&&o!=n.capture||(goog.events.unlistenByKey(n.key),r++)}return r},goog.events.getListeners=function(e,t,n){return goog.events.getListeners_(e,t,n)||[]},goog.events.getListeners_=function(e,t,n){var i=goog.events.listenerTree_;return t in i&&(n in(i=i[t])&&(i=i[n])[e=goog.getUid(e)])?i[e]:null},goog.events.getListener=function(e,t,n,i,o){if(i=!!i,e=goog.events.getListeners_(e,t,i))for(t=0;t<e.length;t++)if(!e[t].removed&&e[t].listener==n&&e[t].capture==i&&e[t].handler==o)return e[t];return null},goog.events.hasListener=function(e,t,n){e=goog.getUid(e);var i=goog.events.sources_[e];if(i){var o=goog.isDef(t),r=goog.isDef(n);return o&&r?!!(i=goog.events.listenerTree_[t])&&!!i[n]&&e in i[n]:!o&&!r||goog.array.some(i,function(e){return o&&e.type==t||r&&e.capture==n})}return!1},goog.events.expose=function(e){var t,n=[];for(t in e)e[t]&&e[t].id?n.push(t+" = "+e[t]+" ("+e[t].id+")"):n.push(t+" = "+e[t]);return n.join("\n")},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,t,n,i){var o=goog.events.listenerTree_;return!(t in o&&n in(o=o[t]))||goog.events.fireListeners_(o[n],e,t,n,i)},goog.events.fireListeners_=function(e,t,n,i,o){var r=1;if(e[t=goog.getUid(t)]){e.remaining_--,(e=e[t]).locked_?e.locked_++:e.locked_=1;try{for(var s=e.length,a=0;a<s;a++){var l=e[a];l&&!l.removed&&(r&=!1!==goog.events.fireListener(l,o))}}finally{e.locked_--,goog.events.cleanUp_(n,i,t,e)}}return Boolean(r)},goog.events.fireListener=function(e,t){return e.callOnce&&goog.events.unlistenByKey(e.key),e.handleEvent(t)},goog.events.getTotalListenerCount=function(){return goog.object.getCount(goog.events.listeners_)},goog.events.dispatchEvent=function(e,t){if(!((r=t.type||t)in(o=goog.events.listenerTree_)))return!0;if(goog.isString(t))t=new goog.events.Event(t,e);else if(t instanceof goog.events.Event)t.target=t.target||e;else{var n=t;t=new goog.events.Event(r,e);goog.object.extend(t,n)}var i,o,r,s;n=1;if(r=!0 in(o=o[r])){for(i=[],s=e;s;s=s.getParentEventTarget())i.push(s);(s=o[!0]).remaining_=s.count_;for(var a=i.length-1;!t.propagationStopped_&&0<=a&&s.remaining_;a--)t.currentTarget=i[a],n&=goog.events.fireListeners_(s,i[a],t.type,!0,t)&&0!=t.returnValue_}if(!1 in o)if((s=o[!1]).remaining_=s.count_,r)for(a=0;!t.propagationStopped_&&a<i.length&&s.remaining_;a++)t.currentTarget=i[a],n&=goog.events.fireListeners_(s,i[a],t.type,!1,t)&&0!=t.returnValue_;else for(o=e;!t.propagationStopped_&&o&&s.remaining_;o=o.getParentEventTarget())t.currentTarget=o,n&=goog.events.fireListeners_(s,o,t.type,!1,t)&&0!=t.returnValue_;return Boolean(n)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,t){if(!goog.events.listeners_[e])return!0;var n=goog.events.listeners_[e],i=n.type;if(!(i in(s=goog.events.listenerTree_)))return!0;var o,r,s=s[i];if(goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT)return i=new goog.events.BrowserEvent(t,this),goog.events.fireListener(n,i);o=t||goog.getObjectByName("window.event");var a=!0 in s,l=!1 in s;if(a){if(goog.events.isMarkedIeEvent_(o))return!0;goog.events.markIeEvent_(o)}var u=new goog.events.BrowserEvent;u.init(o,this),o=!0;try{if(a){for(var c=[],d=u.currentTarget;d;d=d.parentNode)c.push(d);(r=s[!0]).remaining_=r.count_;for(var h=c.length-1;!u.propagationStopped_&&0<=h&&r.remaining_;h--)u.currentTarget=c[h],o&=goog.events.fireListeners_(r,c[h],i,!0,u);if(l)for((r=s[!1]).remaining_=r.count_,h=0;!u.propagationStopped_&&h<c.length&&r.remaining_;h++)u.currentTarget=c[h],o&=goog.events.fireListeners_(r,c[h],i,!1,u)}else o=goog.events.fireListener(n,u)}finally{c&&(c.length=0)}return o},goog.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(e){t=!0}!t&&null!=e.returnValue||(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return e.keyCode<0||null!=e.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.events.EventTarget=function(){goog.Disposable.call(this)},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.EventTarget.prototype.customEvent_=!0,goog.events.EventTarget.prototype.parentEventTarget_=null,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,t,n,i){goog.events.listen(this,e,t,n,i)},goog.events.EventTarget.prototype.removeEventListener=function(e,t,n,i){goog.events.unlisten(this,e,t,n,i)},goog.events.EventTarget.prototype.dispatchEvent=function(e){return goog.events.dispatchEvent(this,e)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),goog.events.removeAll(this),this.parentEventTarget_=null},crow.Graph=function(){this.nodes=[],this.map={},this.version="0",this.validator=new goog.events.EventTarget,this.height=this.width=0,this.addNode=function(e){if(e._initialize(),e.getX&&e.getY){var t=e.getX(),n=e.getY();t+1>this.width&&(this.width=t+1),n+1>this.height&&(this.height=n+1)}this.nodes.push(e),this.map[e.id]=e},this.removeNode=function(e,t,n){if("number"==typeof e){delete this.map[e+"_"+t];for(var i=0;i<this.nodes.length;i++){var o=this.nodes[i];if(o.x==e&&o.y==t){this.nodes.splice(i,1);break}}n&&this.invalidate(e,t)}else delete this.map[e.id]},this.getNode=function(e,t,n){var i;if("function"==typeof e)for(var o=0;o<this.nodes.length;o++){var r=this.nodes[o];if(e.call(r)){i=r;break}}else{if("string"==typeof e)return this.map[e];if("number"!=typeof e)throw Error("x coordinate not provided");if("number"!=typeof t)throw Error("y coordinate not provided");i=this.map[e+"_"+t]}return i||(n&&"number"==typeof e?((i=new crow.BaseNode([e,t])).isBlank=!0,i):void 0)},this.getNodes=function(e){switch(typeof e){case"function":return this.getNodes({filter:e});case"object":var t=e.start||this.nodes[0],n=crow.Graph._lookupAlgorithm(e.algorithm||"linear");if(!(n.prototype instanceof crow.algorithm.SearchAlgorithm))throw Error("only compatible with SearchAlgorithms");return new n(this).search(t,{filter:e.filter});case"undefined":return this.nodes;default:throw Error("unsupported object "+e.toString())}},this.findGoal=function(e){return crow.Graph.findGoal(e,this)},this.invalidate=function(e,t,n,i){if(0==n||0==i)throw Error("dx and dy can't be 0");n&&i?this.validator.dispatchEvent({type:"invalidateRegion",x:e,y:t,dx:n,dy:i}):this.validator.dispatchEvent({type:"invalidatePoint",x:e,y:t})}},crow.Graph.findGoal=function(e,t){crow.Algorithm.initializeDataStructures();var n=e.start||t&&t.nodes[0];if(!n)throw Error("To go somewhere you must know where you start...perhaps you meant to provide a start node?");var i=e.goal,o=crow.Graph._lookupAlgorithm(e.algorithm)||crow.AlgorithmResolver.getAlgorithm();if(!(o.prototype instanceof crow.algorithm.ShortestPathAlgorithm))throw Error("only compatible with ShortestPathAlgorithms");return new o(e.graph=t).findPath(n,i,e)},crow.Graph.algorithm={},crow.Graph.defaultAlgorithm={},crow.Graph.fromTilePlane=function(e,t){if(!window.Effect||!window.Effect.Port)throw Error("EffectGames-specific extensions don't work anywhere else");if(!e)throw Error("tplane is required");if("function"!=typeof t)throw Error("callback not provided or not a function");for(var n=new crow.Graph,i=0,o=e.getMaxTileX();i<o;i++)for(var r=0,s=e.getMaxTileY();r<s;r++){var a=e.lookupTile(i,r);(a=t(a,e.lookupTile(i,r,!0)))&&n.addNode(a)}return n},crow.Graph.fromArray=function(e,t){crow.assert(e instanceof Array,crow.assert.InvalidArgumentType("Array"));for(var n,i=new crow.Graph,o=0,r=0;r<e.length;r++){n=0;for(var s=e[r],a=0;a<s.length;a++){var l=s.charAt(a);(l=t(n,o,l))&&i.addNode(l),n++}o++}return i},crow.Graph.registerAlgorithm=function(e){var t=e.alias;if(!t)throw Error("No alias found for algorithm");crow.Graph.algorithm[t]=e},crow.Graph._lookupAlgorithm=function(e){var t=typeof e;if("string"!==t)return"object"!==t&&"undefined"!==t||!(t=crow.AlgorithmResolver.getAlgorithm(e))?null:t;if(t=crow.Graph.algorithm[e])return t;throw Error("Algorithm `"+e+"` not found")},crow.GraphUtil={distance:{euclidean:function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},manhattan:function(e,t){return Math.abs(e)+Math.abs(t)},chebyshev:function(e,t){return Math.max(Math.abs(e),Math.abs(t))},one:function(){return 1}}},crow.GraphUtil.distance.pythagoras=crow.GraphUtil.distance.euclidean,crow.GraphUtil.distance.maximum=crow.GraphUtil.distance.chebyshev,crow.GraphUtil.distance.manhattan8=crow.GraphUtil.distance.chebyshev,crow.AlgorithmResolver=new function(){this.getAlgorithm=function(e){return this.getAlgorithms(e).dequeue()},this.getAlgorithms=function(e){void 0===(e=e||{}).heuristics_allowed&&(e.heuristics_allowed=!0);var t,n=crow.Graph.algorithm,i=new crow.structs.BucketPriorityQueue(crow.structs.BucketPriorityQueue.REVERSE_KEY_COMPARATOR);for(t in n){var o=n[t],r=o.attributes;if(r){var s=0;s=void 0!==e.min_speed&&e.min_speed>r.min_speed?s-1/0:s+r.min_speed;(e.moving_start&&!r.moving_start||e.moving_goal&&!r.moving_goal||e.unstable_graph&&!r.unstable_graph||!e.heuristics_allowed&&r.heuristics_allowed||e.goal_is_node&&!r.goal_is_node||e.goal_is_callback&&!r.goal_is_callback)&&(s-=1/0),-1/0<s&&i.enqueue(s,o)}}return i}},crow.algorithm={},crow.algorithm.ShortestPathAlgorithm=function(){},crow.algorithm.ShortestPathAlgorithm.prototype=new crow.Algorithm,crow.algorithm.ShortestPathAlgorithm.prototype.findPath=function(){this.wrapperNode=new crow.Algorithm.NodeMap},crow.Node=function(e){e=e||""+Math.random(),this.id=e},crow.Node.prototype.distanceAlgorithm=crow.GraphUtil.distance.manhattan,crow.Node.prototype.distanceToGoal=function(){throw Error("This method (either distanceToGoal or distanceToNeighbor) was called, but is not implemented.  You must override this method in your own class to determine the distance between nodes.")},crow.Node.prototype.distanceToNeighbor=function(){throw Error("distanceToNeighbor must be overridden")},crow.Node.prototype.getNeighbors=function(){throw Error("This method (getNeighbors) was called, but is not implemented.  You need to implement it so that the algorithm knows how to find the nodes reachable from the current node.")},crow.GridNode=function(e){crow.Node.apply(this),e&&(this.x=e[0],this.y=e[1]),this._initialized=this.isBlank=!1},crow.GridNode.prototype=new crow.Node,crow.GridNode.prototype._initialize=function(){if(!this._initialized){this._initialized=!0;var e=this.getX(),t=this.getY();if("number"!=typeof e)throw Error("Node must have a valid x coord");if("number"!=typeof t)throw Error("Node must have a valid y coord");e=Math.floor(e),t=Math.floor(t),this.x=e,this.y=t,this.generateId(),delete this.getX,delete this.getY,this.distanceToNeighbor==crow.Node.prototype.distanceToNeighbor&&(this.distanceToNeighbor=this.distanceToGoal)}},crow.GridNode.prototype.getX=function(){return this.x},crow.GridNode.prototype.getY=function(){return this.y},crow.GridNode.prototype.distanceToGoal=function(e){return this.distanceAlgorithm(this.x-e.x,this.y-e.y)},crow.GridNode.prototype.generateId=function(){return this.id=this.x+"_"+this.y},crow.GridNode.prototype.getNeighbors=function(e,t,n){var i=this.x,o=this.y,r=[];for(r.push(e.getNode(i+1,o)),t&&r.push(e.getNode(i+1,o+1)),r.push(e.getNode(i,o+1)),t&&r.push(e.getNode(i-1,o+1)),r.push(e.getNode(i-1,o)),t&&r.push(e.getNode(i-1,o-1)),r.push(e.getNode(i,o-1)),t&&r.push(e.getNode(i+1,o-1)),e=[],t=0;t<r.length;t++)(i=r[t])?e.push(i):n&&e.push(null);return e},crow.BaseNode=crow.GridNode,crow.algorithm.Path=function(e){this.nodes=e.nodes,this.start=e.start,this.end=this.goal=e.goal,this.length=e.length,this.found=e.found,this.actor=this.graph=this.algorithm=null,!(this._baked=!0)===e.baked&&(this._baked=!1,this.algorithm=e.algorithm,this.graph=e.graph,this.actor=e.actor,this.graph&&(this.graph.validator.addEventListener("invalidatePoint",this._invalidatePoint,null,this),this.graph.validator.addEventListener("invalidateRegion",this._invalidateRegion,null,this)))},crow.algorithm.Path.prototype.copyTo=function(e){for(var t in this)e[t]=this[t]},crow.algorithm.Path.prototype._invalidatePoint=function(e){this._baked||this.algorithm._invalidatePoint(this,e)},crow.algorithm.Path.prototype._invalidateRegion=function(e){this._baked||this.algorithm._invalidateRegion(this,e)},crow.algorithm.Path.prototype.advanceTo=function(e){if(crow.assert("number"==typeof e||e instanceof crow.BaseNode,crow.assert.InvalidArgumentType("number or crow.BaseNode")),"number"==typeof e)return crow.assert(0<=e&&e<this.nodes.length,crow.assert.IndexOutBounds(e)),this.advanceTo(this.nodes[e]);var t,n=e.x,i=e.y,o=!1;for(t=0;t<this.nodes.length;t++){var r=this.nodes[t];if(r.x===n&&r.y===i){o=!0;break}}o?(this.start=e,this.found=!1,this.algorithm.moveStart&&this.algorithm.moveStart(this,e)):(this.nodes=[e],this.found=!1,this.end=null)},crow.algorithm.Path.prototype.moveTarget=function(e){if(!this.algorithm.klass.attributes.moving_goal)throw Error(crow.assert.IllegalMethodCall("moveGoal","This method is intended only to be used with algorithms that support moving targets."));this.goal=e,this.found=!1,this.algorithm.moveTarget&&this.algorithm.moveTarget(this,e)},crow.algorithm.Path.prototype.getNextNode=function(){return this.nodes[1]},crow.algorithm.Path.prototype.continueCalculating=function(e){if(this._baked)throw Error("Can't continue calculating a baked path.  Either pass {baked: false} to findGoal, or don't call .bake() on this path yet.");return!!this.found||this.algorithm.continueCalculating(this,e)},crow.algorithm.Path.prototype.bake=function(){this._baked=!0,this.graph&&(this.graph.validator.removeEventListener("invalidatePoint",this._invalidatePoint),this.graph.validator.removeEventListener("invalidateRegion",this._invalidateRegion),this.graph=null),this.actor=this.algorithm=null},crow.algorithm.AStarAlgorithm={},crow.algorithm.AStarAlgorithm=function(e){this.klass=crow.algorithm.AStarAlgorithm,this.graph=e},crow.algorithm.AStarAlgorithm.prototype=new crow.algorithm.ShortestPathAlgorithm,crow.algorithm.AStarAlgorithm.prototype.findPath=function(e,t,n){if(crow.algorithm.ShortestPathAlgorithm.prototype.findPath.apply(this,arguments),"function"==typeof t)throw Error("A* doesn't support using a callback to determine the goal");this._wrapperNode=new crow.Algorithm.NodeMap;var i=(n=n||{}).actor;this.start=e,this.goal=t,this.opts=n,e=this._getWrapperNode(e),this.openSet=new crow.structs.BucketPriorityQueue,this.openSet.enqueue(0,e),e.g=0,e.h=e.innerNode.distanceToGoal(t,i);for(var o,r=!1;o=this.openSet.dequeue();){if(o.innerNode===t){r=!0;break}if(!o.expanded){o.expanded=!0;for(var s=o.innerNode.getNeighbors(this.graph),a=0;a<s.length;a++){var l=this._getWrapperNode(s[a]);if(!l.expanded){var u=o.g+o.innerNode.distanceToNeighbor(l.innerNode,i);if(1/0!=u&&(!this.openSet.contains(l)||u<l.g)){l.parent=o,l.g=u;var c=l.innerNode.distanceToGoal(t,i);l.f=u+c,this.openSet.enqueue(l.f,l)}}}}}if(i={nodes:o=[],start:e.innerNode,goal:t,length:null,recalculate:this.recalculate,algorithm:this,graph:n.graph,baked:n.baked||void 0===n.baked&&!n.limit,actor:i},r){for(r=this._getWrapperNode(t),o.unshift(r.innerNode),s=r.parent;s;)o.unshift(s.innerNode),s=s.parent;return i.end=r.innerNode,i.length=r.g,i.found=!0,new crow.algorithm.Path(i)}return i.end=null,i.length=1/0,i.found=!1,new crow.algorithm.Path(i)},crow.algorithm.AStarAlgorithm.WrapperNode=function(e){this.innerNode=e,this.expanded=!1,this.parent=null,this.g=1/0,this.f=this.h=null},crow.algorithm.AStarAlgorithm.prototype._getWrapperNode=crow.Algorithm.wrapperNodeGetterTemplate(crow.algorithm.AStarAlgorithm.WrapperNode),crow.algorithm.AStarAlgorithm.attributes={min_speed:2,moving_start:!1,moving_goal:!1,unstable_graph:!1,heuristics_allowed:!0,goal_is_node:!0,goal_is_callback:!1},crow.algorithm.AStarAlgorithm.alias="a*",crow.Graph.registerAlgorithm(crow.algorithm.AStarAlgorithm),crow.algorithm.BasicTraversalAlgorithm={},crow.algorithm.BasicTraversalAlgorithm=function(e){this.klass=crow.algorithm.BasicTraversalAlgorithm,this.graph=e},crow.algorithm.BasicTraversalAlgorithm.prototype=new crow.algorithm.ShortestPathAlgorithm,crow.algorithm.BasicTraversalAlgorithm.prototype.findPath=function(e,t,n){crow.algorithm.ShortestPathAlgorithm.prototype.findPath.apply(this,arguments),void 0===n&&(n={}),(e=this._getWrapperNode(e)).distance=0,this.actor=n.actor;for(var i,o=n.filter,r=!1,s=[e],a=[];i=this.getNext(s);){if(i.pending=!1,i.expanded=!0,a.push(i.innerNode),i.innerNode==t){r=!0;break}var l=i.innerNode.getNeighbors(this.graph);n.random&&(l=l.shuffle());for(var u=0;u<l.length;u++){var c=this._getWrapperNode(l[u]);c.expanded||c.pending||!(1/0>i.innerNode.distanceToNeighbor(c.innerNode,this.actor))||o&&!o.call(this,c)||(this.addNext(s,c),c.pending=!0,c.parent=i,c.distance=i.distance+1)}}return this.start=e,this.goal=t,this.list=a,this.resolveResults(r)},crow.algorithm.BasicTraversalAlgorithm.prototype.getNext=function(){throw Error("must implement")},crow.algorithm.BasicTraversalAlgorithm.prototype.addNext=function(e,t){e.push(t)},crow.algorithm.BasicTraversalAlgorithm.prototype.resolveResults=function(e){var t=[],n={nodes:t,start:this.start.innerNode,goal:this.goal,algorithm:this,graph:this.graph,baked:!0,actor:this.actor,found:e};if(e){e=this._getWrapperNode(this.goal),t.unshift(e.innerNode);for(var i=e.parent;i;)t.unshift(i.innerNode),i=i.parent;n.end=e.innerNode,n.length=e.distance}else n.end=null,n.length=1/0;return(t=new crow.algorithm.Path(n)).allNodes=this.list,t},crow.algorithm.BasicTraversalAlgorithm.WrapperNode=function(e){this.innerNode=e,this.pending=this.expanded=!1,this.parent=null,this.distance=1/0},crow.algorithm.BasicTraversalAlgorithm.prototype._getWrapperNode=crow.Algorithm.wrapperNodeGetterTemplate(crow.algorithm.BasicTraversalAlgorithm.WrapperNode),crow.algorithm.BFSAlgorithm=function(e){this.klass=crow.algorithm.BFSAlgorithm,this.graph=e},crow.algorithm.BFSAlgorithm.prototype=new crow.algorithm.BasicTraversalAlgorithm,crow.algorithm.BFSAlgorithm.prototype.getNext=function(e){return e.shift()},crow.algorithm.BFSAlgorithm.alias="bfs",crow.Graph.registerAlgorithm(crow.algorithm.BFSAlgorithm),crow.algorithm.SearchAlgorithm=function(){},crow.algorithm.SearchAlgorithm.prototype=new crow.Algorithm,crow.algorithm.SearchAlgorithm.prototype.search=function(){this.wrapperNode=new crow.Algorithm.NodeMap},crow.algorithm.BFSBasicAlgorithm=function(e){this.klass=crow.algorithm.BFSBasicAlgorithm,this.graph=e},crow.algorithm.BFSBasicAlgorithm.prototype=new crow.algorithm.SearchAlgorithm,crow.algorithm.BFSBasicAlgorithm.prototype.search=function(e,t){return new crow.algorithm.BFSAlgorithm(this.graph).findPath(e,null,t).allNodes},crow.algorithm.BFSBasicAlgorithm.alias="bfs_basic",crow.Graph.registerAlgorithm(crow.algorithm.BFSBasicAlgorithm),crow.algorithm.DFSAlgorithm=function(e){this.klass=crow.algorithm.DFSAlgorithm,this.graph=e},crow.algorithm.DFSAlgorithm.prototype=new crow.algorithm.BasicTraversalAlgorithm,crow.algorithm.DFSAlgorithm.prototype.getNext=function(e){return e.pop()},crow.algorithm.DFSAlgorithm.alias="dfs",crow.Graph.registerAlgorithm(crow.algorithm.DFSAlgorithm),crow.algorithm.DijkstraAlgorithm=function(e){this.klass=crow.algorithm.DijkstraAlgorithm,this.graph=e},crow.algorithm.DijkstraAlgorithm.prototype=new crow.algorithm.ShortestPathAlgorithm,crow.algorithm.DijkstraAlgorithm.prototype.findPath=function(e,t,n){if(crow.algorithm.ShortestPathAlgorithm.prototype.findPath.apply(this,arguments),this.visitedList=[],this.start=e,this.goal=t,this.opts=n||{},n.limit)throw Error("Dijkstra's doesn't support the `limit` option.");var i,o;this.actor=n.actor,this._getWrapperNode(e).distance=0,"function"==typeof t?(this.mainLoop(e),o=!!(i=this.determineClosestEndNode(t))):(o=this.mainLoop(e,t),i=this._getWrapperNode(t));var r=[];if(1/0>i.distance){r.unshift(i.innerNode);for(var s=i.previous;s;)r.unshift(s.innerNode),s=s.previous}return new crow.algorithm.Path({nodes:r,start:e,goal:t,end:o?i.innerNode:null,length:o?i.distance:1/0,found:o,algorithm:this,graph:n.graph,baked:n.baked||void 0===n.baked&&!n.limit,actor:this.actor})},crow.algorithm.DijkstraAlgorithm.prototype.determineClosestEndNode=function(e){for(var t,n=1/0,i=0;i<this.visitedList.length;i++){var o=this.visitedList[i];if(e.call(o.innerNode)){var r=o.distance;r<n&&(t=o,n=r)}}return t},crow.algorithm.DijkstraAlgorithm.prototype.mainLoop=function(e,t){var n=new crow.Algorithm.PriorityQueue;for(e=this._getWrapperNode(e);null!=e;){for(var i=e.innerNode.getNeighbors(this.graph),o=0;o<i.length;o++){var r=this._getWrapperNode(i[o]);if(!r.visited){var s=e.distance+e.innerNode.distanceToNeighbor(r.innerNode,this.actor),a=r.distance;s<a&&(r.distance=s,r.previous=e,a=s),a<1/0&&n.enqueue(a,r)}}if(e.visited=!0,this.visitedList.push(e),e.innerNode===t)return!0;e=n.dequeue()}return!1},crow.algorithm.DijkstraAlgorithm.WrapperNode=function(e){this.innerNode=e,this.visited=!1,this.previous=null,this.distance=1/0},crow.algorithm.DijkstraAlgorithm.prototype._getWrapperNode=crow.Algorithm.wrapperNodeGetterTemplate(crow.algorithm.DijkstraAlgorithm.WrapperNode),crow.algorithm.DijkstraAlgorithm.attributes={min_speed:-2,moving_start:!1,moving_goal:!1,unstable_graph:!1,heuristics_allowed:!1,goal_is_node:!0,goal_is_callback:!0},crow.algorithm.DijkstraAlgorithm.alias="dijkstra",crow.Graph.registerAlgorithm(crow.algorithm.DijkstraAlgorithm),crow.algorithm.FRAStarAlgorithm=function(e){this.klass=crow.algorithm.FRAStarAlgorithm,this.graph=e},crow.algorithm.FRAStarAlgorithm.prototype=new crow.algorithm.ShortestPathAlgorithm,crow.algorithm.FRAStarAlgorithm.prototype._invalidatePoint=function(e,t){crow.Algorithm.prototype._invalidatePoint.apply(this,arguments),this.reset()},crow.algorithm.FRAStarAlgorithm.prototype.reset=function(){this.wrapperNode=new crow.Algorithm.NodeMap,this.start=this._getWrapperNode(this.start.innerNode),this.goal=this._getWrapperNode(this.goal.innerNode),this.iteration=1,this.start.initialize(),this.start.g=0,this.evaluatedList=[],this.openSet=new crow.structs.BucketPriorityQueue,this.openSet.enqueue(0,this.start),this.state=1},crow.algorithm.FRAStarAlgorithm.prototype.ComputePriority=function(e){return e.g+e.innerNode.distanceToGoal(this.goal.innerNode)},crow.algorithm.FRAStarAlgorithm.prototype.TestClosedList=function(e){return e==this.start||!(!e.expanded||!e.parent)},crow.algorithm.FRAStarAlgorithm.prototype.ComputeShortestPath=function(){for(;node=this.openSet.dequeue();)if(!node.expanded){node.expanded=!0;for(var e=node.innerNode.getNeighbors(this.graph,this.neighbors),t=0;t<e.length;t++){var n=this._getWrapperNode(e[t]);if(!this.TestClosedList(n)){n.initialize();var i=node.g+node.innerNode.distanceToNeighbor(n.innerNode);i<n.g&&(n.g=i,n.parent=node,this.openSet.enqueue(this.ComputePriority(n),n))}}if(node==this.goal)return!0}return!1},crow.algorithm.FRAStarAlgorithm.prototype.UpdateParent=function(e){var t=this.cell,n=t.innerNode.getNeighbors(this.graph,this.diagonals);e||(n=n.reverse());for(var i=t.parent,o=(e=-1,0);o<n.length;o++)if(n[o]==i){e=o;break}if(0<=e)for(o=0;o<n.length;o++)if((i=this._getWrapperNode(n[(o+e)%n.length])).g==t.g+t.innerNode.distanceToNeighbor(i.innerNode)&&this.TestClosedList(i))return i.parent=t,this.cell=i,!0;return!1},crow.algorithm.FRAStarAlgorithm.prototype.Step2=function(){for(this.cell=this.start;this.UpdateParent(!1););for(this.cell=this.start;this.UpdateParent(!0););},crow.algorithm.FRAStarAlgorithm.prototype.Step3=function(){this.start.parent=null;for(var t=this.start,n=this.previousStart,e=new crow.algorithm.BFSBasicAlgorithm(this.graph),i=this._getWrapperNode,o=this,r=(e=e.search(this.previousStart.innerNode,{filter:function(e){return 0<=(e=i.call(o,e).ancestors()).indexOf(n)&&e.indexOf(t)<0}}),0);r<e.length;r++){var s=this._getWrapperNode(e[r]);s.parent=null,this.openSet.remove(s)}},crow.algorithm.FRAStarAlgorithm.prototype.FindPerimeter=function(e,t){var n,i=[t],o=e.innerNode.getNeighbors(this.graph,this.diagonals,!0);for(n=0;n<o.length;n++){if((r=o[n])==t.innerNode)break}for(var r=e,s=0;s<o.length;s++){var a=(n+s)%o.length;if(r=o[a])if(r=this._getWrapperNode(r),this.TestClosedList(r)){if(r==e)break;o=r.innerNode.getNeighbors(this.graph,this.diagonals,!0),n=3+a,s=-1}else i[i.length-1]!=r&&i.push(r)}return i},crow.algorithm.FRAStarAlgorithm.prototype.Step5=function(){for(var e=this.FindPerimeter(this.start,this.anchor),t=0;t<e.length;t++){var n=e[t];this.openSet.enqueue(this.ComputePriority(n),n)}var r=this;this.openSet.each(function(e){e.initialize()});var s=[];for(this.openSet.each(function(e){for(var t=e.innerNode.getNeighbors(r.graph,r.diagonals),n=0;n<t.length;n++){var i=r._getWrapperNode(t[n]),o=i.g+i.innerNode.distanceToNeighbor(e.innerNode);r.TestClosedList(i)&&e.g>o&&(e.g=o,e.parent=i,s.push(e))}}),t=0;t<s.length;t++)e=s[t],this.openSet.enqueue(this.ComputePriority(e),e)},crow.algorithm.FRAStarAlgorithm.prototype.findPath=function(e,t,n){n=n||{},crow.algorithm.ShortestPathAlgorithm.prototype.findPath.apply(this,arguments),e=this._getWrapperNode(e),t=this._getWrapperNode(t),this.start=e,this.goal=t,this.opts=n,this.reset();var i=this.resolveResults(this.opts,!1);return this.continueCalculating(i),i},crow.algorithm.FRAStarAlgorithm.prototype.resolveResults=function(e,t){var n;return e=e||{},n=t?{nodes:this.goal.ancestors(!0).concat(this.goal.innerNode),start:this.start.innerNode,goal:this.goal.innerNode,found:!0,length:this.goal.g,algorithm:this,graph:e.graph,baked:e.baked||void 0===e.baked,actor:e.actor}:{nodes:[],start:this.start.innerNode,goal:this.goal.innerNode,found:!1,length:1/0,algorithm:this,graph:e.graph,baked:e.baked||void 0===e.baked,actor:e.actor},new crow.algorithm.Path(n)},crow.algorithm.FRAStarAlgorithm.prototype.updateStart=function(e){for(var t=!1,n=0;n<e.nodes.length;n++)if(e.nodes[n]==this.start.innerNode){e.nodes.splice(0,n),t=!0;break}if(!t)throw Error("Present (start) position not found on path!  FRA* only works if this agent follows the path towards the target.");for(n=t=0;n<e.nodes.length-1;n++)t+=e.nodes[n].distanceToNeighbor(e.nodes[n+1]);e.length=t},crow.algorithm.FRAStarAlgorithm.prototype.continueCalculating=function(e){for(this.start=this._getWrapperNode(this.start),this.goal=this._getWrapperNode(this.goal),this.previousStart&&(this.previousStart=this._getWrapperNode(this.previousStart)),this.previousGoal&&(this.previousGoal=this._getWrapperNode(this.previousGoal));;)switch(this.state){case 1:if(this.start==this.goal)this.state=!0;else{var t=this.ComputeShortestPath(),n=this.resolveResults(null,t);e.found=t,e.nodes=n.nodes,e.length=this.goal.g,t?(this.openListIncomplete=!1,this.state=3):this.state=!1}break;case 3:this.state=this.TestClosedList(this.goal)?4:5;break;case 4:if(this.start!=this.goal)for(t=0;t<e.nodes.length;t++)if(e.nodes[t]==this.goal.innerNode)return this.updateStart(e),!0;this.start==this.goal?this.state=!0:(this.newTarget&&(this.previousGoal=this.goal,this.goal=this._getWrapperNode(this.newTarget),this.newTarget=null),this.previousStart||(this.previousStart=this.start),this.start!=this.previousStart&&(this.Step2(),this.anchor=this.start.parent,this.Step3(),this.openListIncomplete=!0),this.state=3);break;case 5:this.openListIncomplete&&(this.iteration++,this.Step5()),this.state=1;break;case!0:return e.found=!0,e.nodes=[e.goal],!(e.length=0);case!1:return e.found=!1,e.nodes=[],e.length=1/0,!1}},crow.algorithm.FRAStarAlgorithm.prototype.moveStart=function(e,t){this.previousStart=this.start,this.start=t},crow.algorithm.FRAStarAlgorithm.prototype.moveTarget=function(e,t){this.previousGoal=this.goal,this.goal=t},crow.algorithm.FRAStarAlgorithm.WrapperNode=function(e){this.innerNode=e,this.generatedIteration=0,this.expanded=!1,this.parent=this.g=null},crow.algorithm.FRAStarAlgorithm.prototype._getWrapperNode=crow.Algorithm.wrapperNodeGetterTemplate(crow.algorithm.FRAStarAlgorithm.WrapperNode),crow.algorithm.FRAStarAlgorithm.WrapperNode.prototype.initialize=function(){var e=this.algorithm.iteration;this.generatedIteration!=e&&(this.g=1/0,this.generatedIteration=e,this.expanded=!1)},crow.algorithm.FRAStarAlgorithm.WrapperNode.prototype.ancestors=function(e){for(var t=[],n=this.parent;n;)t.unshift(e?n.innerNode:n),n=n.parent;return t},crow.algorithm.FRAStarAlgorithm.attributes={min_speed:2,moving_start:!0,moving_goal:!0,unstable_graph:!1,heuristics_allowed:!0,goal_is_node:!0,goal_is_callback:!1},crow.algorithm.FRAStarAlgorithm.alias="fra*",crow.Graph.registerAlgorithm(crow.algorithm.FRAStarAlgorithm),crow.algorithm.LinearAlgorithm=function(e){this.klass=crow.algorithm.LinearAlgorithm,this.graph=e},crow.algorithm.LinearAlgorithm.prototype=new crow.algorithm.SearchAlgorithm,crow.algorithm.LinearAlgorithm.prototype.search=function(e,t){t=t||{};var n,i=this.graph.getNodes();if(t.filter){n=[];for(var o=0;o<i.length;o++){var r=i[o];t.filter.call(r)&&n.push(r)}}else n=i;return n},crow.algorithm.LinearAlgorithm.alias="linear",crow.Graph.registerAlgorithm(crow.algorithm.LinearAlgorithm),crow.structs.NDArray=function(e){this.arr=[],this.dimensions=e},crow.structs.NDArray.prototype.add=function(e){if(arguments.length-1!=this.dimensions)throw Error(crow.assert.IncorrectArgumentCount(arguments.length,this.dimensions+1));for(var t=this.arr,n=t,i=arguments.length,o=1;o<i-1;o++)void 0===(n=t[arguments[o]])&&(n=t[arguments[o]]=[]),t=n;n[arguments[i-1]]=e},crow.structs.NDArray.prototype.get=function(){if(arguments.length!=this.dimensions)throw new crow.assert.IncorrectArgumentCount(arguments.length,this.dimensions);for(var e=this.arr,t=0;t<arguments.length&&void 0!==e;t++)e=e[arguments[t]];return e},crow.structs.NDArray.prototype.each=function(e){for(var t=0;t<this.arr.length;t++){var n=this.arr[t];void 0!==n&&this._each(e,n,[t])}},crow.structs.NDArray.prototype._each=function(e,t,n){if(t instanceof Array&&n.length<=this.dimensions)for(var i=0;i<t.length;i++){var o=n.slice(0).concat(i),r=t[i];void 0!==r&&this._each(e,r,o)}else n.unshift(t),e.apply(this,n)},crow.algorithm.LPAStarAlgorithm=function(e){this.klass=crow.algorithm.LPAStarAlgorithm,this.graph=e},crow.algorithm.LPAStarAlgorithm.prototype=new crow.algorithm.ShortestPathAlgorithm,crow.algorithm.LPAStarAlgorithm.prototype._CalculateKey=function(e){var t=Math.min(e.g,e.rhs);return[t+e.innerNode.distanceToGoal(this.goal.innerNode),t]},crow.algorithm.LPAStarAlgorithm.prototype._UpdateVertex=function(e){if(e!=this.start){for(var t=e.innerNode.getNeighbors(this.graph,this.diagonals),n=1/0,i=0;i<t.length;i++){var o;(o=(o=this._getWrapperNode(t[i])).g+e.innerNode.distanceToNeighbor(o.innerNode))<n&&(n=o)}e.rhs=n}this.U.remove(e),e.g!=e.rhs&&this.U.enqueue(this._CalculateKey(e),e)},crow.algorithm.LPAStarAlgorithm.prototype.keyComp=function(e,t){return e[0]<t[0]||e[0]==t[0]&&e[1]<t[1]?-1:e[0]==t[0]&&e[1]==t[1]?0:1},crow.algorithm.LPAStarAlgorithm.prototype.updateNeighbors=function(e){e=e.innerNode.getNeighbors(this.graph,this.diagonals);for(var t=0;t<e.length;t++)this._UpdateVertex(this._getWrapperNode(e[t]))},crow.algorithm.LPAStarAlgorithm.prototype.debugGraph=function(){},crow.algorithm.LPAStarAlgorithm.prototype.findPath=function(e,t,n){if("function"==typeof t)throw Error("LPA* doesn't support using a callback to determine the goal");return n=n||{},this._wrapperNode=new crow.Algorithm.NodeMap,this.start=this._getWrapperNode(e),this.goal=this._getWrapperNode(t),this.diagonals=n.diagonals,this.U=new crow.structs.BucketPriorityQueue(this.keyComp),this.start.rhs=0,this.U.enqueue(this._CalculateKey(this.start),this.start),this.mainLoop(),e=this.resolveResults(),new crow.algorithm.Path({nodes:e.nodes,start:this.start.innerNode,goal:this.goal.innerNode,found:e.found,length:e.length,recalculate:this.recalculate,algorithm:this,baked:n.baked||void 0===n.baked&&!n.limit,graph:n.graph})},crow.algorithm.LPAStarAlgorithm.prototype.mainLoop=function(){for(;this.U.length&&(this.keyComp(this.U.peekKey(),this._CalculateKey(this.goal))<0||this.goal.rhs!=this.goal.g);){var e=this.U.dequeue();e.g>e.rhs?(e.g=e.rhs,this.updateNeighbors(e)):(e.g=1/0,this.updateNeighbors(e),this._UpdateVertex(e))}},crow.algorithm.LPAStarAlgorithm.prototype.resolveResults=function(){var e=[],t=this.goal,n=0,i=0;for(this.graph&&(failSafeMaximum=this.graph.width*this.graph.height);t!=this.start&&t;){e.unshift(t.innerNode);for(var o=t.innerNode.getNeighbors(this.graph,this.diagonals),r=1/0,s=null,a=0,l=0,u=0;u<o.length;u++){var c=this._getWrapperNode(o[u]),d=(a=t.innerNode.distanceToNeighbor(c.innerNode),c.g+a);d<r&&(r=d,s=c,l=a)}if((t=s)&&(n+=l),1/0<=++i)throw Error("resolveResults won't terminate")}return(t=t==this.start)||(e=[]),e.unshift(this.start.innerNode),{nodes:e,length:n,found:t}},crow.algorithm.LPAStarAlgorithm.prototype.recalculate=function(){var e=this.algorithm;return e.findPath(e.start,e.goal,e.opts)},crow.algorithm.LPAStarAlgorithm.prototype._invalidatePoint=function(e,t){var n=t.x,i=t.y;for(e.invalidatedPoints||(e.invalidatedPoints=new crow.structs.NDArray(2)),e.invalidatedPoints.add(!0,n,i),n=e.graph.getNode(n,i,!0).getNeighbors(e.graph,e.algorithm.diagonals),i=0;i<n.length;i++){var o=n[i];e.invalidatedPoints.add(!0,o.x,o.y)}e.found=!1},crow.algorithm.LPAStarAlgorithm.prototype.continueCalculating=function(e){if(e.invalidatedPoints){var i=this,o=this._getWrapperNode;e.invalidatedPoints.each(function(e,t,n){(e=i.graph.getNode(t,n))&&i._UpdateVertex(o.call(i,e))}),this.mainLoop(),e.invalidatedPoints=new crow.structs.NDArray(2);var t=this.resolveResults();e.nodes=t.nodes,e.length=t.length,e.found=t.found}return e.found},crow.algorithm.LPAStarAlgorithm.prototype._getWrapperNode=function(e){var t=this._wrapperNode.get(e);return t||(t=new crow.algorithm.LPAStarAlgorithm.WrapperNode(e),this._wrapperNode.set(e,t),t)},crow.algorithm.LPAStarAlgorithm.WrapperNode=function(e){this.innerNode=e,this.g=this.rhs=1/0},crow.algorithm.LPAStarAlgorithm.attributes={min_speed:0,moving_start:!1,moving_goal:!1,unstable_graph:!0,heuristics_allowed:!0,goal_is_node:!0,goal_is_callback:!1},crow.algorithm.LPAStarAlgorithm.alias="lpa*",crow.Graph.registerAlgorithm(crow.algorithm.LPAStarAlgorithm),crow.ConnectedNode=function(e){crow.Node.apply(this,arguments),this.connections=[],this.connectionDistances={}},crow.ConnectedNode.prototype=new crow.Node,crow.ConnectedNode.prototype.connectTo=function(e,t,n){void 0===t&&(t=1),this.connections.push(e),this.connectionDistances[e.id]=t,"false"!=typeof n&&e instanceof crow.ConnectedNode&&(e.connections.push(this),e.connectionDistances[this.id]=t)},crow.ConnectedNode.prototype.getNeighbors=function(){return this.connections},crow.ConnectedNode.prototype.distanceToNeighbor=function(e){return this.connectionDistances[e.id]||1/0},crow.All={};var blocks={};function initBlocks(){for(var e in blocks)blocks[e]&&$("."+e).length&&blocks[e].init&&blocks[e].init()}$(function(){initBlocks(),$("body").removeClass("_loading")});var loadImage=function(t,n){var i=new Image;i.onload=i.onerror=function(e){i.onload=i.onerror=null,n.call(this,"load"==e.type,i,t)},i.src=t};function logObject(e){}function numeralsString(e,t,n,i){var o=e%10;return void 0===e?[]:[e,1==o?t:1<o&&o<5?n:i]}var metro=[{line:" ",stations:[" ",""," ","","",""," "," ",""," ","  ",""," ","",""," ",""," ","-","","",""],color:"cf2028"},{line:" ",stations:["-","","","","","","","","","","","","","","","","","","",""," "," "],color:"13703a"},{line:"- ",stations:["","","","","","","",""," ","","",""," "," ","","","","","","",""," "],color:"283981"},{line:" ",stations:["",""," ","","","","","","",""," ","",""],color:"19a2dc"},{line:" ",stations:[" ","","","","","",""," ","","","",""],color:"8a3127"},{line:"- ",stations:["","",""," ","","",""," ","","","-","","",""," ","",""," ","","",""," ","",""],color:"f78e38"},{line:"- ",stations:["","","","",""," ","",""," 1905 ","",""," ","-","",""," ","",""," ",""," ","",""],color:"a35d94"},{line:" ",stations:["","",""," ",""," ","",""," "," ",""," ",""],color:"fde34f"},{line:"- ",stations:["","","","","-","","","",""," ","","","","","","",""," ","","","","","  ","","  "],color:"abaeba"},{line:"- ",stations:[" ","",""," ","",""," ","","","","","","","","","",""],color:"aad16e"},{line:" ",stations:["","",""],color:"1cb2a7"},{line:" ",stations:[" ",""," "," ","  "," "," "],color:"8ec9ea"}],metroLinesWithIds=[{id:"line0",name:" ",color:"e42518",stations:[{name:" ",id:"line0_19",close:"1",top:312,left:868,labelTop:-11,labelLeft:6},{name:"",id:"line0_18",top:340,left:868,labelTop:-11,labelLeft:6},{name:" ",id:"line0_17",top:369,left:868,labelTop:-11,labelLeft:6},{name:"",id:"line0_16",top:401,left:868,labelTop:-11,labelLeft:6},{name:"",id:"line0_15",top:426,left:868,labelTop:-11,labelLeft:6},{name:"",id:"line0_14",top:472,left:834,labelTop:-1,labelLeft:1},{name:" ",id:"line0_13",top:514,left:792,labelTop:2,labelLeft:-3},{name:" ",id:"line0_12",top:553,left:752,labelTop:-4,labelLeft:6},{name:"",id:"line0_11",top:594,left:712,labelRight:3,labelBottom:0},{name:" ",id:"line0_10",top:675,left:631,labelTop:-13,labelLeft:11},{name:" . ",id:"line0_9",top:752,left:553,labelTop:-3,labelLeft:2},{name:"",id:"line0_8",top:789,left:502,labelTop:5,labelLeft:-50},{name:" ",id:"line0_7",top:803,left:420,labelRight:0,labelBottom:5},{name:"",id:"line0_6",top:830,left:393,labelRight:7,labelBottom:0},{name:"",id:"line0_5",top:857,left:366,labelRight:7,labelBottom:0},{name:" ",id:"line0_4",top:884,left:339,labelRight:6,labelBottom:0},{name:"",id:"line0_3",top:910,left:313,labelRight:7,labelBottom:0},{name:" ",id:"line0_2",top:936,left:287,labelRight:7,labelBottom:-1},{name:"-",id:"line0_1",top:964,left:259,labelRight:7,labelBottom:0},{name:"",id:"line0_0",top:992,left:231,labelRight:6,labelBottom:0},{name:"",id:"line0_20",top:992,left:231,labelRight:6,labelBottom:0},{name:"",id:"line0_22",top:992,left:231,labelRight:6,labelBottom:0}]},{id:"line1",name:" ",color:"4baf4f",stations:[{name:"-",id:"line1_0",top:1159,left:881},{name:"",id:"line1_1",top:1159,left:881},{name:"",id:"line1_2",top:1159,left:787},{name:"",id:"line1_3",top:1116,left:744},{name:"",id:"line1_4",top:1088,left:744},{name:"",id:"line1_5",top:1059,left:743},{name:"",id:"line1_6",top:1008,left:743},{name:"",id:"line1_7",top:973,left:743},{name:"",id:"line1_70",top:945,left:743},{name:"",id:"line1_8",top:945,left:743},{name:"",id:"line1_9",top:899,left:744},{name:"",id:"line1_10",top:808,left:744},{name:"",id:"line1_11",top:660,left:616},{name:"",id:"line1_12",top:593,left:548},{name:"",id:"line1_13",top:554,left:510},{name:"",id:"line1_14",top:483,left:438},{name:"",id:"line1_15",top:446,left:401},{name:"",id:"line1_16",top:368,left:373},{name:"",id:"line1_17",top:339,left:373},{name:"",id:"line1_18",top:311,left:373},{name:" ",id:"line1_19",top:282,left:373},{name:" ",id:"line1_20",top:254,left:373},{name:"",id:"line1_21",top:254,left:373},{name:"",id:"line1_22",top:254,left:373}]},{id:"line2",name:"- ",color:"0572b9",stations:[{name:"",id:"line2_0",top:340,left:991},{name:"",id:"line2_1",top:368,left:991},{name:"",id:"line2_2",top:400,left:991},{name:"",id:"line2_3",top:425,left:990},{name:"",id:"line2_4",top:454,left:991},{name:"",id:"line2_5",top:556,left:939},{name:"",id:"line2_6",top:583,left:912},{name:"",id:"line2_7",top:624,left:857},{name:" ",id:"line2_8",top:689,left:644},{name:"",id:"line2_9",top:722,left:523},{name:"",id:"line2_10",top:723,left:453},{name:"",id:"line2_11",top:722,left:386},{name:" ",id:"line2_12",top:722,left:283},{name:" ",id:"line2_13",top:722,left:171},{name:"",id:"line2_14",top:511,left:126},{name:"",id:"line2_15",top:482,left:127},{name:"",id:"line2_16",top:453,left:126},{name:"",id:"line2_17",top:425,left:126},{name:"",id:"line2_18",top:397,left:126},{name:"",id:"line2_19",top:368,left:126},{name:"",id:"line2_20",top:339,left:127},{name:" ",id:"line2_21",top:339,left:127}]},{id:"line3",name:" ",color:"24bcee",stations:[{name:"",id:"line3_0",top:525,left:141},{name:"",id:"line3_1",top:553,left:141},{name:" ",id:"line3_2",top:582,left:141},{name:"",id:"line3_3",top:610,left:141},{name:"",id:"line3_4",top:639,left:141},{name:"",id:"line3_5",top:707,left:217},{name:"",id:"line3_6",top:708,left:306},{name:"",id:"line3_7",top:708,left:371},{name:"",id:"line3_8",top:708,left:439},{name:"",id:"line3_9",top:707,left:486},{name:" ",id:"line3_10",top:722,left:553}]},{id:"line3",name:" ",color:"24bcee",stations:[{name:"",id:"line3_11",top:658,left:276},{name:"",id:"line3_12",top:629,left:276}]},{id:"line4",name:" ",color:"925233",isCircle:!0,stations:[{name:" ",id:"line4_0",top:789,left:434,labelTop:-13,labelRight:14},{name:"",id:"line4_1",top:864,left:510,labelTop:-10,labelRight:17},{name:"",id:"line4_2",top:896,left:590,labelBottom:3,labelLeft:7},{name:"",id:"line4_3",top:879,left:744,labelTop:1,labelLeft:7},{name:"",id:"line4_4",top:736,left:874,labelTop:5,labelLeft:-42},{name:"",id:"line4_5",top:625,left:885,labelRight:8,labelBottom:2},{name:"",id:"line4_6",top:486,left:819,labelTop:-15,labelLeft:16},{name:" ",id:"line4_7",top:413,left:686,labelTop:-20,labelLeft:16},{name:"",id:"line4_8",top:429,left:542,labelTop:8,labelLeft:1},{name:"",id:"line4_9",top:497,left:452,labelTop:-12,labelLeft:10},{name:"",id:"line4_10",top:608,left:399,labelTop:4,labelLeft:2},{name:"",id:"line4_11",top:708,left:400,labelRight:-6,labelBottom:5}]},{id:"line5",name:"- ",color:"ef7e24",stations:[{name:"",id:"line5_0",top:168,left:744},{name:"",id:"line5_1",top:196,left:744},{name:"",id:"line5_2",top:225,left:744},{name:" ",id:"line5_3",top:254,left:744},{name:"",id:"line5_4",top:282,left:744},{name:"",id:"line5_5",top:311,left:744},{name:"",id:"line5_6",top:339,left:744},{name:" ",id:"line5_7",top:398,left:700},{name:"",id:"line5_8",top:458,left:685},{name:"",id:"line5_9",top:553,left:732},{name:"-",id:"line5_10",top:677,left:836},{name:"",id:"line5_11",top:789,left:764},{name:"",id:"line5_12",top:878,left:495},{name:"",id:"line5_13",top:916,left:466},{name:" ",id:"line5_14",top:945,left:465},{name:"",id:"line5_15",top:973,left:466},{name:"",id:"line5_16",top:1002,left:466},{name:" ",id:"line5_17",top:1031,left:466},{name:"",id:"line5_18",top:1059,left:465},{name:"",id:"line5_19",top:1088,left:465},{name:"",id:"line5_20",top:1116,left:466},{name:" ",id:"line5_21",top:1145,left:466},{name:"",id:"line5_22",top:1173,left:466},{name:"",id:"line5_23",top:1216,left:449}]},{id:"line6",name:"- ",color:"943f90",stations:[{name:"",id:"line6_0",top:282,left:249},{name:"",id:"line6_1",top:311,left:250},{name:"",id:"line6_2",top:340,left:250},{name:"",id:"line6_3",top:340,left:250},{name:"",id:"line6_4",top:396,left:250},{name:" ",id:"line6_5",top:425,left:250},{name:"",id:"line6_6",top:501,left:292},{name:"",id:"line6_7",top:526,left:318},{name:" 1905 ",id:"line6_8",top:552,left:346},{name:"",id:"line6_9",top:594,left:384},{name:"",id:"line6_10",top:608,left:563},{name:" ",id:"line6_11",top:608,left:725},{name:"-",id:"line6_12",top:662,left:821},{name:"",id:"line6_13",top:735,left:853},{name:"",id:"line6_14",top:824,left:942},{name:" ",id:"line6_15",top:888,left:991},{name:"",id:"line6_16",top:917,left:991},{name:"",id:"line6_17",top:945,left:991},{name:" ",id:"line6_18",top:974,left:990},{name:"",id:"line6_19",top:1002,left:991},{name:" ",id:"line6_20",top:1002,left:991},{name:"",id:"line6_21",top:1002,left:991},{name:"",id:"line6_22",top:1072,left:991}]},{id:"line7",name:" ",color:"ffcd1e",stations:[{name:"",id:"line7_0",top:583,left:1059},{name:"",id:"line7_1",top:583,left:1059},{name:"",id:"line7_2",top:609,left:1032},{name:" ",id:"line7_3",top:637,left:1005},{name:"",id:"line7_4",top:664,left:978},{name:" ",id:"line7_5",top:715,left:927},{name:"",id:"line7_6",top:715,left:853},{name:"",id:"line7_7",top:789,left:744}]},{id:"line7",name:" ",color:"ffcd1e",stations:[{name:" ",id:"line7_8",top:789,left:744},{name:" ",id:"line7_9",top:789,left:744},{name:"",id:"line7_10",top:789,left:744},{name:" ",id:"line7_11",top:789,left:744},{name:"",id:"line7_12",top:789,left:744},{name:" ",id:"line7_17",top:789,left:744},{name:"",id:"line7_18",top:789,left:744},{name:"",id:"line7_19",top:789,left:744},{name:"",id:"line7_20",top:789,left:744},{name:" ",id:"line7_21",top:789,left:744},{name:"",id:"line7_22",top:789,left:744},{name:"",id:"line7_23",top:789,left:744},{name:" ",id:"line7_16",top:460,left:420},{name:"",id:"line7_15",top:460,left:420},{name:"",id:"line7_14",top:460,left:420},{name:"",id:"line7_13",top:460,left:420},{name:"",id:"line7_24",top:460,left:420}]},{id:"line8",name:"- ",color:"adacac",stations:[{name:"",id:"line8_0",top:140,left:496},{name:"",id:"line8_1",top:168,left:496},{name:"",id:"line8_2",top:197,left:497},{name:"",id:"line8_3",top:225,left:497},{name:"-",id:"line8_4",top:253,left:497},{name:"",id:"line8_5",top:282,left:496},{name:"",id:"line8_6",top:310,left:496},{name:"",id:"line8_7",top:339,left:497},{name:"",id:"line8_8",top:415,left:527},{name:" ",id:"line8_9",top:508,left:620},{name:"",id:"line8_10",top:593,left:577},{name:"",id:"line8_11",top:752,left:523},{name:"",id:"line8_12",top:845,left:589},{name:"",id:"line8_13",top:916,left:589},{name:"",id:"line8_14",top:945,left:589},{name:"",id:"line8_15",top:973,left:589},{name:"",id:"line8_16",top:1002,left:589},{name:" ",id:"line8_17",top:1030,left:589},{name:"",id:"line8_18",top:1082,left:589},{name:"",id:"line8_19",top:1116,left:589},{name:"",id:"line8_20",top:1145,left:589},{name:"",id:"line8_21",top:1173,left:589},{name:"  ",id:"line8_22",top:1202,left:589},{name:"",id:"line8_23",top:1230,left:589},{name:"  ",id:"line8_24",top:1259,left:590}]},{id:"line9",name:"- ",color:"bed12e",stations:[{name:" ",id:"line9_0",top:339,left:620},{name:"",id:"line9_1",top:368,left:620},{name:"",id:"line9_2",top:487,left:620},{name:" ",id:"line9_3",top:533,left:732},{name:"",id:"line9_4",top:639,left:871},{name:"",id:"line9_5",top:715,left:947},{name:" ",id:"line9_6",top:809,left:956},{name:"",id:"line9_7",top:854,left:911},{name:"",id:"line9_8",top:881,left:884},{name:"",id:"line9_9",top:945,left:867},{name:"",id:"line9_10",top:973,left:867},{name:"",id:"line9_11",top:1002,left:867},{name:"",id:"line9_12",top:1030,left:867},{name:"",id:"line9_13",top:1059,left:867},{name:"",id:"line9_14",top:1059,left:867},{name:"",id:"line9_15",top:1059,left:867},{name:"",id:"line9_16",top:1059,left:867},{name:"",id:"line9_17",top:1059,left:867},{name:"",id:"line9_18",top:1059,left:867},{name:"-",id:"line9_19",top:1059,left:867},{name:"",id:"line9_20",top:1059,left:867},{name:" ",id:"line9_21",top:1059,left:867},{name:"",id:"line9_22",top:1059,left:867}]},{id:"line10",name:" ",color:"89cdcf",stations:[{name:"",id:"line10_0"},{name:"",id:"line10_1"},{name:"",id:"line10_2"}]},{id:"line11",name:" ",color:"bac8e8",stations:[{name:" ",id:"line11_0",top:1273,left:575},{name:"",id:"line11_1",top:1273,left:575},{name:" ",id:"line11_2",top:1273,left:575},{name:" ",id:"line11_3",top:1330,left:489},{name:"  ",id:"line11_4",top:1330,left:430},{name:" ",id:"line11_5",top:1330,left:375},{name:" ",id:"line11_6",top:1330,left:318}]},{id:"line12",name:"",color:"0A72B9",stations:[{name:"",id:"line12_0",top:1273,left:575},{name:". ",id:"line12_1",top:1273,left:575},{name:"",id:"line12_2",top:1273,left:575},{name:".  ",id:"line12_3",top:1330,left:489},{name:" ",id:"line12_4",top:1330,left:430},{name:".  ",id:"line12_5",top:1330,left:375}]},{id:"line14",name:"",color:"ffcec6",stations:[{name:"",id:"line14_0",top:1273,left:575},{name:" ",id:"line14_1",top:1273,left:575},{name:" ",id:"line14_2",top:1273,left:575},{name:"",id:"line14_3",top:1273,left:575},{name:"",id:"line14_4",top:1273,left:575},{name:" ",id:"line14_5",top:1273,left:575},{name:"",id:"line14_6",top:1273,left:575},{name:"",id:"line14_7",top:1273,left:575},{name:" ",id:"line14_8",top:1273,left:575},{name:"",id:"line14_9",top:1273,left:575},{name:"",id:"line14_10",top:1273,left:575},{name:"",id:"line14_11",top:1273,left:575},{name:"",id:"line14_12",top:1273,left:575},{name:"",id:"line14_13",top:1273,left:575},{name:"",id:"line14_14",top:1273,left:575},{name:"",id:"line14_15",top:1273,left:575},{name:"",id:"line14_16",top:1273,left:575},{name:"",id:"line14_17",top:1273,left:575},{name:"",id:"line14_18",top:1273,left:575},{name:" ",id:"line14_19",top:1273,left:575},{name:"",id:"line14_20",top:1273,left:575},{name:"",id:"line14_21",top:1273,left:575},{name:" ",id:"line14_22",top:1273,left:575},{name:"",id:"line14_23",top:1273,left:575},{name:" ",id:"line14_24",top:1273,left:575},{name:"",id:"line14_25",top:1273,left:575},{name:"",id:"line14_26",top:1273,left:575},{name:"",id:"line14_27",top:1273,left:575},{name:"",id:"line14_28",top:1273,left:575},{name:"",id:"line14_29",top:1273,left:575},{name:"",id:"line14_30",top:1273,left:575}]},{id:"line15",name:"  ",color:"89cdcf",stations:[{name:"",id:"line15_0",top:460,left:420},{name:" ",id:"line15_1",top:460,left:420},{name:"",id:"line15_2",top:460,left:420},{name:"",id:"line15_3",top:460,left:420},{name:"",id:"line15_4",top:460,left:420},{name:" ",id:"line15_5",top:460,left:420}]}],metroStationsConnections=[{stations:["line0_22","line0_20"],inside:!0,time:150},{stations:["line0_20","line0_0"],inside:!0,time:200},{stations:["line0_0","line0_1"],inside:!0,time:195},{stations:["line0_1","line0_2"],inside:!0,time:175},{stations:["line0_2","line0_3"],inside:!0,time:180},{stations:["line0_3","line0_4"],inside:!0,time:200},{stations:["line0_4","line0_5"],inside:!0,time:160},{stations:["line0_5","line0_6"],inside:!0,time:100},{stations:["line0_6","line0_7"],inside:!0,time:150},{stations:["line0_7","line0_8"],inside:!0,time:135},{stations:["line0_8","line0_9"],inside:!0,time:110},{stations:["line0_9","line0_10"],inside:!0,time:105},{stations:["line0_10","line0_11"],inside:!0,time:105},{stations:["line0_11","line0_12"],inside:!0,time:120},{stations:["line0_12","line0_13"],inside:!0,time:100},{stations:["line0_13","line0_14"],inside:!0,time:120},{stations:["line0_14","line0_15"],inside:!0,time:110},{stations:["line0_15","line0_16"],inside:!0,time:125},{stations:["line0_16","line0_17"],inside:!0,time:205},{stations:["line0_17","line0_18"],inside:!0,time:220},{stations:["line0_18","line0_19"],inside:!0,time:140},{stations:["line0_7","line4_0"],time:300},{stations:["line0_9","line3_10"],time:300},{stations:["line0_9","line8_11"],time:240},{stations:["line0_12","line9_3"],time:240},{stations:["line0_14","line4_6"],time:300},{stations:["line1_0","line1_1"],inside:!0,time:315},{stations:["line1_1","line1_2"],inside:!0,time:130},{stations:["line1_2","line1_3"],inside:!0,time:135},{stations:["line1_3","line1_4"],inside:!0,time:180},{stations:["line1_4","line1_5"],inside:!0,time:160},{stations:["line1_5","line1_6"],inside:!0,time:195},{stations:["line1_6","line1_7"],inside:!0,time:195},{stations:["line1_7","line1_70"],inside:!0,time:155},{stations:["line1_70","line1_8"],inside:!0,time:145},{stations:["line1_8","line1_9"],inside:!0,time:210},{stations:["line1_9","line1_10"],inside:!0,time:135},{stations:["line1_10","line1_11"],inside:!0,time:165},{stations:["line1_11","line1_12"],inside:!0,time:125},{stations:["line1_12","line1_13"],inside:!0,time:115},{stations:["line1_13","line1_14"],inside:!0,time:115},{stations:["line1_14","line1_15"],inside:!0,time:170},{stations:["line1_15","line1_16"],inside:!0,time:160},{stations:["line1_16","line1_17"],inside:!0,time:135},{stations:["line1_17","line1_18"],inside:!0,time:165},{stations:["line1_18","line1_19"],inside:!0,time:175},{stations:["line1_19","line1_20"],inside:!0,time:140},{stations:["line1_20","line1_22"],inside:!0,time:135},{stations:["line1_22","line1_21"],inside:!0,time:135},{stations:["line1_1","line9_16"],time:360},{stations:["line1_6","line10_0"],time:240},{stations:["line1_9","line4_3"],time:360},{stations:["line1_11","line0_10"],time:240},{stations:["line1_11","line2_8"],time:240},{stations:["line1_12","line6_10"],time:360},{stations:["line1_12","line8_10"],time:360},{stations:["line1_14","line4_9"],time:300},{stations:["line2_0","line2_1"],inside:!0,time:130},{stations:["line2_1","line2_2"],inside:!0,time:180},{stations:["line2_2","line2_3"],inside:!0,time:180},{stations:["line2_3","line2_4"],inside:!0,time:150},{stations:["line2_4","line2_5"],inside:!0,time:110},{stations:["line2_5","line2_6"],inside:!0,time:140},{stations:["line2_6","line2_7"],inside:!0,time:170},{stations:["line2_7","line2_8"],inside:!0,time:170},{stations:["line2_8","line2_9"],inside:!0,time:130},{stations:["line2_9","line2_10"],inside:!0,time:140},{stations:["line2_10","line2_11"],inside:!0,time:100},{stations:["line2_11","line2_12"],inside:!0,time:240},{stations:["line2_12","line2_13"],inside:!0,time:240},{stations:["line2_13","line2_14"],inside:!0,time:120},{stations:["line2_14","line2_15"],inside:!0,time:170},{stations:["line2_15","line2_16"],inside:!0,time:170},{stations:["line2_16","line2_17"],inside:!0,time:480},{stations:["line2_17","line2_18"],inside:!0,time:240},{stations:["line2_18","line2_19"],inside:!0,time:180},{stations:["line2_19","line2_20"],inside:!0,time:180},{stations:["line2_20","line2_21"],inside:!0,time:150},{stations:["line2_7","line4_5"],time:360},{stations:["line2_7","line9_4"],time:300},{stations:["line2_9","line3_10"],time:300},{stations:["line2_9","line8_11"],time:240},{stations:["line2_9","line0_9"],time:320},{stations:["line2_11","line3_7"],time:360},{stations:["line2_11","line4_11"],time:300},{stations:["line2_14","line3_0"],time:240},{stations:["line3_0","line3_1"],inside:!0,time:110},{stations:["line3_1","line3_2"],inside:!0,time:100},{stations:["line3_2","line3_3"],inside:!0,time:100},{stations:["line3_3","line3_4"],inside:!0,time:140},{stations:["line3_4","line3_5"],inside:!0,time:140},{stations:["line3_5","line3_6"],inside:!0,time:100},{stations:["line3_6","line3_7"],inside:!0,time:120},{stations:["line3_7","line3_8"],inside:!0,time:120},{stations:["line3_8","line3_9"],inside:!0,time:130},{stations:["line3_9","line3_10"],inside:!0,time:100},{stations:["line3_11","line3_12"],inside:!0,time:120},{stations:["line3_7","line3_11"],inside:!0,time:420},{stations:["line3_7","line4_11"],time:300},{stations:["line3_11","line7_9"],time:60},{stations:["line4_0","line4_1"],inside:!0,time:100},{stations:["line4_1","line4_2"],inside:!0,time:90},{stations:["line4_2","line4_3"],inside:!0,time:90},{stations:["line4_3","line4_4"],inside:!0,time:110},{stations:["line4_4","line4_5"],inside:!0,time:140},{stations:["line4_5","line4_6"],inside:!0,time:160},{stations:["line4_6","line4_7"],inside:!0,time:140},{stations:["line4_7","line4_8"],inside:!0,time:130},{stations:["line4_8","line4_9"],inside:!0,time:110},{stations:["line4_9","line4_10"],inside:!0,time:140},{stations:["line4_10","line4_11"],inside:!0,time:150},{stations:["line4_11","line4_0"],inside:!0,time:160},{stations:["line12_0","line12_1"],inside:!0,time:150},{stations:["line12_1","line12_2"],inside:!0,time:150},{stations:["line12_2","line12_3"],inside:!0,time:150},{stations:["line12_3","line12_4"],inside:!0,time:150},{stations:["line12_4","line12_5"],inside:!0,time:150},{stations:["line8_5","line12_0"],inside:!0,time:150},{stations:["line9_18","line12_1"],inside:!0,time:150},{stations:["line5_4","line12_4"],inside:!0,time:150},{stations:["line5_0","line5_1"],inside:!0,time:165},{stations:["line5_1","line5_2"],inside:!0,time:160},{stations:["line5_2","line5_3"],inside:!0,time:140},{stations:["line5_3","line5_4"],inside:!0,time:225},{stations:["line5_4","line5_5"],inside:!0,time:130},{stations:["line5_5","line5_6"],inside:!0,time:145},{stations:["line5_6","line5_7"],inside:!0,time:145},{stations:["line5_7","line5_8"],inside:!0,time:110},{stations:["line5_8","line5_9"],inside:!0,time:105},{stations:["line5_9","line5_10"],inside:!0,time:125},{stations:["line5_10","line5_11"],inside:!0,time:180},{stations:["line5_11","line5_12"],inside:!0,time:160},{stations:["line5_12","line5_13"],inside:!0,time:130},{stations:["line5_13","line5_14"],inside:!0,time:185},{stations:["line5_14","line5_15"],inside:!0,time:185},{stations:["line5_15","line5_16"],inside:!0,time:120},{stations:["line5_16","line5_17"],inside:!0,time:120},{stations:["line5_17","line5_18"],inside:!0,time:145},{stations:["line5_18","line5_19"],inside:!0,time:170},{stations:["line5_19","line5_20"],inside:!0,time:115},{stations:["line5_20","line5_21"],inside:!0,time:170},{stations:["line5_21","line5_22"],inside:!0,time:185},{stations:["line5_22","line5_23"],inside:!0,time:135},{stations:["line5_7","line4_7"],time:300},{stations:["line5_9","line0_12"],time:300},{stations:["line5_9","line9_3"],time:300},{stations:["line5_10","line6_12"],time:120},{stations:["line5_11","line7_7"],time:180},{stations:["line5_11","line1_10"],time:240},{stations:["line5_12","line4_1"],time:300},{stations:["line5_23","line11_0"],time:120},{stations:["line6_0","line6_1"],inside:!0,time:100},{stations:["line6_1","line6_2"],inside:!0,time:190},{stations:["line6_2","line6_3"],inside:!0,time:120},{stations:["line6_3","line6_4"],inside:!0,time:120},{stations:["line6_4","line6_5"],inside:!0,time:180},{stations:["line6_5","line6_6"],inside:!0,time:190},{stations:["line6_6","line6_7"],inside:!0,time:130},{stations:["line6_7","line6_8"],inside:!0,time:110},{stations:["line6_8","line6_9"],inside:!0,time:110},{stations:["line6_9","line6_10"],inside:!0,time:140},{stations:["line6_10","line6_11"],inside:!0,time:100},{stations:["line6_11","line6_12"],inside:!0,time:70},{stations:["line6_12","line6_13"],inside:!0,time:150},{stations:["line6_13","line6_14"],inside:!0,time:120},{stations:["line6_14","line6_15"],inside:!0,time:130},{stations:["line6_15","line6_16"],inside:!0,time:230},{stations:["line6_16","line6_17"],inside:!0,time:160},{stations:["line6_17","line6_18"],inside:!0,time:180},{stations:["line6_18","line6_19"],inside:!0,time:150},{stations:["line6_19","line6_20"],inside:!0,time:240},{stations:["line6_20","line6_21"],inside:!0,time:180},{stations:["line6_21","line6_22"],inside:!0,time:120},{stations:["line6_9","line4_10"],time:330},{stations:["line6_10","line8_10"],time:360},{stations:["line6_11","line0_11"],time:240},{stations:["line6_13","line4_4"],time:360},{stations:["line6_13","line7_6"],time:390},{stations:["line6_14","line9_6"],time:330},{stations:["line7_0","line7_1"],inside:!0,time:180},{stations:["line7_1","line7_2"],inside:!0,time:140},{stations:["line7_2","line7_3"],inside:!0,time:220},{stations:["line7_3","line7_4"],inside:!0,time:130},{stations:["line7_4","line7_5"],inside:!0,time:160},{stations:["line7_5","line7_6"],inside:!0,time:150},{stations:["line7_6","line7_7"],inside:!0,time:140},{stations:["line7_8","line7_9"],inside:!0,time:360},{stations:["line7_8","line7_10"],inside:!0,time:240},{stations:["line7_10","line7_11"],inside:!0,time:240},{stations:["line7_11","line7_12"],inside:!0,time:120},{stations:["line7_12","line7_17"],inside:!0,time:120},{stations:["line7_17","line7_18"],inside:!0,time:220},{stations:["line7_18","line7_19"],inside:!0,time:200},{stations:["line7_19","line7_20"],inside:!0,time:180},{stations:["line7_20","line7_21"],inside:!0,time:150},{stations:["line7_21","line7_22"],inside:!0,time:120},{stations:["line7_22","line7_23"],inside:!0,time:120},{stations:["line7_24","line7_16"],inside:!0,time:180},{stations:["line7_16","line7_15"],inside:!0,time:160},{stations:["line7_15","line7_14"],inside:!0,time:140},{stations:["line7_14","line7_13"],inside:!0,time:250},{stations:["line7_8","line7_13"],inside:!0,time:270},{stations:["line7_5","line9_5"],time:360},{stations:["line7_6","line4_4"],time:240},{stations:["line7_7","line1_10"],time:240},{stations:["line7_24","line15_0"],inside:!0,time:60},{stations:["line7_24","line8_7"],inside:!0,time:180},{stations:["line8_0","line8_1"],inside:!0,time:160},{stations:["line8_1","line8_2"],inside:!0,time:170},{stations:["line8_2","line8_3"],inside:!0,time:150},{stations:["line8_3","line8_4"],inside:!0,time:140},{stations:["line8_4","line8_5"],inside:!0,time:170},{stations:["line8_5","line8_6"],inside:!0,time:80},{stations:["line8_6","line8_7"],inside:!0,time:110},{stations:["line8_7","line8_8"],inside:!0,time:100},{stations:["line8_8","line8_9"],inside:!0,time:140},{stations:["line8_9","line8_10"],inside:!0,time:90},{stations:["line8_10","line8_11"],inside:!0,time:130},{stations:["line8_11","line8_12"],inside:!0,time:130},{stations:["line8_12","line8_13"],inside:!0,time:100},{stations:["line8_13","line8_14"],inside:!0,time:180},{stations:["line8_14","line8_15"],inside:!0,time:220},{stations:["line8_15","line8_16"],inside:!0,time:100},{stations:["line8_16","line8_17"],inside:!0,time:120},{stations:["line8_17","line8_18"],inside:!0,time:90},{stations:["line8_18","line8_19"],inside:!0,time:120},{stations:["line8_19","line8_20"],inside:!0,time:170},{stations:["line8_20","line8_21"],inside:!0,time:90},{stations:["line8_21","line8_22"],inside:!0,time:130},{stations:["line8_22","line8_23"],inside:!0,time:100},{stations:["line8_23","line8_24"],inside:!0,time:140},{stations:["line8_8","line4_8"],time:270},{stations:["line8_9","line9_2"],time:300},{stations:["line8_13","line4_2"],time:360},{stations:["line8_24","line11_2"],time:240},{stations:["line9_21","line9_22"],inside:!0,time:140},{stations:["line9_20","line9_21"],inside:!0,time:140},{stations:["line9_19","line9_20"],inside:!0,time:140},{stations:["line9_18","line9_19"],inside:!0,time:180},{stations:["line9_17","line9_18"],inside:!0,time:145},{stations:["line9_0","line9_17"],inside:!0,time:200},{stations:["line9_0","line9_1"],inside:!0,time:160},{stations:["line9_1","line9_2"],inside:!0,time:145},{stations:["line9_2","line9_3"],inside:!0,time:145},{stations:["line9_3","line9_4"],inside:!0,time:170},{stations:["line9_4","line9_5"],inside:!0,time:190},{stations:["line9_5","line9_6"],inside:!0,time:165},{stations:["line9_6","line9_7"],inside:!0,time:155},{stations:["line9_7","line9_8"],inside:!0,time:130},{stations:["line9_8","line9_9"],inside:!0,time:250},{stations:["line9_9","line9_10"],inside:!0,time:170},{stations:["line9_10","line9_11"],inside:!0,time:175},{stations:["line9_11","line9_12"],inside:!0,time:200},{stations:["line9_12","line9_13"],inside:!0,time:130},{stations:["line9_13","line9_14"],inside:!0,time:180},{stations:["line9_14","line9_15"],inside:!0,time:135},{stations:["line9_15","line9_16"],inside:!0,time:95},{stations:["line9_4","line4_5"],time:360},{stations:["line8_4","line9_19"],time:180},{stations:["line10_0","line10_1"],inside:!0,time:120},{stations:["line11_0","line11_1"],inside:!0,time:180},{stations:["line11_1","line11_2"],inside:!0,time:180},{stations:["line11_2","line11_3"],inside:!0,time:300},{stations:["line11_3","line11_4"],inside:!0,time:100},{stations:["line11_4","line11_5"],inside:!0,time:120},{stations:["line11_5","line11_6"],inside:!0,time:130},{stations:["line14_0","line14_1"],inside:!0,time:180},{stations:["line14_1","line14_2"],inside:!0,time:180},{stations:["line14_2","line14_3"],inside:!0,time:120},{stations:["line14_3","line14_4"],inside:!0,time:150},{stations:["line14_4","line14_5"],inside:!0,time:120},{stations:["line14_5","line14_6"],inside:!0,time:180},{stations:["line14_6","line14_7"],inside:!0,time:240},{stations:["line14_7","line14_8"],inside:!0,time:120},{stations:["line14_8","line14_9"],inside:!0,time:240},{stations:["line14_9","line14_10"],inside:!0,time:180},{stations:["line14_10","line14_11"],inside:!0,time:210},{stations:["line14_11","line14_12"],inside:!0,time:210},{stations:["line14_12","line14_13"],inside:!0,time:210},{stations:["line14_13","line14_14"],inside:!0,time:150},{stations:["line14_14","line14_15"],inside:!0,time:150},{stations:["line14_15","line14_16"],inside:!0,time:120},{stations:["line14_16","line14_17"],inside:!0,time:120},{stations:["line14_17","line14_18"],inside:!0,time:180},{stations:["line14_18","line14_19"],inside:!0,time:120},{stations:["line14_19","line14_20"],inside:!0,time:150},{stations:["line14_20","line14_21"],inside:!0,time:210},{stations:["line14_21","line14_22"],inside:!0,time:210},{stations:["line14_22","line14_23"],inside:!0,time:240},{stations:["line14_23","line14_24"],inside:!0,time:120},{stations:["line14_24","line14_25"],inside:!0,time:150},{stations:["line14_25","line14_26"],inside:!0,time:150},{stations:["line14_26","line14_27"],inside:!0,time:120},{stations:["line14_27","line14_28"],inside:!0,time:90},{stations:["line14_28","line14_29"],inside:!0,time:210},{stations:["line14_29","line14_30"],inside:!0,time:120},{stations:["line14_0","line14_30"],inside:!0,time:90},{stations:["line14_1","line7_3"],inside:!0,time:480},{stations:["line14_3","line2_3"],inside:!0,time:540},{stations:["line14_4","line0_18"],inside:!0,time:300},{stations:["line14_5","line0_19"],inside:!0,time:480},{stations:["line14_8","line5_3"],time:480},{stations:["line14_9","line8_3"],inside:!0,time:420},{stations:["line14_10","line9_20"],inside:!0,time:420},{stations:["line14_13","line1_18"],inside:!0,time:720},{stations:["line14_15","line6_5"],inside:!0,time:780},{stations:["line14_17","line6_6"],inside:!0,time:720},{stations:["line14_17","line15_3"],inside:!0,time:720},{stations:["line14_17","line7_14"],inside:!0,time:720},{stations:["line14_18","line15_4"],inside:!0,time:240},{stations:["line14_18","line7_13"],inside:!0,time:240},{stations:["line14_19","line3_12"],inside:!0,time:360},{stations:["line14_20","line3_5"],inside:!0,time:360},{stations:["line14_20","line2_12"],inside:!0,time:840},{stations:["line14_21","line0_5"],inside:!0,time:480},{stations:["line14_22","line5_14"],inside:!0,time:360},{stations:["line14_26","line1_8"],inside:!0,time:600},{stations:["line14_27","line9_7"],inside:!0,time:480},{stations:["line14_27","line9_8"],inside:!0,time:720},{stations:["line1_15","line15_1"],inside:!0,time:180},{stations:["line15_0","line15_1"],inside:!0,time:180},{stations:["line15_0","line8_7"],inside:!0,time:180},{stations:["line15_1","line15_2"],inside:!0,time:160},{stations:["line15_2","line15_3"],inside:!0,time:140},{stations:["line15_3","line6_6"],inside:!0,time:180},{stations:["line15_3","line15_4"],inside:!0,time:250},{stations:["line15_4","line15_5"],inside:!0,time:160},{stations:["line15_5","line3_11"],inside:!0,time:120},{stations:["line15_1","line7_16"],inside:!0,time:60},{stations:["line7_16","line1_15"],inside:!0,time:180},{stations:["line7_15","line15_2"],inside:!0,time:60},{stations:["line7_14","line15_3"],inside:!0,time:60},{stations:["line7_13","line15_4"],inside:!0,time:60},{stations:["line7_14","line6_6"],inside:!0,time:180}];function isMobileDevice(){var t=navigator.userAgent,n=!1;return _.each(["Android","webOS","iPhone","iPad","iPod","BlackBerry","Windows Phone"],function(e){t.match(RegExp(e,"i"))&&(n=!0)}),n}function bindMapControl(){var d=blocks.map,i={},e={},t=getSupportedEvents(),n=[];function o(){var e=d.state.shiftX+i.shiftX,t=d.state.shiftY+i.shiftY,n=s(e,t);e&&t&&(d.state.shiftX=n.x,d.state.shiftY=n.y),d.elem.viewport.removeClass("_dragging"),i={}}function r(e,t){var n;e&&t||(e=(n=s(d.state.shiftX,d.state.shiftY)).x,t=n.y),d.elem.viewportIn.css({transform:"translate3d("+e+"px, "+t+"px, 0) scale("+d.state.zoom/2+")"})}function s(e,t){var n,i,o,r,s=d.state,a=s.ox*(s.zoom-1),l=s.oy*(s.zoom-1),u=s.winW/2-s.w/2,c=s.winH/2-s.h/2;return e<(n=Math.min(s.winW-s.safe-s.w-u,s.safe-u)-a)&&(e=n),(o=Math.max(s.winW-s.safe-s.w-u,s.safe-u)+a)<e&&(e=o),t<(i=Math.min(s.winH-s.safe-s.h-c,s.safe-c)-l)&&(t=i),(r=Math.max(s.winH-s.safe-s.h-c,s.safe-c)+l)<t&&(t=r),{x:e,y:t}}function a(e){return 2<e&&(e=2),e<.5&&(e=.5),e}e.onStart=function(e){isMobileDevice()||(i.x1=e.clientX||e.touches&&e.touches[0].clientX,i.y1=e.clientY||e.touches&&e.touches[0].clientY,i.t1=new Date,i.isPressed=!0,d.elem.viewport.addClass("_dragging"),d.elem.viewportIn.css("transition-duration","0s"))},e.onMove=function(e){if(!isMobileDevice()&&i.isPressed){if(i.shiftX=(e.clientX||e.touches&&e.touches[0].clientX)-i.x1,i.shiftY=(e.clientY||e.touches&&e.touches[0].clientY)-i.y1,i.shiftXAbs=Math.abs(i.shiftX),i.shiftYAbs=Math.abs(i.shiftY),i.isMultitouch=i.isMultitouch||!!e.touches&&1<e.touches.length,i.isMultitouch)return void o();!function(){var e=d.state.shiftX+i.shiftX,t=d.state.shiftY+i.shiftY,n=s(e,t);r(n.x,n.y)}(),e.preventDefault&&e.preventDefault()}},e.onEnd=function(e){isMobileDevice()||(d.elem.viewportIn.css("transition-duration","200ms"),o())},e.onWheel=_.throttle(function(e){var t=d.state,n=0<e.wheelDelta?2*t.zoom:t.zoom/2;t.zoom=a(n),r()},500),d.applyState=r,n.push({element:d.elem.viewport[0],event:t[0],handler:e.onStart},{element:d.elem.viewport[0],event:t[1],handler:e.onMove,capture:!0},{element:d.elem.viewport[0],event:t[2],handler:e.onEnd},{element:d.elem.viewport[0],event:t[3],handler:e.onEnd},{element:d.elem.viewport[0],event:"contextmenu",handler:e.onEnd},{element:d.elem.viewport[0],event:"mousewheel",handler:e.onWheel},{element:d.elem.background[0],event:"dragstart",handler:function(e){e.preventDefault()}},{element:d.elem.zoomIn[0],event:"click",handler:function(){var e=2*d.state.zoom;d.state.zoom=a(e),r()}},{element:d.elem.zoomOut[0],event:"click",handler:function(){var e=d.state.zoom/2;d.state.zoom=a(e),r()}});for(var l=0,u=n.length;l<u;l++)eventManager(n[l].element,n[l].event,n[l].handler,n[l].capture)}function getSupportedEvents(){return"ontouchstart"in window?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"]}function eventManager(e,t,n,i,o){i=!!i,e&&(o?e.removeEventListener?e.removeEventListener(t,n,i):$(e).off(t):e.addEventListener?e.addEventListener(t,n,i):$(e).on(t,n))}function getMapLibrary(n){var i=$(".map__library-img"),e=(i.attr("id"),i.attr("class"),i.attr("src"));$.get(e,function(e){var t=document.importNode(e.documentElement,!0);i.replaceWith(t),n()})}!function(d){var i,o;function a(e){d.crow.ConnectedNode.apply(this,arguments)}function r(r){var s={},e=function(){if(metroLinesWithIds)return metroLinesWithIds;var e=metro;return _.map(e,function(e,n){return{id:"line"+n,name:e.line,color:e.color,stations:_.map(e.stations,function(e,t){return{name:e,id:"line"+n+"_station"+t}})}})}(),t=metroStationsConnections;return r=r||{},_.each(e,function(e){var n;_.each(e.stations,function(e){var t=new a(e.id);s[e.id]=t,n||t,n=t})}),_.each(t,function(e){var t,n=_.compact(_.map(e.stations,function(e){return s[e]})),i=e.time||120,o=e.inside?i:r.connectionTime+i;_.each(n,function(e){t&&e.connectTo(t,o),t=e})}),s}function h(e,t){if(e)return e[t]}a.prototype=new d.crow.ConnectedNode,d.PathFinder={findPath:function(u,c){var e={connectionTime:0},t={connectionTime:2e6};i=i||r(e),o=o||r(t);var n=_.map([{graph:i,options:e},{graph:o,options:t}],function(e){var t=e.graph,n=h(t,u),i=h(t,c),o=d.crow.Graph.findGoal({start:n,goal:i,algorithm:"dijkstra"});console.log(o);var r=_.map(o&&o.nodes||[],function(e){return e.id}),s=_.reduce(r,function(e,t,n){0<n&&r[n-1].split("_")[0].replace("line","")!=t.split("_")[0].replace("line","")&&e++;return e},0),a=o.length-e.options.connectionTime*s,l=_.extend(function(e){var o,r=[],t=_.chain(e.nodes).map(function(e,t,n){var i=StationHelper.getStationById(e.id),o=StationHelper.getLineByStationId(e.id);return{_line:o.id,_station:i.id,station:i.name,color:o.color}}).each(function(e,t,n){var i=n[t+1];i&&(e.modifier=e._line==i._line?"train":"afoot")}).map(function(e,t,n){var i=n[t-1],o=n[t+1];return i&&o&&i._line==e._line&&o._line==e._line?(r[r.length-1]++,e=null):r.push(1),e}).compact().each(function(e,t,n){"afoot"!=e.modifier&&t!=n.length-1&&(e.length=r[t])}).value();function s(e){return e&&"train"==e.modifier}function a(e){return void 0!==e}return _.each(t,function(e,t,n){var i=n[t+1];s(e)&&!a(o)?o=0:!s(e)&&s(i)&&a(o)&&o++}),{sections:t,changesCount:o||0}}(o),{duration:parseInt(a/60)});if(0<a)return{raw:o,slices:function(e){for(var t=[],n=e.nodes,i=0;i<n.length;i++){var o=r(n,i);o&&t.push(o)}return t;function r(e,t){var n=e[t],i=e[t-1];if(n&&n.id&&i&&i.id){var o=n.id.split("_")[0],r=i.id.split("_")[0],s=n.id.split("_")[1],a=i.id.split("_")[1];if(o!=r)return _.sortBy([n.id,i.id]).join("-");var l=_.map([s,a],function(e){return _.parseInt(e.replace("station",""))});return o+"_"+_.sortBy(l).join("-")}}}(o),scheme:l,stations:r,time:a,changesCount:l.changesCount}});return _.uniq(_.compact(n),function(e){return JSON.stringify(_.pick(e,"duration","changesCount"))})}}}(window),function(){function s(t){var e=_.flatten(_.map(metroLinesWithIds,function(e){return e.stations}));return _.find(e,function(e){return e.id==t})}window.StationHelper={getStationById:s,findSameStationOnOtherLines:function(t){var n=s(t),e=metroStationsConnections,i=_.filter(e,function(e){return _.contains(e.stations,t)}),o=_.chain(i).map(function(e){return e.stations}).flatten().uniq().value(),r=_.map(o,s);return _.filter(r,function(e){return e.name==n.name})},getLineByStationId:function(e){var t=metroLinesWithIds,n=e.split("_")[0];return _.find(t,function(e){return e.id==n})}}}(),blocks.callout={cls:{callout:".callout",title:".callout__header-title",from:".callout__from",to:".callout__to",info:".callout__header-info"},init:function(){var n=this;$(this.cls.callout).on("click",this.cls.from,function(e){var t=n.getCurrentlySelectedId();t&&(blocks.fromto.setFrom(t),n.hide())}),$(this.cls.callout).on("click",this.cls.to,function(e){var t=n.getCurrentlySelectedId();t&&(blocks.fromto.setTo(t),n.hide())}),$(this.cls.callout).on("click",this.cls.info,function(e){$(".map").addClass("_card_active")})},getCurrentlySelectedId:function(){var e=this.data;if(e){var t=e.id;return e.crossing&&(t=$("[name=crossing]:checked").val()),t}},hide:function(){$(this.cls.callout).hide()},show:function(e){if(e){var t={},n=StationHelper.getStationById(e),i=StationHelper.getLineByStationId(e),o=StationHelper.findSameStationOnOtherLines(e);t.id=e,t.color=i.color,t.title=n.name,o&&1<o.length&&(t.crossing=_.map(o,function(e){var t=StationHelper.getLineByStationId(e.id);return{id:e.id,title:t.isCircle?"":"",color:t.color}}),_.first(t.crossing).checked=!0),this.data=t;var r=Metro.templates.callout({callout:t});$(this.cls.callout).html($(r).html())}$(this.cls.callout).show()}},blocks.apps={init:function(){$(function(){!function(e,t){var n=e,i=n.parent(),o=$(window),r=o.height(),s=i.height()*t;n.css({height:i.outerHeight()+s+"px",top:-s+"px"}),o.on("scroll",function(){var e=o.scrollTop(),t=i.offset().top;t<=e+r&&e<=t+i.outerHeight()&&n.css({top:Math.ceil(-s*(1-(e+r-t)/(r+i.outerHeight())))+"px"})})}($(".apps__iphone"),.5)})}},blocks.card={cls:{article:"card__article",header:"card__article-header",close:"card__close"},init:function(){this.bind()},bind:function(){var t=this,e=$("."+this.cls.header),n=$("."+this.cls.article),i=$("."+this.cls.close);e.on("click",function(){var e=$(this).parents("."+t.cls.article);e.hasClass("_external")||(e.hasClass("_active")?e.removeClass("_active"):(n.removeClass("_active"),e.addClass("_active")))}),i.on("click",function(){$(".map").removeClass("_card_active")})}},blocks.form={init:function(){var e=$(".form__item._date input"),t=$(".form__item._time input");$(document).ready(function(){e.inputmask("d/m/y",{placeholder:"//"}),t.inputmask("hh:mm",{placeholder:":"})})}},blocks.fromto={block:$(".fromto"),cls:{select:"fromto__select",field:"fromto__select-field",fieldIn:"fromto__select-field-in",item:"fromto__select-list-item",input:"fromto__select-input",listIn:"fromto__select-list-in",clear:"fromto__clear"},data:{from:{},to:{}},init:function(){this.block.find("."+this.cls.listIn).html(this.renderOptions(this.viewModel())),this.handlers();var e=n("from"),t=n("to");function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\#&]"+e+"=([^&#]*)").exec(location.hash);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}e&&t&&(this.setFrom(e),this.setTo(t),this.runSearch(),location.hash="")},viewModel:function(){var n=[];return _.each(metroLinesWithIds,function(t){_.each(t.stations,function(e){n.push({id:e.id,label:e.name,color:t.color})})}),_.groupBy(_.sortBy(n,"label"),function(e){return e.label.charAt(0)})},renderOptions:function(e){var n="";return _.each(e,function(e,t){n+='<div class="fromto__select-list-title">'+t+"</div>",_.each(e,function(e){n+='<div class="fromto__select-list-item" style="border-color: #'+e.color+';" data-color="#'+e.color+'" data-id="'+e.id+'">'+e.label+"</div>"})}),n},handlers:function(){var i=this,e=$("."+i.cls.field),t=$("."+i.cls.item),n=$("."+i.cls.input),o=$("."+i.cls.clear),r=$(".map");function s(e,t){t?e.addClass("_active"):e.removeClass("_active");var n=!1;$("."+i.cls.select).each(function(e,t){$(t).hasClass("_active")&&(n=!0)}),n?r.addClass("_sidebar_active"):r.removeClass("_sidebar_active")}e.on("click",function(){var e=$(this).parents("."+i.cls.select),t=$("."+i.cls.select).not("#"+e[0].id);e.hasClass("_active")?(s(e,!1),t.find("."+i.cls.input).val()||s(t,!0)):(s(t,!1),s(e,!0))}),t.on("click",function(){var e=$(this).parents("."+i.cls.select),t=(e.find("."+i.cls.field),e.find("."+i.cls.fieldIn),e.find("."+i.cls.input),$("."+i.cls.select).not("#"+e[0].id)),n=$(this);i.setActive(e,{id:n.data("id"),color:n.data("color"),label:n.text()}),s(e,!1),t.find("."+i.cls.input).val()||s(t,!0)}),n.on("change",function(){}),o.on("click",function(){blocks.map.clearRoute(),blocks.fromto.clearSelects()})},clearSelects:function(){var o=this;$("."+o.cls.select).each(function(){var e=$(this),t=e.find("."+o.cls.field),n=e.find("."+o.cls.fieldIn),i=e.find("."+o.cls.input);t.css("background-color","#e3e4e6").removeClass("_filled"),n.text(n.attr("data-placeholder")),i.val("")})},setActive:function(e,t){var n=e.find("."+this.cls.field),i=e.find("."+this.cls.fieldIn),o=e.find("."+this.cls.input);n.css("background-color",t.color).addClass("_filled"),i.text(t.label),o.val(t.id),this.runSearch()},setFrom:function(e){var t=$("."+this.cls.select),n=StationHelper.getStationById(e),i=StationHelper.getLineByStationId(e);this.setActive(t.first(),{id:e,label:n.name,color:"#"+i.color})},setTo:function(e){var t=$("."+this.cls.select),n=StationHelper.getStationById(e),i=StationHelper.getLineByStationId(e);this.setActive(t.last(),{id:e,label:n.name,color:"#"+i.color})},runSearch:function(){var n=this,e=$("."+n.cls.input),i=$(".map"),t=e.map(function(e,t){return $(t).val()});if(2==(t=_.compact(t)).length){var o=PathFinder.findPath(t[0],t[1]);n.data={scheme:[],paths:[]},_.each(o,function(e,t){0==t&&(blocks.map.drawRoute(e),blocks.map.elem.result.empty()),e.time?(n.data.scheme.push(e.scheme),n.data.paths.push(e),i.addClass("_scheme_active")):i.removeClass("_scheme_active")}),blocks.scheme.render(n.data)}else i.removeClass("_scheme_active")}},blocks.header={init:function(){var t=$(window),n=$(".header"),e=$("body"),i=($(".preloader"),"_sticked__fake"),o="_slimHead",r="_hover",s="_search",a=$(".header__search");$(".nav");e.hasClass("_map")||isMobileDevice()?isMobileDevice()||(n.addClass(i),n.hover(function(e){n.removeClass(i)},function(e){n.addClass(i)})):t.on("scroll",function(){0<t.scrollTop()?e.hasClass("_nav-active")?blocks.nav.close(function(){n.addClass(i).removeClass(s),e.addClass(o)}):(n.addClass(i).removeClass(s),e.addClass(o)):(n.removeClass(i).removeClass(r),e.removeClass(o))}),a.click(function(e){e.preventDefault(),n.addClass(s)}),n.hover(function(e){0<t.scrollTop()&&n.removeClass(i).addClass(r)},function(e){0<t.scrollTop()&&n.addClass(i).removeClass(r).removeClass(s)})}},blocks.map={elem:{viewport:$(".map__viewport"),viewportIn:$(".map__viewport-in"),background:$(".map__layer-img"),route:$("#map-route"),markers:$("#map-markers"),result:$(".map__aside-result"),zoomIn:$(".zoom__in"),zoomOut:$(".zoom__out")},state:{zoom:1,touch:{},shiftX:0,shiftY:0,w:1440,h:1565,ox:720,oy:782,safe:400},init:function(){this.showMarkers(),this.getViewportSize(),this.handlers()},handlers:function(){var e=this,t=$(window);bindMapControl(),t.on("resize",function(){e.getViewportSize()}),this.elem.markers.on("click","g",function(e){e.stopPropagation();var t=$(this).attr("id");0===!$(this).data("open")&&blocks.callout.show(t)}),this.elem.markers.on("click",function(e){e.stopPropagation(),blocks.callout.hide()})},moveUnderCallout:function(e){var t=$(e).offset(),n=t.left,i=t.top,o=$(".callout"),r=o.offset().left+o.width()/2,s=o.offset().top+o.height()+30;this.state.shiftX+=r-n,this.state.shiftY+=s-i,this.applyState(this.state.shiftX,this.state.shiftY)},getViewportSize:function(){var e=this.elem.viewport;this.state.winW=e.width(),this.state.winH=e.height()},drawRoute:function(e){var t=e&&e.slices;console.log(e);var o=e&&e.stations;t&&t.length?($("#map-background").css("opacity",.3),$("#map-route").css("opacity",1)):$("#map-background").css("opacity",1);var n=$("#map-markers").find("g");o&&1<o.length?n.each(function(e,t){var n=$(t),i=n.attr("id");_.contains(o,i)?_.first(o)==i||_.last(o)==i?n.attr("class","_highlighted"):n.attr("class",""):n.attr("class","_faded")}):n.each(function(e,t){$(t).attr("class","")});var i='<svg viewBox="-120 -210 1400 1700">';_.each(t,function(e){i+='<use xlink:href="#'+e+'"></use>'}),i+="</svg>",this.elem.route.html(i)},clearRoute:function(){$("#map-background").css("opacity",1),$("#map-markers").find("g").attr("class",""),$("#map-route").css("opacity",0),$(".map").removeClass("_scheme_active")},showMarkers:function(){var i,o="";getMapLibrary(function(){i=$(".map__library svg"),_.each(metroLinesWithIds,function(e){_.each(e.stations,function(e){var t=i[0].querySelector("symbol[id="+e.id+"]");if(t){var n=e.close?0:1;o+='<g id="'+e.id+'" data-open="'+n+'">'+t.innerHTML+"</g>"}else console.warn("Cannot find a symbol "+e)})}),$("#map-markers").html('<svg viewBox="-120 -210 1400 1700">'+o+"</svg>")})}},blocks.infrastructure={init:function(){$(".infrastructure__header").on("click",function(){$(this).parents(".infrastructure").toggleClass("_active")})}},blocks.message={msg:$(".message"),modifier:"_start",time:10150,closeBtn:$(".message__close"),init:function(){var e=this;$(document).ready(function(){e.msg.addClass(e.modifier)}),setTimeout(function(){e.close()},e.time),e.closeBtn.click(function(){e.close()})},close:function(){$("body").removeClass("_message"),this.msg.fadeOut(100)}},blocks.nav={self:$(".nav"),init:function(){var e=$("body"),t=$(".nav__burger-btn"),n=$(".nav__burger-close"),i=$(".overlay"),o=($(".header"),$(".nav__burger"));isMobileDevice()&&e.addClass("_mobile"),t.on("click",function(){e.addClass("_nav-active"),setTimeout(function(){blocks.nav.open()},200)}),n.on("click",function(){blocks.nav.close(function(){})}),i.on("click",function(){blocks.nav.close(function(){})}),$(".nav__holder-inner").on("scroll",function(){0<$(".nav__holder-inner").scrollTop()?o.addClass("_dark-bg"):o.removeClass("_dark-bg")})},close:function(e){var t=this.self,n=$(".nav__burger"),i=$(".nav__holder"),o=($(".nav__holder-inner"),$("body")),r=$(".overlay");n.addClass("_closing"),t.removeClass("_active"),$(".nav__holder-inner").scrollTop(0),i.bind("transitionend",function(){i.unbind("transitionend"),i.fadeOut(200,function(){r.fadeOut(300),i.removeClass("_side"),n.removeClass("_closing").removeClass("_full"),t.removeClass("_opening"),o.removeClass("_nav-active"),i.fadeIn(200,function(){return e()})})})},open:function(){var e=this.self,t=$(".nav__burger"),n=$(".nav__holder"),i=$(".overlay");t.hasClass("_full")||(t.addClass("_full"),n.fadeOut(100,function(){i.fadeIn(300),n.addClass("_side"),n.fadeIn(100,function(){e.addClass("_active"),e.addClass("_opening")})}))}},blocks.newslist={init:function(){$(".newslist__list").masonry({itemSelector:".newslist__list-item",gutter:15,columnWidth:300})}},blocks.news={init:function(){$(".newslist__list").masonry({itemSelector:".newslist__list-item",gutter:15,columnWidth:300})}},blocks.newspage={init:function(){var e=$(".newspage__slider");e.photor({current:0,delay:300,loop:!0,slidesOnScreen:1,single:!1,keyboard:!1,viewport:"newspage__slider-viewport",layer:"newspage__slider-layer",slide:"newspage__slider-slide",thumbs:"newspage__slider-thumbs",thumbsLayer:"newspage__slider-thumbsWrap",slideImg:"newspage__slider-image",control:"newspage__slider-controls",next:"newspage__slider-next",prev:"newspage__slider-prev"}),$(".newspage__slider-next").on("click",function(){e.fn.photor.next(0)})}},blocks.newsside={init:function(){var e=$(".newsside");$(".newsside__nav-item"),$(".newspage"),$(".newspage__content");this.stick(),e.mouseenter(function(){$("body").css({overflow:"hidden"})}).mouseleave(function(){$("body").css({overflow:"auto"})}),$(".newsside").baron({bar:".newsside__bar",track:".newsside__track",barOnCls:"baron"})},stick:function(){var n=$(".newsside"),i=$(".newsside__nav"),o=$(".header"),r=$(window);r.height()-o.height()<i.height()?n.height(r.height()-(100===o.height()?o.height():50)):n.height(i),r.on("scroll resize",function(){var e=r.scrollTop();r.height()-o.height()<i.height()?n.height(r.height()-(100===o.height()?o.height():50)):n.height(i);var t=$(".footer").offset().top-(r.height()<i.height()?r.height()-50:i.height())-o.height();1<=e&&e<t?(n.css({position:"fixed",top:"50px"}),t/2<e?n.css({transition:"none"}):n.css({transition:"all .4s ease"}),n.height(r.height()-50)):t<=e?n.css({position:"absolute",top:t+o.height()+"px",transition:"none"}):n.css({position:"absolute",top:"100px",transition:"all .4s ease .24s"})})}},blocks.overlook={self:$(".overlook"),cls:{bg:"overlook__viewport-bg",bgImg:"overlook__viewport-bg-img",section:"overlook__section",navLink:"overlook__nav-link"},mod:{autoplay:"_autoplay",loading:"_loading",current:"_current",opened:"_opened"},timers:{},init:function(){var n=this,e=$("."+this.cls.section);this.imageLoaded=0,this.sections=[],this.current=0,e.each(function(e){var t=$(this);loadImage(t.data("background"),function(){n.imageLoaded++})}),this.timers.checkload=setInterval(function(){n.imageLoaded==e.length&&(n.self.removeClass(n.mod.loading),clearInterval(n.timers.checkload),n.bind())},100)},bind:function(){var i,o=this,t=$("."+this.cls.section),r=!0,s=".fotorama__stage__frame",n=".fotorama__nav__frame",a=".fotorama__thumb-border",l=[];o.self.removeClass(o.mod.loading),this.fotorama=i=o.self.on("fotorama:ready",function(){var e=o.self.find(n);t.each(function(e){var t=$(this);l.push({modifier:t.data("modifier"),caption:t.data("title"),img:t.data("background")})}),e.each(function(e){$(this).addClass("_"+l[e].modifier).text(l[e].caption)})}).on("fotorama:stopautoplay",function(){o.self.removeClass(o.mod.autoplay),r=!1}).on("fotorama:show",function(){o.self.find(s);if(!r){var e=o.self.find(a),t=Math.round(100/i.size),n=i.activeIndex*t;e.css({width:t+"%",left:n+"%"})}o.closeSelects()}).on("fotorama:showend",function(e){var t=o.self.find(s).find(".select");t.length&&t.each(function(){var e=$(this);e.hasClass("selectized")||e.hasClass("selectize-control")||(blocks.select.initSelect(e),e.on("change",function(){var e=$(this).parents(".overlook__section");i&&i.stopAutoplay(),o.self.addClass("_minified"),e.addClass("_opened")}),blocks.tariffs.initTariffSelect())})}).fotorama({width:"100%",height:"100%",transition:"dissolve",click:!1,swipe:!1,transitionduration:500}).data("fotorama"),r&&(o.self.addClass(o.mod.autoplay),i.startAutoplay(1e4))},closeSelects:function(){this.self.find("select.select").each(function(){$(this).hasClass("selectize")&&this.selectize.close()})}},blocks.page={init:function(){var t=$(".page__sidebar"),n=$(".page__content"),e=$(".usercontent").find("img"),i=e.length,o=0;i?e.each(function(){var e=$(this).attr("src");loadImage(e,function(){if(++o===i){var e=$(".page").outerHeight();t.height(e),n.height(e)}})}):$(document).ready(function(){var e=$(".page").outerHeight();t.height(e),n.height(e)})}},blocks.priority_block={init:function(){$(function(){!function(e,t){var n=e,i=n.parent(),o=$(window),r=o.height(),s=i.height()*t;n.css({height:i.outerHeight()+s+"px",top:-s+"px"}),o.on("scroll",function(){var e=o.scrollTop(),t=i.offset().top;t<=e+r&&e<=t+i.outerHeight()&&n.css({top:Math.ceil(-s*(1-(e+r-t)/(r+i.outerHeight())))+"px"})})}($(".priority-block__image"),.5)})}},blocks.radio={init:function(){var i=$(".radio__play");i.on("click",function(){var e=$(this),t=$(".radio__player"),n=e.hasClass("_active");i[n?"removeClass":"addClass"]("_active"),t[0][n?"pause":"play"]()})}},blocks.route={block:$(".route"),schemeContainer:$(".route__shown-holder"),init:function(){var o=this,r=this.block,s=$(".route__main"),a=$(".select[name=route-from]"),l=$(".select[name=route-to]");function e(){var e,t=a.val(),n=l.val(),i=Metro.templates.schemewidget;t&&n&&((e=_.min(PathFinder.findPath(t,n),"changesCount").scheme).url="#from="+t+"to="+n,o.schemeContainer.html(i(e)),r.addClass("_show-route")),s.css("height",o.schemeContainer.outerHeight()+"px"),o.widget()}$(".route__shown-close-btn").click(function(){r.removeClass("_show-route");var e=$(".route__items .selectized");e[0].selectize.clear(),e[1].selectize.clear()}),a.on("change",e),l.on("change",e)},widget:function(){var n=$(".schemewidget__head"),i=$(".schemewidget__head-inner"),o=$(".schemewidget__main"),r=$(".schemewidget__main-path");o.on("scroll",function(){var e,t=o.scrollTop();0<t?n.addClass("_dark-bg"):n.removeClass("_dark-bg"),r.each(function(){$(this).offset().top-n.offset().top-120<t&&(e=$(this).index())}),i.hide(),i.eq(e).show()})}},blocks.schedule={block:$(".schedule"),init:function(){var e=$(window),t=this;e.on("resize",function(){t.applyBackground()}),this.applyBackground()},applyBackground:function(){var e=$(".schedule__bg"),t=e.parents(".overlook__section");e.css({backgroundImage:"url("+t.data("bg")+")",width:t.width()+"px",height:t.height()+"px",marginTop:parseInt(-.5*t.height())+"px",marginLeft:parseInt(-.5*t.width())+"px"})}},blocks.scheduleletters={init:function(){var t=$(".scheduleletters__item"),n=$(".schedulestations__item"),e=($(".schedulestations"),t.filter("._active").text());$(".schedulestations__item:contains("+e+")").addClass("_active"),t.click(function(){var e=$(this).text();t.removeClass("_active"),$(this).addClass("_active"),n.removeClass("_active"),$(".schedulestations__item:contains("+e+")").addClass("_active")})}},blocks.schedulepage={init:function(){$(".schedulepage__select select.select._station").selectize({})}},blocks.scheme={cls:{tab:"scheme__tabs-item",path:"scheme__main-path"},init:function(){var a=this;$("body").on("click",".scheme__tabs-item",function(e){var t=$(this),n=t.closest(".scheme"),i=n.find("."+blocks.scheme.cls.tab),o=n.find("."+blocks.scheme.cls.path),r="_current",s=parseInt(t.attr("data-rel"));t.hasClass(r)||(i.removeClass(r),o.removeClass(r),i.filter("[data-rel="+s+"]").addClass(r),o.filter("#path-"+s).addClass(r),blocks.map.drawRoute(a.data.paths[s]))})},viewModel:function(e){var t=_.clone(e);return t.scheme=_.chain(t.scheme).each(function(e,t){0==e.changesCount?e.title=" ":e.title=numeralsString(e.changesCount,"","","").join(" ")}).sortBy("changesCount").value(),t.paths=_.sortBy(t.paths,"changesCount"),t.tabs=1<t.scheme.length,t.scheme&&t.scheme[0]&&(t.scheme[0].current=!0),this.data=t},render:function(e){blocks.map.elem.result.html(Metro.templates.scheme(this.viewModel(e))),blocks.map.drawRoute(this.data.paths[0])}},blocks.schemewidget={init:function(){}},blocks.search={init:function(){var t=$(".header");$(".search__close-btn").click(function(e){e.preventDefault(),t.removeClass("_search")})}},blocks.select={init:function(){var t=this;$(".select").each(function(){var e=$(this);e.parents(".overlook").length||t.initSelect(e)})},initSelect:function(e){var t,n,i=blocks.select,o=e.data("type"),r=e.data("prefix");"station"==o?(t=i.defaults(i.getStationsOptions(e)),"schedule"===r&&(t.onChange=function(e){window.location.href="/schedule/"}),n="_station",e.addClass(n)):"tariffs"==o?(t=i.defaults(i.getTariffsOptions(e)),n="_tariffs",e.addClass(n)):"feedbackType"==o?(t=i.defaults(i.getFBTypeOptions(e)),n="_fb-type",e.addClass(n)):"feedbackCat"==o?(t=i.defaults(i.getFBCatOptions(e)),n="_fb-category",e.addClass(n)):"feedbackTheme"==o?(t=i.defaults(i.getFBThemeOptions(e)),n="_fb-theme",e.addClass(n)):"parking"==o?(t=i.defaults(i.getParkingOptions(e)),n="_station",e.addClass(n)):t=i.defaults(),e.selectize(t)},getStationsOptions:function(e){var n=[];return _.each(metroLinesWithIds,function(t){_.each(t.stations,function(e){n.push({name:e.name,value:e.id,line:t.name,color:t.color})})}),{valueField:"value",labelField:"name",searchField:["name","line"],options:n=_.sortBy(n,"name"),placeholder:e.data("placeholder"),render:{item:function(e,t){return'<div class="selectize-input-field" style="background: #'+e.color+'"><span class="selectize-input-field-text">'+t(e.name)+", "+t(e.line)+"</span></div>"},option:function(e,t){var n=e.name||"";e.color;return'<div class="selectize-dropdown-content-option" style="border-color: #'+e.color+'"><span class="selectize-dropdown-content-option-text">'+t(n)+"</span></div>"}},onChange:function(e){}}},getParkingOptions:function(e){var t=[];return _.each(e.find("option"),function(e){t.push({name:$(e).text(),value:$(e).val(),color:$(e).data("color")})}),{valueField:"value",labelField:"name",searchField:["name"],options:t=_.sortBy(t,"name"),placeholder:e.data("placeholder"),render:{item:function(e,t){return'<div class="selectize-input-field" style="background: #'+e.color+'"><span class="selectize-input-field-text">'+t(e.name)+"</span></div>"},option:function(e,t){var n=e.name||"";e.color;return'<div class="selectize-dropdown-content-option" style="border-color: #'+e.color+'"><span class="selectize-dropdown-content-option-text">'+t(n)+"</span></div>"}}}},getTariffsOptions:function(e){return{valueField:"name",labelField:"name",options:[{modifier:"trine",name:""},{modifier:"unified",name:""},{modifier:"ninety",name:"90 "}],allowEmptyOption:!1}},getFBTypeOptions:function(e){return{valueField:"name",labelField:"name",options:[{modifier:"",name:""},{modifier:"",name:""},{modifier:"",name:""},{modifier:"",name:""}],allowEmptyOption:!1}},getFBCatOptions:function(e){return{valueField:"name",labelField:"name",options:[{modifier:"",name:""},{modifier:"",name:""},{modifier:"",name:""}],allowEmptyOption:!1}},getFBThemeOptions:function(e){return{valueField:"name",labelField:"name",options:[{modifier:"",name:"    "},{modifier:"",name:"    "},{modifier:"",name:"  "},{modifier:"",name:"  "},{modifier:"",name:"  ,   , "},{modifier:"",name:"     "},{modifier:"",name:"- "},{modifier:"",name:" (),    "},{modifier:"",name:"   "}],allowEmptyOption:!1}},defaults:function(e){return _.merge({allowEmptyOption:!0,dropdownParent:"body",maxItems:1,copyClassesToDropdown:!0,openOnFocus:!0},e||{})}},blocks.tariffs={block:$(".tariffs"),init:function(){var e=$(window),t=this;e.on("resize",function(){t.applyBackground()}),this.applyBackground(),$(".tariffs__list-container").baron({direction:"h",bar:".scroller",track:".scroller__track",freeze:!0})},initTariffSelect:function(){var e=$(".tariffs__select ._tariffs"),t=$(".tariffs__list-wrapper");e.on("change",function(){t.removeClass("_active").filter('[data-value="'+e[0].selectize.getValue()+'"]').addClass("_active")})},applyBackground:function(){var e=$(".tariffs__bg"),t=e.parents(".overlook__section");e.css({backgroundImage:"url("+t.data("background")+")",width:t.width()+"px",height:t.height()+"px",marginTop:parseInt(-.5*t.height())+"px",marginLeft:parseInt(-.5*t.width())+"px"})}},blocks.tariffPage={init:function(){$(document).ready(function(){var o=$(".tariffPage__list");o.shuffle({itemSelector:".tariffPage__list-item",gutterWidth:20,columnWidth:0}),$(".tariffPage__filter-item").click(function(e){e.preventDefault(),$(".tariffPage__filter-item").removeClass("_active"),$(this).addClass("_active");var t=$(".tariffPage__list-item"),n=$(this).attr("data-group"),i={reverse:!0,by:function(e){return e.data(n)}};t.removeClass("_disable"),t.each(function(){0===$(this).data(n)&&$(this).addClass("_disable")}),o.shuffle("sort",i)})})}},blocks.tariffDetail={init:function(){$(window);this.navNavigation(),this.setMinHeight(),$(".page__content").css("height","auto"),$(".tariffDetail__qa-title").click(function(){$(this).parent().toggleClass("_open").find(".tariffDetail__qa-text").slideToggle(function(){$(".page__sidebar").css("height","auto"),$(".page__sidebar").height(parseInt($(".page__content").height())+(parseInt($(".page__wrapper").height())-parseInt($(".page__content").height())))})}),$(".tariffDetail__qa-close").click(function(){$(this).parent().slideToggle(function(){$(".page__sidebar").css("height","auto"),$(".page__sidebar").height(parseInt($(".page__content").height())+(parseInt($(".page__wrapper").height())-parseInt($(".page__content").height())))}).parent().toggleClass("_open")})},setMinHeight:function(){var e=$(".tariffDetail__side-nav");$(".tariffDetail__content").each(function(){e.outerHeight()>$(this).outerHeight()&&$(this).css({"min-height":e.outerHeight()+"px"})})},navNavigation:function(){$(".tariffDetail__nav-item"),$(".tariffDetail"),$(".tariffDetail__content")}},blocks.troika={init:function(){$(function(){!function(e,t){var n=e,i=n.parent(),o=$(window),r=o.height(),s=i.height()*t;n.css({height:i.outerHeight()+s+"px",transform:"translate3D(0, "+-s+"px, 0)"}),o.on("scroll",function(){var e=o.scrollTop(),t=i.offset().top;t<=e+r&&e<=t+i.outerHeight()&&n.css({transform:"translate3D(0, "+Math.ceil(-s*(1-(e+r-t)/(r+i.outerHeight())))+"px, 0)"})})}($(".troika__bg"),1)})}},blocks.worktime={block:$(".worktime"),init:function(){var e=$(window),t=this;e.on("resize",function(){t.applyBackground()}),this.applyBackground()},applyBackground:function(){var e=$(".worktime__bg"),t=e.parents(".overlook__section");e.css({backgroundImage:"url("+t.data("bg")+")",width:t.width()+"px",height:t.height()+"px",marginTop:parseInt(-.5*t.height())+"px",marginLeft:parseInt(-.5*t.width())+"px"})}},blocks.zoom={init:function(){this.handlers()},handlers:function(){var e=$(".zoom__in"),t=$(".zoomOut");e.on("click",function(){}),t.on("click",function(){})}},$(document).ready(function(){$(document).on("click",".card__close",function(){$(".map").removeClass("_card_active")}),$(document).on("click",".callout__header-info",function(e){var t=$(loadIcon),n=$(".map .map__aside-card .card"),i=blocks.callout.getCurrentlySelectedId();$(".map").hasClass("_card_active")||$(n).html(""),$.ajax({type:"GET",url:"/metro-map/get_station_info.php",data:"station_code="+i,processData:!1,contentType:!1,dataType:"html",beforeSend:function(){$(n).append(t),$(n).find(".card__header").size()<1&&$(n).append('<header class="card__header"><div class="card__close"></div></header>'),$(".map").addClass("_card_active")},success:function(e){$(t).fadeOut(function(){$(t).remove(),$(n).html("").append(e),blocks.card.init(),blocks.callout.hide()})},error:function(e){$(t).fadeOut(function(){$(n).html("ERROR")})}})}),$(document).on("change",'input[name="map-infrastructure"]',function(){$.ajax({type:"GET",url:"/metro-map/get_infrastructure.php",data:"type="+$(this).val(),processData:!1,contentType:!1,dataType:"json",beforeSend:function(){},success:function(e){$("#map-background").css("opacity",.3),$("#map-markers").find("g").attr("class","_faded"),blocks.infrastructure.clear_trig=!0,blocks.fromto.runSearch(),blocks.infrastructure.clear_trig=!1,0<e.COUNT&&$.map(e.ITEMS,function(e){$("#map-markers").find("g#"+e).attr("class","_highlighted")})},error:function(e){console.log("ERROR AJAX")}})}),blocks.infrastructure.clear=function(){blocks.infrastructure.clear_trig||($(".infrastructure__header").parents(".infrastructure").removeClass("_active"),$('input[name="map-infrastructure"]').prop("checked",!1))},blocks.infrastructure.clear_trig=!1}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AOS=t():e.AOS=t()}(this,function(){return o={},n.m=i=[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(g=!0),g)return p=(0,h.default)(p,m),(0,d.default)(p,m.once),p}function r(){p=(0,f.default)(),o()}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=i((i(n(1)),n(6))),l=i(n(7)),u=i(n(8)),c=i(n(9)),d=i(n(10)),h=i(n(11)),f=i(n(14)),p=[],g=!1,m={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1};e.exports={init:function(e){m=s(m,e),p=(0,f.default)();var t=document.all&&!window.atob;return function(e){return!0===e||"mobile"===e&&c.default.mobile()||"phone"===e&&c.default.phone()||"tablet"===e&&c.default.tablet()||"function"==typeof e&&!0===e()}(m.disable)||t?void p.forEach(function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}):(m.disableMutationObserver||u.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),m.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",m.easing),document.querySelector("body").setAttribute("data-aos-duration",m.duration),document.querySelector("body").setAttribute("data-aos-delay",m.delay),"DOMContentLoaded"===m.startEvent&&-1<["complete","interactive"].indexOf(document.readyState)?o(!0):"load"===m.startEvent?window.addEventListener(m.startEvent,function(){o(!0)}):document.addEventListener(m.startEvent,function(){o(!0)}),window.addEventListener("resize",(0,l.default)(o,m.debounceDelay,!0)),window.addEventListener("orientationchange",(0,l.default)(o,m.debounceDelay,!0)),window.addEventListener("scroll",(0,a.default)(function(){(0,d.default)(p,m.once)},m.throttleDelay)),m.disableMutationObserver||u.default.ready("[data-aos]",r),p)},refresh:o,refreshHard:r}},function(e,t){},,,,,function(g,e){(function(e){"use strict";function r(i,n,e){function o(e){var t=l,n=u;return l=u=void 0,p=e,d=i.apply(n,t)}function r(e){var t=e-f;return void 0===f||n<=t||t<0||m&&c<=e-p}function s(){var e=C();return r(e)?t(e):void(h=setTimeout(s,function(e){var t=n-(e-f);return m?E(t,c-(e-p)):t}(e)))}function t(e){return h=void 0,v&&l?o(e):(l=u=void 0,d)}function a(){var e=C(),t=r(e);if(l=arguments,u=this,f=e,t){if(void 0===h)return function(e){return p=e,h=setTimeout(s,n),g?o(e):d}(f);if(m)return h=setTimeout(s,n),o(f)}return void 0===h&&(h=setTimeout(s,n)),d}var l,u,c,d,h,f,p=0,g=!1,m=!1,v=!0;if("function"!=typeof i)throw new TypeError(b);return n=y(n)||0,_(e)&&(g=!!e.leading,c=(m="maxWait"in e)?w(y(e.maxWait)||0,n):c,v="trailing"in e?!!e.trailing:v),a.cancel=function(){void 0!==h&&clearTimeout(h),l=f=u=h=void(p=0)},a.flush=function(){return void 0===h?d:t(C())},a}function _(e){var t=void 0===e?"undefined":n(e);return!!e&&("object"==t||"function"==t)}function i(e){return"symbol"==(void 0===e?"undefined":n(e))||function(e){return!!e&&"object"==(void 0===e?"undefined":n(e))}(e)&&p.call(e)==t}function y(e){if("number"==typeof e)return e;if(i(e))return o;if(_(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?o:+e}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b="Expected a function",o=NaN,t="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,d="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,h="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,f=d||h||Function("return this")(),p=Object.prototype.toString,w=Math.max,E=Math.min,C=function(){return f.Date.now()};g.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(b);return _(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:i,maxWait:t,trailing:o})}}).call(e,function(){return this}())},function(p,e){(function(e){"use strict";function _(e){var t=void 0===e?"undefined":n(e);return!!e&&("object"==t||"function"==t)}function i(e){return"symbol"==(void 0===e?"undefined":n(e))||function(e){return!!e&&"object"==(void 0===e?"undefined":n(e))}(e)&&f.call(e)==t}function y(e){if("number"==typeof e)return e;if(i(e))return o;if(_(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?o:+e}function b(){return h.Date.now()}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=NaN,t="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,c="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,d="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,h=c||d||Function("return this")(),f=Object.prototype.toString,w=Math.max,E=Math.min;p.exports=function(i,n,e){function o(e){var t=l,n=u;return l=u=void 0,p=e,d=i.apply(n,t)}function r(e){var t=e-f;return void 0===f||n<=t||t<0||m&&c<=e-p}function s(){var e=b();return r(e)?t(e):void(h=setTimeout(s,function(e){var t=n-(e-f);return m?E(t,c-(e-p)):t}(e)))}function t(e){return h=void 0,v&&l?o(e):(l=u=void 0,d)}function a(){var e=b(),t=r(e);if(l=arguments,u=this,f=e,t){if(void 0===h)return function(e){return p=e,h=setTimeout(s,n),g?o(e):d}(f);if(m)return h=setTimeout(s,n),o(f)}return void 0===h&&(h=setTimeout(s,n)),d}var l,u,c,d,h,f,p=0,g=!1,m=!1,v=!0;if("function"!=typeof i)throw new TypeError("Expected a function");return n=y(n)||0,_(e)&&(g=!!e.leading,c=(m="maxWait"in e)?w(y(e.maxWait)||0,n):c,v="trailing"in e?!!e.trailing:v),a.cancel=function(){void 0!==h&&clearTimeout(h),l=f=u=h=void(p=0)},a.flush=function(){return void 0===h?d:t(b())},a}}).call(e,function(){return this}())},function(e,t){"use strict";function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(e){e&&e.forEach(function(e){var t=Array.prototype.slice.call(e.addedNodes),n=Array.prototype.slice.call(e.removedNodes);if(function e(t){var n=void 0,i=void 0;for(n=0;n<t.length;n+=1){if((i=t[n]).dataset&&i.dataset.aos)return!0;if(i.children&&e(i.children))return!0}return!1}(t.concat(n)))return s()})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){};t.default={isSupported:function(){return!!o()},ready:function(e,t){var n=window.document,i=new(o())(r);s=t,i.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(e,t){"use strict";function n(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,s=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,a=(function(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}(l,[{key:"phone",value:function(){var e=n();return!(!i.test(e)&&!o.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=n();return!(!r.test(e)&&!s.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),l);function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l)}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}t.default=new a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,n){var i=window.pageYOffset,o=window.innerHeight;e.forEach(function(e,t){!function(e,t,n){var i=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):void 0===i||"false"!==i&&(n||"true"===i)||e.node.classList.remove("aos-animate")}(e,o+i,n)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(12),r=(i=o)&&i.__esModule?i:{default:i};t.default=function(e,n){return e.forEach(function(e,t){e.node.classList.add("aos-init"),e.position=(0,r.default)(e.node,n.offset)}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(13),s=(i=o)&&i.__esModule?i:{default:i};t.default=function(e,t){var n=0,i=0,o=window.innerHeight,r={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(r.offset&&!isNaN(r.offset)&&(i=parseInt(r.offset)),r.anchor&&document.querySelectorAll(r.anchor)&&(e=document.querySelectorAll(r.anchor)[0]),n=(0,s.default)(e).top,r.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=o/2;break;case"bottom-center":n+=o/2+e.offsetHeight;break;case"center-center":n+=o/2+e.offsetHeight/2;break;case"top-top":n+=o;break;case"bottom-top":n+=e.offsetHeight+o;break;case"center-top":n+=e.offsetHeight/2+o}return r.anchorPlacement||r.offset||isNaN(t)||(i=t),n+i}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,function(e){return{node:e}})}}],n.c=o,n.p="dist/",n(0);function n(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return i[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var i,o}),AOS.init({offset:200,delay:100,duration:700,once:!0});